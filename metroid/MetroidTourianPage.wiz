// -------------------
// METROID source code
// -------------------
// MAIN PROGRAMMERS
//     HAI YUKAMI
//   ZARU SOBAJIMA
//    GPZ SENGOKU
//    N.SHIOTANI
//     M.HOUDAI
// (C) 1986 NINTENDO
//
//Commented by Dirty McDingus (nmikstas@yahoo.com)
//Disassembled using TRaCER by YOSHi 
//Can be reassembled using Ophis.
//Last updated: 3/9/2010

//Tourian (memory page 3)

in tourian_page, 0x8000: do

//-----------------------------------------[ Start of code ]------------------------------------------

def tourian_page_8000:
    goto game_engine_page_F410
def tourian_page_8003:
    goto game_engine_page_F438
def tourian_page_8006:
    goto game_engine_page_F416
    goto game_engine_page_F852
    //($E094)
    goto updateenemyanim
    goto game_engine_page_F68D
    goto game_engine_page_F83E
    goto game_engine_page_F85A
    goto 0xfbb9
    goto game_engine_page_FB88
    goto game_engine_page_FBCA
    goto game_engine_page_F870
def tourian_page_8024:
    //($C27C)
    goto chooseroutine
def tourian_page_8027:
    goto game_engine_page_FD8F
def tourian_page_802A:
    goto 0xeb6e
    goto tourian_page_8244
    goto tourian_page_8318
    goto game_engine_page_FA1E
    goto tourian_page_833F
    goto tourian_page_8395
def tourian_page_803C:
    goto game_engine_page_DD8B
def tourian_page_803F:
    goto 0xfedc
def tourian_page_8042:
    //($CE92)
    goto subtracthealth
def tourian_page_8045:
    //($C3FB)
    goto base10subtract

    word: tourian_page_84FD, tourian_page_84A6, tourian_page_844A, tourian_page_844A, tourian_page_84A6, tourian_page_84FD, 0x83f4, 0x83f4

    x = [pageindex]
    a = [0x405:x]
    a = a << 1
    goto _0007 when negative
    a = [enstatus:x]
    compare a to 0x2
    goto _0007 when ~zero
    call tourian_page_8244
    a = [0x0]
    goto _0001 when ~negative
    //($C3D4)
    call twoscompliment
    [0x66] = a
def _0000:
    call 0x83f5
    call tourian_page_80B8
    [0x66]--
    goto _0000 when ~zero
def _0001:
    goto _0003 when zero
    [0x66] = a
def _0002:
    call 0x844b
    call tourian_page_80FB
    [0x66]--
    goto _0002 when ~zero
def _0003:
    call tourian_page_8318
    a = [0x0]
    goto _0005 when ~negative
    //($C3D4)
    call twoscompliment
    [0x66] = a
def _0004:
    call 0x84a7
    call tourian_page_816E
    [0x66]--
    goto _0004 when ~zero
def _0005:
    goto _0007 when zero
    [0x66] = a
def _0006:
    call 0x84fe
    call tourian_page_8134
    [0x66]--
    goto _0006 when ~zero
def _0007:
    return
 
def tourian_page_80B0:
    y = [endataindex:x]
    a = [tourian_page_977B:y]
    //*2
    a = a << 1
    return

def tourian_page_80B8:
    x = [pageindex]
    goto tourian_page_80FA when carry
    a = [0x405:x]
    goto tourian_page_80C7 when ~negative
def tourian_page_80C1:
    call tourian_page_81FC
    goto tourian_page_80F6
def tourian_page_80C7:
    call tourian_page_80B0
    goto tourian_page_80EA when ~negative
    a = [0x6b03:x]
    goto tourian_page_80C1 when zero
    goto tourian_page_80D8 when ~negative
    call tourian_page_81B1
    goto tourian_page_80E2 when zero
def tourian_page_80D8:
    carry = 1
    [0x402:x] = [0x402:x] >>> 1
    [encounter:x] = [encounter:x] >>> 1
    goto tourian_page_80F6
def tourian_page_80E2:
    [0x402:x] = a
    [encounter:x] = a
    goto tourian_page_80F6 when zero
def tourian_page_80EA:
    a = [tourian_page_977B:y]
    a = a >> 1
    a = a >> 1
    goto tourian_page_80F6 when ~carry
    a = 0x4
    call tourian_page_856B
def tourian_page_80F6:
    a = 0x1
    [0x66] = a
def tourian_page_80FA:
    return
 
def tourian_page_80FB:
    x = [pageindex]
    goto tourian_page_8133 when carry
    a = [0x405:x]
    goto tourian_page_810A when ~negative
def tourian_page_8104:
    call tourian_page_81FC
    goto tourian_page_812F
def tourian_page_810A:
    call tourian_page_80B0
    goto tourian_page_8123 when ~negative
    a = [0x6b03:x]
    goto tourian_page_8104 when zero
    goto tourian_page_8120 when ~negative
    carry = 0
    [0x402:x] = [0x402:x] >>> 1
    [encounter:x] = [encounter:x] >>> 1
    goto tourian_page_812F
def tourian_page_8120:
    call tourian_page_81B1
def tourian_page_8123:
    a = [tourian_page_977B:y]
    a = a >> 1
    a = a >> 1
    goto tourian_page_812F when ~carry
    a = 0x4
    call tourian_page_856B
def tourian_page_812F:
    a = 0x1
    [0x66] = a
def tourian_page_8133:
    return
 
def tourian_page_8134:
    x = [pageindex]
    goto tourian_page_816D when carry
    call tourian_page_80B0
    goto tourian_page_815E when ~negative
    a = [0x405:x]
    goto tourian_page_8148 when negative
def tourian_page_8142:
    call tourian_page_81C7
    goto tourian_page_8169
def tourian_page_8148:
    a = [0x6b03:x]
    goto tourian_page_8142 when zero
    goto tourian_page_8159 when ~negative
    carry = 0
    [0x403:x] = [0x403:x] >>> 1
    [0x407:x] = [0x407:x] >>> 1
    goto tourian_page_8169
def tourian_page_8159:
    call tourian_page_81C0
    goto tourian_page_8169 when zero
def tourian_page_815E:
    a = [tourian_page_977B:y]
    a = a >> 1
    goto tourian_page_8169 when ~carry
    a = 0x1
    call tourian_page_856B
def tourian_page_8169:
    a = 0x1
    [0x66] = a
def tourian_page_816D:
    return

def tourian_page_816E:
    x = [pageindex]
    goto tourian_page_81B0 when carry
    call tourian_page_80B0
    goto tourian_page_81A0 when ~negative
    a = [0x405:x]
    goto tourian_page_8182 when negative
def tourian_page_817C:
    call tourian_page_81C7
    goto tourian_page_81AC
def tourian_page_8182:
    a = [0x6b03:x]
    goto tourian_page_817C when zero
    goto tourian_page_818E when ~negative
    call tourian_page_81C0
    goto tourian_page_8198 when zero
def tourian_page_818E:
    carry = 1
    [0x403:x] = [0x403:x] >>> 1
    [0x407:x] = [0x407:x] >>> 1
    goto tourian_page_81AC
def tourian_page_8198:
    [0x403:x] = a
    [0x407:x] = a
    goto tourian_page_81AC when zero
def tourian_page_81A0:
    call tourian_page_80B0
    a = a >> 1
    a = a >> 1
    goto tourian_page_81AC when ~carry
    a = 0x1
    call tourian_page_856B
def tourian_page_81AC:
    a = 0x1
    [0x66] = a
def tourian_page_81B0:
    return
 
def tourian_page_81B1:
    call tourian_page_81B8
    [0x6afe:x] = a
    return

def tourian_page_81B8:
    a = 0x20
    call game_engine_page_F744
    a = 0x0
    return

def tourian_page_81C0:
    call tourian_page_81B8
    [0x6aff:x] = a
    return

def tourian_page_81C7:
    call tourian_page_81F6
    goto tourian_page_81F5 when ~zero
    a = 0x1
    call tourian_page_856B
    a = [0x6aff:x]
    call game_engine_page_C3D4
    [0x6aff:x] = a

    call tourian_page_81F6
    goto tourian_page_81F5 when ~zero
    call tourian_page_80B0
    carry = 1
    goto tourian_page_81ED when ~negative
    a = 0x0
    a = a -# [0x407:x]
    [0x407:x] = a
def tourian_page_81ED:
    a = 0x0
    a = a -# [0x403:x]
    [0x403:x] = a
def tourian_page_81F5:
    return

def tourian_page_81F6:
    call game_engine_page_F74B
    a = a & 0x20
    return

def tourian_page_81FC:
    call tourian_page_81F6
    goto tourian_page_81F5 when ~zero
    a = 0x4
    call tourian_page_856B
    a = [0x6afe:x]
    call game_engine_page_C3D4
    [0x6afe:x] = a

    call tourian_page_81F6
    goto tourian_page_822A when ~zero
    call tourian_page_80B0
    carry = 1
    goto tourian_page_8222 when ~negative
    a = 0x0
    a = a -# [encounter:x]
    [encounter:x] = a
def tourian_page_8222:
    a = 0x0
    a = a -# [0x402:x]
    [0x402:x] = a
def tourian_page_822A:
    return

def tourian_page_822B:
    a = [0x405:x]
    goto tourian_page_8232 when ~negative
    a = a >> 1
    a = a >> 1
def tourian_page_8232:
    a = a >> 1
    a = [0x408:x]
    a = a <<< 1
    a = a << 1
    y = a
    a = [tourian_page_96DB:y]
    [0x81] = a
    a = [0x96dc:y]
    [0x82] = a
    return

def tourian_page_8244:
    call tourian_page_80B0
    goto tourian_page_824C when ~negative
    goto tourian_page_833F
def tourian_page_824C:
    a = [0x405:x]
    a = a & 0x20
    a = a ^ 0x20
    goto tourian_page_82A2 when zero
    call tourian_page_822B
def tourian_page_8258:
    y = [encounter:x]
def tourian_page_825B:
    a = [[0x81]:y]
    compare a to 0xf0
    goto tourian_page_827F when ~carry
    compare a to 0xfa
    goto tourian_page_827C when zero
    compare a to 0xfb
    goto tourian_page_82B0 when zero
    compare a to 0xfc
    goto tourian_page_82B3 when zero
    compare a to 0xfd
    goto tourian_page_82A5 when zero
    compare a to 0xfe
    goto tourian_page_82DE when zero
    a = 0x0
    [encounter:x] = a
    goto tourian_page_8258 when zero
def tourian_page_827C:
    goto tourian_page_8312
def tourian_page_827F:
    carry = 1
    a = a -# [endelay:x]
    goto tourian_page_8290 when ~zero
    [endelay:x] = a
    y++
    y++
    a = y
    [encounter:x] = a
    goto tourian_page_825B when ~zero
def tourian_page_8290:
    [endelay:x]++
    y++
    a = [[0x81]:y]
    a = a << 1
    push p
    //($C2BE)Divide by 32.
    call adiv32
    p = pop
    goto tourian_page_82A2 when ~carry
    a = a ^ 0xff
    a = a +# 0x0
def tourian_page_82A2:
    [0x0] = a
    return

def tourian_page_82A5:
    [encounter:x]++
    y++
    a = 0x0
    [0x6b01:x] = a
    goto tourian_page_825B when zero
def tourian_page_82B0:
    a = pop
    a = pop
    return

def tourian_page_82B3:
    a = [0x6b03:x]
    goto tourian_page_82BE when ~negative
    call game_engine_page_E770
    goto tourian_page_82C3
def tourian_page_82BE:
    goto tourian_page_82D2 when zero
    call game_engine_page_E77B
def tourian_page_82C3:
    x = [pageindex]
    goto tourian_page_82D2 when carry
    y = [encounter:x]
    y++
    a = 0x0
    [0x6b03:x] = a
    goto tourian_page_82D7 when zero
def tourian_page_82D2:
    y = [encounter:x]
    y--
    y--
def tourian_page_82D7:
    a = y
    [encounter:x] = a
    goto tourian_page_825B
def tourian_page_82DE:
    y--
    y--
    a = y
    [encounter:x] = a
    a = [0x6b03:x]
    goto tourian_page_82EF when ~negative
    call game_engine_page_E770
    goto tourian_page_82F4
def tourian_page_82EF:
    goto tourian_page_82FB when zero
    call game_engine_page_E77B
def tourian_page_82F4:
    x = [pageindex]
    goto tourian_page_82FB when ~carry
    goto tourian_page_8258
def tourian_page_82FB:
    y = [endataindex:x]
    a = [tourian_page_968B:y]
    a = a & 0x20
    goto tourian_page_8312 when zero
    a = [0x405:x]
    a = a ^ 0x5
    a = a | [tourian_page_968B:y]
    a = a & 0x1f
    [0x405:x] = a
def tourian_page_8312:
    call tourian_page_81B1
    goto tourian_page_82A2
def tourian_page_8318:
    call tourian_page_80B0
    goto tourian_page_8320 when ~negative
    goto tourian_page_8395
def tourian_page_8320:
    a = [0x405:x]
    a = a & 0x20
    a = a ^ 0x20
    goto tourian_page_833C when zero
    y = [encounter:x]
    y++
    a = [[0x81]:y]
    x = a
    a = a & 0x8
    push p
    a = x
    a = a & 0x7
    p = pop
    goto tourian_page_833C when zero
    call game_engine_page_C3D4
def tourian_page_833C:
    [0x0] = a
    return

def tourian_page_833F:
    y = 0xe
    a = [0x6afe:x]
    goto tourian_page_835E when negative
    carry = 0
    a = a +# [encounter:x]
    [encounter:x] = a
    a = [0x402:x]
    a = a +# 0x0
    [0x402:x] = a
    goto tourian_page_8376 when ~negative
def tourian_page_8357:
    call game_engine_page_C3D4
    y = 0xf2
    goto tourian_page_8376 when ~zero
def tourian_page_835E:
    call game_engine_page_C3D4
    carry = 1
    [0x0] = a
    a = [encounter:x]
    a = a -# [0x0]
    [encounter:x] = a
    a = [0x402:x]
    a = a -# 0x0
    [0x402:x] = a
    goto tourian_page_8357 when negative
def tourian_page_8376:
    compare a to 0xe
    goto tourian_page_8383 when ~carry
    a = 0x0
    [encounter:x] = a
    a = y
    [0x402:x] = a
def tourian_page_8383:
    a = [0x6afc:x]
    carry = 0
    a = a +# [encounter:x]
    [0x6afc:x] = a
    a = 0x0
    a = a +# [0x402:x]
    [0x0] = a
    return

def tourian_page_8395:
    a = 0x0
    [0x0] = a
    [0x2] = a
    a = 0xe
    [0x1] = a
    [0x3] = a
    a = [0x407:x]
    carry = 0
    a = a +# [0x6aff:x]
    [0x407:x] = a
    [0x4] = a
    a = 0x0
    y = [0x6aff:x]
    goto tourian_page_83B6 when ~negative
    a = 0xff
def tourian_page_83B6:
    a = a +# [0x403:x]
    [0x403:x] = a
    y = a
    goto tourian_page_83D0 when ~negative
    a = 0x0
    carry = 1
    a = a -# [0x407:x]
    [0x4] = a
    a = 0x0
    a = a -# [0x403:x]
    y = a
    call game_engine_page_E449
def tourian_page_83D0:
    a = [0x4]
    compare a to [0x2]
    a = y
    a = a -# [0x3]
    goto tourian_page_83E3 when ~carry
    a = [0x0]
    [0x407:x] = a
    a = [0x1]
    [0x403:x] = a
def tourian_page_83E3:
    a = [0x6afd:x]
    carry = 0
    a = a +# [0x407:x]
    [0x6afd:x] = a
    a = 0x0
    a = a +# [0x403:x]
    [0x0] = a
    return

    x = [pageindex]
    a = [enyroompos:x]
    carry = 1
    a = a -# [enrady:x]
    a = a & 0x7
    carry = 1
    goto tourian_page_8406 when ~zero
    call game_engine_page_E770
def tourian_page_8406:
    y = 0x0
    [0x0] = y
    x = [pageindex]
    goto tourian_page_844A when ~carry
    [0x0]++
    y = [enyroompos:x]
    goto tourian_page_8429 when ~zero
    y = 0xf0
    a = [0x49]
    compare a to 0x2
    goto tourian_page_8429 when carry
    a = [0xfc]
    goto tourian_page_844A when zero
    call tourian_page_8563
    goto tourian_page_844A when zero
    call tourian_page_855A
def tourian_page_8429:
    y--
    a = y
    [enyroompos:x] = a
    compare a to [enrady:x]
    goto tourian_page_8441 when ~zero
    a = [0xfc]
    goto tourian_page_843C when zero
    call tourian_page_8563
    goto tourian_page_8441 when ~zero
def tourian_page_843C:
    [enyroompos:x]++
    carry = 0
    return

def tourian_page_8441:
    a = [0x405:x]
    goto tourian_page_8449 when negative
    [0x6b01:x]++
def tourian_page_8449:
    carry = 1
def tourian_page_844A:
    return

    x = [pageindex]
    a = [enyroompos:x]
    carry = 0
    a = a +# [enrady:x]
    a = a & 0x7
    carry = 1
    goto tourian_page_845C when ~zero
    call game_engine_page_E77B
def tourian_page_845C:
    y = 0x0
    [0x0] = y
    x = [pageindex]
    goto tourian_page_84A6 when ~carry
    [0x0]++
    y = [enyroompos:x]
    compare y to 0xef
    goto tourian_page_8481 when ~zero
    y = 0xff
    a = [0x49]
    compare a to 0x2
    goto tourian_page_8481 when carry
    a = [0xfc]
    goto tourian_page_84A6 when zero
    call tourian_page_8563
    goto tourian_page_84A6 when ~zero
    call tourian_page_855A
def tourian_page_8481:
    y++
    a = y
    [enyroompos:x] = a
    carry = 0
    a = a +# [enrady:x]
    compare a to 0xef
    goto tourian_page_849D when ~zero
    a = [0xfc]
    goto tourian_page_8497 when zero
    call tourian_page_8563
    goto tourian_page_849D when zero
def tourian_page_8497:
    [enyroompos:x]--
    carry = 0
    goto tourian_page_84A6 when ~carry
def tourian_page_849D:
    a = [0x405:x]
    goto tourian_page_84A5 when negative
    [0x6b01:x]--
def tourian_page_84A5:
    carry = 1
def tourian_page_84A6:
    return

    x = [pageindex]
    a = [enxroompos:x]
    carry = 1
    a = a -# [enradx:x]
    a = a & 0x7
    carry = 1
    goto tourian_page_84B8 when ~zero
    call game_engine_page_E8F1
def tourian_page_84B8:
    y = 0x0
    [0x0] = y
    x = [pageindex]
    goto tourian_page_84FD when ~carry
    [0x0]++
    y = [enxroompos:x]
    goto tourian_page_84DA when ~zero
    a = [0x49]
    compare a to 0x2
    goto tourian_page_84DA when ~carry
    a = [0xfd]
    goto tourian_page_84D4 when zero
    call tourian_page_8563
def tourian_page_84D4:
    carry = 0
    goto tourian_page_84FD when zero
    call tourian_page_855A
def tourian_page_84DA:
    [enxroompos:x]--
    a = [enxroompos:x]
    compare a to [enradx:x]
    goto tourian_page_84F4 when ~zero
    a = [0xfd]
    goto tourian_page_84EE when zero
    call tourian_page_8563
    goto tourian_page_84F4 when ~zero
def tourian_page_84EE:
    [enxroompos:x]++
    carry = 0
    goto tourian_page_84FD when ~carry
def tourian_page_84F4:
    a = [0x405:x]
    goto tourian_page_84FC when ~negative
    [0x6b01:x]++
def tourian_page_84FC:
    carry = 1
def tourian_page_84FD:
    return

    x = [pageindex]
    a = [enxroompos:x]
    carry = 0
    a = a +# [enradx:x]
    a = a & 0x7
    carry = 1
    goto tourian_page_850F when ~zero
    call game_engine_page_E8FC
def tourian_page_850F:
    y = 0x0
    [0x0] = y
    x = [pageindex]
    goto tourian_page_8559 when ~carry
    [0x0]++
    [enxroompos:x]++
    goto tourian_page_8536 when ~zero
    a = [0x49]
    compare a to 0x2
    goto tourian_page_8536 when ~carry
    a = [0xfd]
    goto tourian_page_852D when zero
    call tourian_page_8563
    goto tourian_page_8533 when zero
def tourian_page_852D:
    [enxroompos:x]--
    carry = 0
    goto tourian_page_8559 when ~carry
def tourian_page_8533:
    call tourian_page_855A
def tourian_page_8536:
    a = [enxroompos:x]
    carry = 0
    a = a +# [enradx:x]
    compare a to 0xff
    goto tourian_page_8550 when ~zero
    a = [0xfd]
    goto tourian_page_854A when zero
    call tourian_page_8563
    goto tourian_page_8550 when zero
def tourian_page_854A:
    [enxroompos:x]--
    carry = 0
    goto tourian_page_8559 when ~carry
def tourian_page_8550:
    a = [0x405:x]
    goto tourian_page_8558 when ~negative
    [0x6b01:x]--
def tourian_page_8558:
    carry = 1
def tourian_page_8559:
    return

def tourian_page_855A:
    a = [ennametable:x]
    a = a ^ 0x1
    [ennametable:x] = a
    return

def tourian_page_8563:
    a = [ennametable:x]
    a = a ^ [0xff]
    a = a & 0x1
    return

def tourian_page_856B:
    a = a ^ [0x405:x]
    [0x405:x] = a
    return

//---------------------------------[ Object animation data tables ]----------------------------------

//The following tables are indices into the FramePtrTable that correspond to various animations. The
//FramePtrTable represents individual frames and the entries in ObjectAnimIndexTbl are the groups of
//frames responsible for animaton Samus, her weapons and other objects.

def objectanimindextbl:


//Samus run animation.
    byte: 0x3, 0x4, 0x5, 0xff

//Samus front animation.
    byte: 0x7, 0xff

//Samus jump out of ball animation.
    byte: 0x17

//Samus Stand animation.
    byte: 0x8, 0xff

//Samus stand and fire animation.
    byte: 0x22, 0xff

//Samus stand and jump animation.
    byte: 0x4

//Samus Jump animation.
    byte: 0x10, 0xff

//Samus summersault animation.
    byte: 0x17, 0x18, 0x19, 0x1a, 0xff

//Samus run and jump animation.
    byte: 0x3, 0x17, 0xff

//Samus roll animation.
    byte: 0x1e, 0x1d, 0x1c, 0x1b, 0xff

//Bullet animation.
    byte: 0x28, 0xff

//Bullet hit animation.
    byte: 0x2a, 0xf7, 0xff

//Samus jump and fire animation.
    byte: 0x12, 0xff

//Samus run and fire animation.
    byte: 0xc, 0xd, 0xe, 0xff

//Samus point up and shoot animation.
    byte: 0x30

//Samus point up animation.
    byte: 0x2b, 0xff

//Door open animation.
    byte: 0x31, 0x31, 0x33, 0xf7, 0xff

//Door close animation.
    byte: 0x33, 0x33, 0x31, 0xff

//Samus explode animation.
    byte: 0x35, 0xff

//Samus jump and point up animation.
    byte: 0x39, 0x38, 0xff

//Samus run and point up animation.
    byte: 0x40, 0x41, 0x42, 0xff

//Samus run, point up and shoot animation 1.
    byte: 0x46, 0xff

//Samus run, point up and shoot animation 2.
    byte: 0x47, 0xff

//Samus run, point up and shoot animation 3.
    byte: 0x48, 0xff

//Samus on elevator animation 1.
    byte: 0x7, 0xf7, 0xf7, 0x7, 0xf7, 0xf7, 0xf7, 0x7, 0xf7, 0xf7, 0xf7, 0xf7, 0x7, 0xf7, 0xff

//Samus on elevator animation 2.
    byte: 0x23, 0xf7, 0xf7, 0x23, 0xf7, 0xf7, 0xf7, 0x23, 0xf7, 0xf7, 0xf7, 0xf7, 0x23, 0xf7, 0xff

//Samus on elevator animation 3.
    byte: 0x7, 0xf7, 0xf7, 0xf7, 0xf7, 0x7, 0xf7, 0xf7, 0xf7, 0x7, 0xf7, 0xf7, 0x7, 0xf7, 0xff

//Samus on elevator animation 4.
    byte: 0x23, 0xf7, 0xf7, 0xf7, 0xf7, 0x23, 0xf7, 0xf7, 0xf7, 0x23, 0xf7, 0xf7, 0x23, 0xf7, 0xff

//Wave beam animation.
    byte: 0x4b, 0xff

//Bomb tick animation.
    byte: 0x4e, 0x4f, 0xff

//Bomb explode animation.
    byte: 0x3c, 0x4a, 0x49, 0x4a, 0x4d, 0x4a, 0x4d, 0xf7, 0xff

//Missile left animation.
    byte: 0x26, 0xff

//Missile right animation.
    byte: 0x25, 0xff

//Missile up animation.
    byte: 0x27, 0xff

//Missile explode animation.
    byte: 0x67, 0x67, 0x67, 0x68, 0x68, 0x69, 0xf7, 0xff

//----------------------------[ Sprite drawing pointer tables ]--------------------------------------

//The above animation pointers provide an index into the following table
//for the animation sequences.

def frameptrtable:

    word: tourian_page_87CB, tourian_page_87CB, tourian_page_87CB, tourian_page_87CB, 0x87dd, 0x87f0, 0x8802, 0x8802
    word: tourian_page_8818, 0x882c, 0x882c, 0x882c, 0x882c, 0x883e, 0x8851, tourian_page_8863
    word: tourian_page_8863, 0x8874, 0x8874, 0x8885, 0x8885, 0x8885, 0x8885, 0x8885
    word: tourian_page_888F, 0x8899, 0x88a3, 0x88ad, 0x88b8, 0x88c3, 0x88ce, tourian_page_88D9
    word: tourian_page_88D9, tourian_page_88D9, tourian_page_88D9, 0x88ee, 0x88f8, 0x88f8, 0x88fe, 0x8904
    word: tourian_page_890A, 0x890f, 0x890f, 0x8914, tourian_page_8928, tourian_page_8928, tourian_page_8928, tourian_page_8928
    word: tourian_page_8928, 0x893c, 0x8948, 0x8948, 0x8954, 0x8954, tourian_page_8961, tourian_page_8961
    word: tourian_page_8961, 0x8974, 0x8987, 0x8987, 0x8987, tourian_page_8995, tourian_page_8995, tourian_page_8995
    word: tourian_page_8995, 0x89a9, 0x89be, 0x89d2, 0x89d2, 0x89d2, 0x89d2, 0x89e6
    word: tourian_page_89FB, 0x8a0f, 0x8a1d, 0x8a21, 0x8a26, 0x8a26, 0x8a3c, 0x8a41
    word: tourian_page_8A46, 0x8a4e, 0x8a56, 0x8a5e, 0x8a66, 0x8a6e, 0x8a76, 0x8a7e
    word: tourian_page_8A86, 0x8a8e, 0x8a9c, 0x8aa1, 0x8aa6, 0x8aae, 0x8aba, tourian_page_8AC4
    word: tourian_page_8AC4, tourian_page_8AC4, tourian_page_8AC4, tourian_page_8AC4, tourian_page_8AC4, tourian_page_8AC4, 0x8ad8, 0x8ae9
    word: tourian_page_8AF3, 0x8b03

//The following table provides pointers to data used for the placement of the sprites that make up
//Samus and other non-enemy objects.

def placeptrtable:

    word: tourian_page_8701, 0x871f, 0x872b, 0x8737, 0x8747, 0x8751, 0x86fd, 0x875d
    word: tourian_page_8775, 0x878d, 0x8791, 0x8799, 0x87a5, 0x8749, 0x87b1

//------------------------------[ Sprite placement data tables ]-------------------------------------

//Sprite placement data. The placement data is grouped into two byte segments. The first byte is the
//y placement byte and the second is the x placement byte.  If the MSB is set in the byte, the byte
//is in twos compliment format so when it is added to the object position, the end result is to
//decrease the x or y position of the sprite.  The Samus explode table is a special case with special
//data bytes. The format of those data bytes is listed just above the Samus explode data. Each data
//table has a graphical representation above it to show how the sprites are laid out with respect to
//the object position, which is represented by a * in the table. The numbers in the lower right corner
//of the boxes indicates which segment of the data table represents which box in the graphic. Each box
//is filled with an 8x8 sprite.

//Samus pointing up frames. Added to the main Samus animation table below.
//          +--------+ <----0
//          +--------+ <----1
//          |        |
//          |        |
//          |        |
//          +--------+
//          +--------+
//
//
//
//
//
//
//
//
//               *
//              +--0--+   +--1--+
    byte: 0xe8, 0xfc, 0xea, 0xfc

//Several Samus frames.
//      +-------+ <---------------D
//      +-------+ <---------------E
//      |       |
//      |   +---+----+--------+
//      |   |   |    |        |
//      +-------+    |        |
//      +-------+    |        |
//          |       0|       1|
// +----+-+-+----+-+-+--------+
// |    | | |    | | |        |
// |    | | |    | | |        |
// |    | | |    | | |        |
// |    | |2|   B|C|3|       4|
// +----+-+-+----+-+-*--------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       5|       6|       7|
//          +--------+--------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       8|       9|       A|
//          +--------+--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+   +--6--+   +--7--+
def tourian_page_8701:
    byte: 0xf0, 0xf8, 0xf0, 0x0, 0xf8, 0xf0, 0xf8, 0xf8, 0xf8, 0x0, 0x0, 0xf8, 0x0, 0x0, 0x0, 0x8
//              +--8--+   +--9--+   +--A--+   +--B--+   +--C--+   +--D--+   +--E--+
    byte: 0x8, 0xf8, 0x8, 0x0, 0x8, 0x8, 0xf8, 0xf4, 0xf8, 0xf6, 0xec, 0xf4, 0xee, 0xf4

//Samus summersault and roll frames.
//          +--------+--------+
//          |        |        |
//          |        |        |
//          |        |        |
//          |       0|       1|
//          +--------+--------+
//          |        |        |
//          +--------+--------+
//          |        *        |
//          |       2|       3|
//          +--------+--------+
//          |       4|       5|
//          +--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+
    byte: 0xf3, 0xf8, 0xf3, 0x0, 0xfb, 0xf8, 0xfb, 0x0, 0x3, 0xf8, 0x3, 0x0

//Samus summersault frame.
//          +--------+--------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       0|       1|       2|
//          +--------+-*------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       3|       4|       5|
//          +--------+--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+
    byte: 0xf8, 0xf6, 0xf8, 0xfe, 0xf8, 0x6, 0x0, 0xf6, 0x0, 0xfe, 0x0, 0x6

//Elevator frame.
//          +--------+--------+--------+--------+--------+--------+--------+--------+
//          |        |        |        |        |        |        |        |        |
//          |        |        |        |        |        |        |        |        |
//          |        |        *        |        |        |        |        |        |
//          |       0|       1|       2|       3|       4|       5|       6|       7|
//          +--------+--------+--------+--------+--------+--------+--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+   +--6--+   +--7--+
    byte: 0xfc, 0xf0, 0xfc, 0xf8, 0xfc, 0x0, 0xfc, 0x8, 0xfc, 0x10, 0xfc, 0x18, 0xfc, 0x20, 0xfc, 0x28

//Several projectile frames.
//          +--------+
//          |        |
//          |        |
//          |    *   |
//          |       0|
//          +--------+
//              +--0--+
    byte: 0xfc, 0xfc

//Power-up items and bomb explode frames.
//          +--------+--------+
//          |        |        |
//          |        |        |
//          |        |        |
//          |       0|       1|
//          +--------*--------+
//          |        |        |
//          |        |        |
//          |        |        |
//          |       2|       3|
//          +--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+
    byte: 0xf8, 0xf8, 0xf8, 0x0, 0x0, 0xf8, 0x0, 0x0

//Door frames.
//          +--------+
//          |        |
//          |        |
//          |        |
//          |       0|
//          +--------+
//          |        |
//          |        |
//          |        |
//          |       1|
//          +--------+
//          |        |
//          |        |
//          |        |
//          |       2|
//          *--------+
//          |        |
//          |        |
//          |        |
//          |       3|
//          +--------+
//          |        |
//          |        |
//          |        |
//          |       4|
//          +--------+
//          |        |
//          |        |
//          |        |
//          |       5|
//          +--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+
    byte: 0xe8, 0x0, 0xf0, 0x0, 0xf8, 0x0, 0x0, 0x0, 0x8, 0x0, 0x10, 0x0

//Samus explode. Special case. The bytes that are #$8X indicate displacement data will be loaded
//from a table for the y direction and from a counter for the x direction.  The initial displacement
//bytes start at $8769.  If the LSB is clear in the bytes where the upper nibble is #$8, those
//data bytes will be used to decrease the x position of the sprite each frame. If the LSB is set,
//the data bytes will increase the x position of the sprite each frame.
//          +--------+--------+
//          |        |        |
//          |        |        |
//          |        |        |
//          |       0|       1|
//          +--------+--------+
//          |        |        |
//          |        |        |
//          |        *        |
//          |       2|       3|
//          +--------+--------+
//          |        |        |
//          |        |        |
//          |        |        |
//          |       4|       5|
//          +--------+--------+
//                                                                          +--0--+   +--1--+
    byte: 0x80, 0x80, 0x81, 0x81, 0x82, 0x82, 0x83, 0x83, 0x84, 0x84, 0x85, 0x85, 0xf4, 0xf8, 0xf4, 0x0
//              +--2--+   +--3--+   +--4--+   +--5--+
    byte: 0xfc, 0xf8, 0xfc, 0x0, 0x4, 0xf8, 0x4, 0x0

//Bomb explode frame.
//          +--------+--------+--------+--------+
//          |        |        |        |        |
//          |        |        |        |        |
//          |        |        |        |        |
//          |       3|       4|       0|       1|
//          +--------+--------+--------+--------+
//          |        |                 |        |
//          |        |                 |        |
//          |        |                 |        |
//          |       5|                 |       2|
//          +--------+        *        +--------+
//          |        |                 |        |
//          |        |                 |        |
//          |        |                 |        |
//          |       6|                 |       9|
//          +--------+--------+--------+--------+
//          |        |        |        |        |
//          |        |        |        |        |
//          |        |        |        |        |
//          |       7|       8|       A|       B|
//          +--------+--------+--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+   +--6--+   +--7--+
def tourian_page_8775:
    byte: 0xf0, 0x0, 0xf0, 0x8, 0xf8, 0x8, 0xf0, 0xf0, 0xf0, 0xf8, 0xf8, 0xf0, 0x0, 0xf0, 0x8, 0xf0
//              +--8--+   +--9--+   +--A--+   +--B--+
    byte: 0x8, 0xf8, 0x0, 0x8, 0x8, 0x0, 0x8, 0x8

//Missile up frame.
//          +--------+
//          |        |
//          |        |
//          |        |
//          |       0|
//          +----*---+
//          |        |
//          |        |
//          |        |
//          |       1|
//          +--------+
//              +--0--+   +--1--+
    byte: 0xf8, 0xfc, 0x0, 0xfc

//Missile left/right and missile explode frames.
//          +--------+--------+        +--------+--------+
//          |        |        |        |        |        |
//          |        |        |        |        |        |
//          |        *        |        |        |        |
//          |       0|       1|        |       2|       3|
//          +--------+--------+        +--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+
    byte: 0xfc, 0xf8, 0xfc, 0x0, 0xfc, 0x10, 0xfc, 0x18

//Missile explode frame.
//                   +--------+--------+
//                   |        |        |
//                   |        |        |
//                   |        |        |
//                   |       1|       2|
//          +--------+--------+--------+--------+
//          |        |                 |        |
//          |        |                 |        |
//          |        |        *        |        |
//          |       0|                 |       3|
//          +--------+--------+--------+--------+
//                   |        |        |
//                   |        |        |
//                   |        |        |
//                   |       4|       5|
//                   +--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+
    byte: 0xfc, 0xf0, 0xf4, 0xf8, 0xf4, 0x0, 0xfc, 0x8, 0x4, 0xf8, 0x4, 0x0

//Missile explode frame.
//                    +--------+                 +--------+
//                    |        |                 |        |
//                    |        |                 |        |
//                    |        |                 |        |
//                    |       1|                 |       2|
//                    +--------+                 +--------+
//
//
//
//
//          +--------+                                     +--------+
//          |        |                                     |        |
//          |        |                                     |        |
//          |        |                  *                  |        |
//          |       0|                                     |       3|
//          +--------+                                     +--------+
//
//
//
//
//                    +--------+                 +--------+
//                    |        |                 |        |
//                    |        |                 |        |
//                    |        |                 |        |
//                    |       4|                 |       5|
//                    +--------+                 +--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+
    byte: 0xfc, 0xe8, 0xec, 0xf0, 0xec, 0x8, 0xfc, 0x10, 0xc, 0xf0, 0xc, 0x8

//Statue frames.
//          +--------+--------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       4|       5|       6|
//          +--------+--------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       7|       8|       9|
//          +--------+--------+--------+
//          |        |        |        |
//          |        |        |        |
//          |        |        |        |
//          |       A|       B|       C|
//          +--------+--------*--------+
//                   |        |        |
//                   |        |        |
//                   |        |        |
//                   |       0|       1|
//                   +--------+--------+
//                   |        |        |
//                   |        |        |
//                   |        |        |
//                   |       2|       3|
//                   +--------+--------+
//              +--0--+   +--1--+   +--2--+   +--3--+   +--4--+   +--5--+   +--6--+   +--7--+
    byte: 0x0, 0xf8, 0x0, 0x0, 0x8, 0xf8, 0x8, 0x0, 0xe8, 0xf0, 0xe8, 0xf8, 0xe8, 0x0, 0xf0, 0xf0
//              +--8--+   +--9--+   +--A--+   +--B--+   +--C--+
    byte: 0xf0, 0xf8, 0xf0, 0x0, 0xf8, 0xf0, 0xf8, 0xf8, 0xf8, 0x0

//-------------------------------[ Sprite frame data tables ]---------------------------------------

//Frame drawing data. The format for the frame drawing data is as follows:
//There are 4 control bytes associated with the frame data and they are #$FC, #$FD, #$FE and #$FF.
//
//#$FC displaces the location of the object in the x and y direction.  The first byte following #$FC
//is the y displacement of the object and the second byte is the x displacement. any further bytes
//are pattern table index bytes until the next control byte is reached.
//
//#$FD tells the program to change the sprite control byte.  The next byte after #$FD is the new
//control byte.  Only the 4 upper bits are used. Any further bytes are pattern table index bytes
//until the next control byte is reached.
//
//#$FE causes the next placement position to be skipped.  Any further bytes are pattern table index
//bytes until the next control byte is reached.
//
//#$FF ends the frame drawing data segment. 
//
//The first 3 bytes are unique.  The first byte contains two parts: AAAABBBB. The upper 4 bits
//are sprite control data which control mirroring and color bits.  The lower 4 bits are multiplied
//by 2 and used as an index into the PlacePtrTable to find the proper placement data for the
//current frame.  The second byte is saved as the object's y radius and the third byte is saved
//as the object's x radius.

//Samus run.
def tourian_page_87CB:
    byte: 0x40, 0xf, 0x4, 0x0, 0x1, 0xfd, 0x20, 0xfe, 0x41, 0x40, 0xfd, 0x60, 0x20, 0x21, 0xfe, 0xfe
    byte: 0x31, 0xff

//Samus run.
    byte: 0x40, 0xf, 0x4, 0x2, 0x3, 0xfd, 0x20, 0xfe, 0x43, 0x42, 0xfd, 0x60, 0x22, 0x23, 0xfe, 0x32
    byte: 0x33, 0x34, 0xff

//Samus run.
    byte: 0x40, 0xf, 0x4, 0x5, 0x6, 0xfd, 0x20, 0xfe, 0x45, 0x44, 0xfd, 0x60, 0x25, 0x26, 0x27, 0x35
    byte: 0x36, 0xff

//Samus facing forward.
    byte: 0x0, 0xf, 0x4, 0x9, 0xfd, 0x60, 0x9, 0xfd, 0x20, 0xfe, 0x19, 0x1a, 0xfd, 0x20, 0x29, 0x2a
    byte: 0xfe, 0x39, 0xfd, 0x60, 0x39, 0xff

//Samus stand.
def tourian_page_8818:
    byte: 0x40, 0xf, 0x4, 0xfd, 0x20, 0xe, 0xd, 0xfe, 0x1e, 0x1d, 0x2e, 0x2d, 0xfe, 0xfd, 0x60, 0x3b
    byte: 0x3c, 0xfe, 0x17, 0xff

//Samus run and fire.
    byte: 0x40, 0xf, 0x4, 0x0, 0x1, 0xfd, 0x20, 0x4b, 0x4a, 0x49, 0xfd, 0x60, 0x20, 0x21, 0xfe, 0xfe
    byte: 0x31, 0xff

//Samus run and fire.
    byte: 0x40, 0xf, 0x4, 0x0, 0x1, 0xfd, 0x20, 0x4b, 0x4a, 0x49, 0xfd, 0x60, 0x22, 0x23, 0xfe, 0x32
    byte: 0x33, 0x34, 0xff

//Samus run and fire.
    byte: 0x40, 0xf, 0x4, 0x0, 0x1, 0xfd, 0x20, 0x4b, 0x4a, 0x49, 0xfd, 0x60, 0x25, 0x26, 0x27, 0x35
    byte: 0x36, 0xff

//Samus stand and jump.
def tourian_page_8863:
    byte: 0x40, 0xf, 0x4, 0x0, 0x1, 0xfd, 0x20, 0xfe, 0x41, 0x40, 0xfd, 0x60, 0x22, 0x7, 0x8, 0x32
    byte: 0xff

//Samus jump and fire.
    byte: 0x40, 0xf, 0x4, 0x0, 0x1, 0xfd, 0x20, 0x4b, 0x4a, 0x49, 0xfd, 0x60, 0x22, 0x7, 0x8, 0x32
    byte: 0xff

//Samus summersault.
    byte: 0x41, 0xf, 0x4, 0x52, 0x53, 0x62, 0x63, 0x72, 0x73, 0xff

//Samus summersault.
def tourian_page_888F:
    byte: 0x42, 0xf, 0x4, 0x54, 0x55, 0x56, 0x64, 0x65, 0x66, 0xff

//Samus summersault.
    byte: 0x81, 0xf, 0x4, 0x52, 0x53, 0x62, 0x63, 0x72, 0x73, 0xff

//Samus summersault.
    byte: 0x82, 0xf, 0x4, 0x54, 0x55, 0x56, 0x64, 0x65, 0x66, 0xff

//Samus roll.
    byte: 0x1, 0x8, 0x4, 0xfc, 0x3, 0x0, 0x50, 0x51, 0x60, 0x61, 0xff

//Samus roll.
    byte: 0x81, 0x8, 0x4, 0xfc, 0xfd, 0x0, 0x50, 0x51, 0x60, 0x61, 0xff

//Samus roll.
    byte: 0xc1, 0x8, 0x4, 0xfc, 0xfd, 0x0, 0x50, 0x51, 0x60, 0x61, 0xff

//Samus roll.
    byte: 0x41, 0x8, 0x4, 0xfc, 0x3, 0x0, 0x50, 0x51, 0x60, 0x61, 0xff

//Samus stand and fire.
def tourian_page_88D9:
    byte: 0x40, 0xf, 0x4, 0xfd, 0x20, 0xe, 0xd, 0xfe, 0x1e, 0x1d, 0x2e, 0x2d, 0xfe, 0xfd, 0x60, 0x3b
    byte: 0x3c, 0xfe, 0xfe, 0x17, 0xff

//Elevator.
    byte: 0x3, 0x4, 0x10, 0x28, 0x38, 0x38, 0xfd, 0x60, 0x28, 0xff

//Missile right.
    byte: 0x4a, 0x4, 0x8, 0x5e, 0x5f, 0xff

//Missile left.
    byte: 0xa, 0x4, 0x8, 0x5e, 0x5f, 0xff

//Missile up.
    byte: 0x9, 0x8, 0x4, 0x14, 0x24, 0xff

//Bullet fire.
def tourian_page_890A:
    byte: 0x4, 0x2, 0x2, 0x30, 0xff

//Bullet hit.
    byte: 0x4, 0x0, 0x0, 0x4, 0xff

//Samus stand and point up.
    byte: 0x46, 0xf, 0x4, 0x69, 0xfe, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0x2e, 0x2d, 0xfe, 0xfd
    byte: 0x60, 0x3b, 0x3c, 0xff

//Samus from ball to pointing up.
def tourian_page_8928:
    byte: 0x46, 0xf, 0x4, 0xfe, 0x69, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0x2e, 0x2d, 0xfe, 0xfd
    byte: 0x60, 0x3b, 0x3c, 0xff

//Door closed.
    byte: 0x35, 0x18, 0x8, 0xf, 0x1f, 0x2f, 0xfd, 0xa3, 0x2f, 0x1f, 0xf, 0xff

//Door open/close.
    byte: 0x35, 0x18, 0x4, 0x6a, 0x6b, 0x6c, 0xfd, 0xa3, 0x6c, 0x6b, 0x6a, 0xff

//Samus explode.
    byte: 0x7, 0x0, 0x0, 0xfc, 0xfc, 0x0, 0xb, 0xc, 0x1b, 0x1c, 0x2b, 0x2c, 0xff

//Samus jump and point up.
def tourian_page_8961:
    byte: 0x46, 0xf, 0x4, 0x69, 0xfd, 0x20, 0xfe, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x22, 0x7
    byte: 0x8, 0x32, 0xff

//Samus jump and point up.
    byte: 0x46, 0xf, 0x4, 0xfe, 0x69, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x22, 0x7
    byte: 0x8, 0x32, 0xff

//Bomb explode.
    byte: 0xd, 0xc, 0xc, 0x74, 0xfd, 0x60, 0x74, 0xfd, 0xa0, 0x74, 0xfd, 0xe0, 0x74, 0xff

//Samus run and point up.
def tourian_page_8995:
    byte: 0x46, 0xf, 0x4, 0x69, 0xfe, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x20, 0x21
    byte: 0xfe, 0xfe, 0x31, 0xff

//Samus run and point up.
    byte: 0x46, 0xf, 0x4, 0x69, 0xfe, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x22, 0x23
    byte: 0xfe, 0x32, 0x33, 0x34, 0xff

//Samus run and point up.
    byte: 0x46, 0xf, 0x4, 0x69, 0xfe, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x25, 0x26
    byte: 0x27, 0x35, 0x36, 0xff

//Samus run and point up.
    byte: 0x46, 0xf, 0x4, 0xfe, 0x69, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x20, 0x21
    byte: 0xfe, 0xfe, 0x31, 0xff

//Samus point up, run and fire.
    byte: 0x46, 0xf, 0x4, 0xfe, 0x69, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x22, 0x23
    byte: 0xfe, 0x32, 0x33, 0x34, 0xff

//Samus point up, run and fire.
def tourian_page_89FB:
    byte: 0x46, 0xf, 0x4, 0xfe, 0x69, 0xfd, 0x20, 0x7a, 0x79, 0xfe, 0x78, 0x77, 0xfd, 0x60, 0x25, 0x26
    byte: 0x27, 0x35, 0x36, 0xff

//Bomb explode.
    byte: 0xd, 0xc, 0xc, 0x75, 0xfd, 0x60, 0x75, 0xfd, 0xa0, 0x75, 0xfd, 0xe0, 0x75, 0xff

//Bomb explode.
    byte: 0x0, 0x0, 0x0, 0xff

//Wave beam.
    byte: 0x4, 0x4, 0x4, 0x4c, 0xff

//Bomb explode.
    byte: 0x8, 0x10, 0x10, 0x3d, 0x3e, 0x4e, 0xfd, 0x60, 0x3e, 0x3d, 0x4e, 0xfd, 0xe0, 0x4e, 0x3e, 0x3d
    byte: 0xfd, 0xa0, 0x4e, 0x3d, 0x3e, 0xff

//Bomb tick.
    byte: 0x4, 0x4, 0x4, 0x70, 0xff

//Bomb tick.
    byte: 0x4, 0x4, 0x4, 0x71, 0xff

//Bomb item.
def tourian_page_8A46:
    byte: 0xd, 0x3, 0x3, 0x86, 0x87, 0x96, 0x97, 0xff

//High jump item.
    byte: 0xd, 0x3, 0x3, 0x7b, 0x7c, 0x8b, 0x8c, 0xff

//Long beam item.
    byte: 0xd, 0x3, 0x3, 0x88, 0x67, 0x98, 0x99, 0xff

//Screw attack item.
    byte: 0xd, 0x3, 0x3, 0x80, 0x81, 0x90, 0x91, 0xff

//Maru Mari item.
    byte: 0xd, 0x3, 0x3, 0x7d, 0x7e, 0x8d, 0x8e, 0xff

//Varia item.
    byte: 0xd, 0x3, 0x3, 0x82, 0x83, 0x92, 0x93, 0xff

//Wave beam item.
    byte: 0xd, 0x3, 0x3, 0x88, 0x89, 0x98, 0x99, 0xff

//Ice beam item.
    byte: 0xd, 0x3, 0x3, 0x88, 0x68, 0x98, 0x99, 0xff

//Energy tank item.
def tourian_page_8A86:
    byte: 0xd, 0x3, 0x3, 0x84, 0x85, 0x94, 0x95, 0xff

//Missile item.
    byte: 0xd, 0x3, 0x3, 0x3f, 0xfd, 0x40, 0x3f, 0xfd, 0x0, 0x4f, 0xfd, 0x40, 0x4f, 0xff

//Skree burrow.
    byte: 0x34, 0x4, 0x4, 0xf2, 0xff

//Not used.
    byte: 0x4, 0x0, 0x0, 0x5a, 0xff, 0x13, 0x0, 0x0, 0xb0, 0xb1, 0xb2, 0xb3, 0xff, 0x13, 0x0, 0x0
    byte: 0xb4, 0xb5, 0xb6, 0xb7, 0xb8, 0xb6, 0xb9, 0xb3, 0xff, 0x13, 0x0, 0x0, 0xb3, 0xba, 0xba, 0xfe
    byte: 0x80, 0x80, 0xff

//Kraid statue.
def tourian_page_8AC4:
    byte: 0x1e, 0x0, 0x8, 0xfa, 0xfb, 0xfa, 0xfb, 0xfc, 0x0, 0x4, 0xc5, 0xc6, 0xc7, 0xd5, 0xd6, 0xd7
    byte: 0xe5, 0xe6, 0xe7, 0xff

//Ridley statue.
    byte: 0x1e, 0x0, 0x8, 0xfa, 0xfb, 0xfa, 0xfb, 0xfe, 0xc8, 0xc9, 0xeb, 0xd8, 0xd9, 0xea, 0xe8, 0xe9
    byte: 0xff

//Missile explode.
    byte: 0xa, 0x4, 0x8, 0xfd, 0x0, 0x57, 0xfd, 0x40, 0x57, 0xff

//Missile explode.
def tourian_page_8AF3:
    byte: 0xb, 0x4, 0xc, 0xfd, 0x0, 0x57, 0x18, 0xfd, 0x40, 0x18, 0x57, 0xfd, 0xc0, 0x18, 0x18, 0xff

//Missile explode.
    byte: 0xc, 0x4, 0x10, 0xfd, 0x0, 0x57, 0x18, 0xfd, 0x40, 0x18, 0x57, 0xfd, 0xc0, 0x18, 0x18, 0xff

//------------------------------------[ Samus enter door routines ]-----------------------------------

//This function is called once when Samus first enters a door.

def samusenterdoor:

    //The code determines if Samus has entered a door if the-->
    a = [doorstatus]
    //door status is 0, but door data information has been-->
    goto _000B when ~zero
    //written. If both conditions are met, Samus has just-->
    y = [samusdoordata]
    //entered a door.
    goto _000B when zero
    [currentmissilepickups] = a
    //Reset current missile and energy power-up counters.
    [currentenergypickups] = a
    a = [randomnumber1]
    //Randomly recalculate max missile pickups(16 max, 0 min).
    a = a & 0xf
    [maxmissilepickup] = a
    a = a << 1
    //*2 for energy pickups and set bit 6(128 max, 64 min).
    a = a | 0x40
    [maxenergypickup] = a
    a = [ppucnt0zp]
    a = a ^ 0x1
    //Erase name table door data for new room.
    a = a & 0x1
    y = a
    a = a >> 1
    [0x6c:y] = a
    a = [scrolldir]
    //Is Samus scrolling horizontally?-->
    a = a & 0x2
    //If so, branch.
    goto _0008 when ~zero
    //Samus currently scrolling vertically.
    x = 0x4
    //Is room centered on screen?-->
    a = [scrolly]
    //If so, branch.
    goto _000C when zero
    a = [0xff]
    //Get inverse of Samus' current nametable.
    a = a ^ [objecthi]
    a = a >> 1
    //If Samus is on nametable 3, branch.
    goto _000A when ~carry
    //If Samus is on nametable 0, branch to decrement x.
    goto _0009 when carry

def _0008:
    //Samus is currently scrolling horizontally.
    x = 0x2
    //Is Samus entering a left hand door?-->
    a = [objectx]
    //If so, branch.
    goto _000A when ~negative
def _0009:
    x--

def setdoorentryinfo:

def _000A:
    //X contains door scroll status and is transferred to A.
    a = x
    //Save door scroll status.
    [doorscrollstatus] = a
    //($8B74)Indicate Samus just entered a door.
    call samusindoor
    a = 0x12
    //Set DoorDelay to 18 frames(going into door).
    [doordelay] = a
    a = [samusdoordata]
    //($C2C5)*16. Move scroll toggle data to upper 4 bits.
    call amul16
    //Keep Samus action so she will appear the same comming-->
    a = a | [objaction]
    //out of the door as she did going in.
    [samusdoordata] = a
    a = 0x5
    //Indicate Samus is in a door.
    [objaction] = a
def _000B:
    return

def _000C:
    //($8B53)Save Samus action and set door entry timer.
    call setdoorentryinfo
    //($E21B)Room is centered. Toggle scroll.
    call verticalroomcentered

    //X=#$01 or #$02(depending on which door Samus is in).
    a = x

def samusindoor:

    //Set MSB of DoorStatus to indicate Samus has just-->
    a = a | 0x80
    //entered a door.
    [doorstatus] = a
    return

//----------------------------------------------------------------------------------------------------

    x = 0xb0
def _000D:
    call 0x8b87
    a = [pageindex]
    carry = 1
    a = a -# 0x10
    x = a
    goto _000D when negative
    return

    [pageindex] = x
    a = [objaction:x]
    //($C27C)
    call chooseroutine

    word: game_engine_page_C45C
    word: tourian_page_8B9D
    word: tourian_page_8BD5
    word: tourian_page_8C01
    word: tourian_page_8C84
    word: tourian_page_8CC6
    word: tourian_page_8CF0

def tourian_page_8B9D:
    [0x300:x]++
    a = 0x30
    //($D2FA)
    call setprojectileanim
    call tourian_page_8CFB
    y = [0x307:x]
    a = [tourian_page_8BD1:y]
    [0x30f:x] = a
def tourian_page_8BB1:
    a = [0x307:x]
    compare a to 0x3
    goto tourian_page_8BBA when ~zero
    a = 0x1
def tourian_page_8BBA:
    a = a | 0xa0
    [0x6b] = a
    a = 0x0
    [0x30a:x] = a
    a = x
    a = a & 0x10
    a = a ^ 0x10
    a = a | [0x6b]
    [0x6b] = a
    a = 0x6
    goto game_engine_page_DE47

def tourian_page_8BD1:
    byte: 0x5, 0x1, 0xa, 0x1

def tourian_page_8BD5:
    a = [0x30a:x]
    a = a & 0x4
    goto tourian_page_8BB1 when zero
    [0x30f:x]--
    goto tourian_page_8BB1 when ~zero
    a = 0x3
    compare a to [0x307:x]
    goto tourian_page_8BEE when ~zero
    y = [0x10b]
    y++
    goto tourian_page_8BB1 when ~zero
def tourian_page_8BEE:
    [0x300:x] = a
    a = 0x50
    [0x30f:x] = a
    a = 0x2c
    [0x305:x] = a
    carry = 1
    a = a -# 0x3
    goto tourian_page_8C7E
def tourian_page_8C01:
    a = [doorstatus]
    goto tourian_page_8C1D when zero
    a = [0x30c]
    a = a ^ [0x30c:x]
    a = a >> 1
    goto tourian_page_8C1D when carry
    a = [0x30e]
    a = a ^ [0x30e:x]
    goto tourian_page_8C1D when negative
    a = 0x4
    [0x300:x] = a
    goto tourian_page_8C73 when ~zero
def tourian_page_8C1D:
    a = [0x306:x]
    compare a to [0x305:x]
    goto tourian_page_8C73 when ~carry
    a = [0x30f:x]
    compare a to 0x50
    goto tourian_page_8C57 when ~zero
    call tourian_page_8CF7
    a = [0x307:x]
    compare a to 0x1
    goto tourian_page_8C57 when zero
    compare a to 0x3
    goto tourian_page_8C57 when zero
    a = 0xa
    [0x9] = a
    a = [0x30c:x]
    [0x8] = a
    y = [0x50]
    a = x
    call game_engine_page_C2C5
    goto tourian_page_8C4C when ~carry
    y--
def tourian_page_8C4C:
    a = y
    call 0xdc1e
    a = 0x0
    [0x300:x] = a
    goto tourian_page_8C73 when zero
def tourian_page_8C57:
    a = [0x2d]
    a = a >> 1
    goto tourian_page_8C73 when carry
    [0x30f:x]--
    goto tourian_page_8C73 when ~zero
def tourian_page_8C61:
    a = 0x1
    [0x30f:x] = a
    call tourian_page_8CFB
    a = 0x2
    [0x300:x] = a
    call tourian_page_8C76
def tourian_page_8C71:
    x = [pageindex]
def tourian_page_8C73:
    goto tourian_page_8BB1
def tourian_page_8C76:
    a = 0x30
    [0x305:x] = a
    carry = 1
    a = a -# 0x2
def tourian_page_8C7E:
    call 0xd2fd
    goto game_engine_page_CBDA
def tourian_page_8C84:
    a = [doorstatus]
    compare a to 0x5
    goto tourian_page_8CC3 when carry
    call tourian_page_8CFB
    call tourian_page_8C76
    x = [pageindex]
    a = [0x91]
    goto tourian_page_8CA7 when zero
    a = x
    call game_engine_page_C2BF
    a = a ^ [0x91]
    a = a >> 1
    goto tourian_page_8CA7 when ~carry
    a = [0x76]
    a = a ^ 0x7
    [0x76] = a
    [0x1c] = a
def tourian_page_8CA7:
    [0x300:x]++
    a = 0x0
    [0x91] = a
    a = [0x307:x]
    compare a to 0x3
    goto tourian_page_8CC3 when ~zero
    a = x
    call game_engine_page_C2C5
    goto tourian_page_8CC0 when carry
    call game_engine_page_CC07
    goto tourian_page_8CC3 when ~zero
def tourian_page_8CC0:
    call game_engine_page_CC03
def tourian_page_8CC3:
    goto tourian_page_8C71
def tourian_page_8CC6:
    a = [doorstatus]
    compare a to 0x5
    goto tourian_page_8CED when ~zero
    a = x
    a = a ^ 0x10
    x = a
    a = 0x6
    [0x300:x] = a
    a = 0x2c
    [0x305:x] = a
    carry = 1
    a = a -# 0x3
    call 0xd2fd
    call game_engine_page_CBDA
    call 0xcb73
    x = [pageindex]
    a = 0x2
    [0x300:x] = a
def tourian_page_8CED:
    goto tourian_page_8BB1
def tourian_page_8CF0:
    a = [doorstatus]
    goto tourian_page_8CED when ~zero
    goto tourian_page_8C61
def tourian_page_8CF7:
    a = 0xff
    goto tourian_page_8CFD when ~zero
def tourian_page_8CFB:
    a = 0x4e
def tourian_page_8CFD:
    push a
    a = 0x50
    [0x2] = a
    a = x
    call game_engine_page_C2BF
    a = a & 0x1
    y = a
    a = [tourian_page_8D3A:y]
    [0x3] = a
    a = [0x30c:x]
    [0xb] = a
    call 0xe96a
    y = 0x0
    a = pop
def tourian_page_8D19:
    [[0x4]:y] = a
    x = a
    a = y
    carry = 0
    a = a +# 0x20
    y = a
    a = x
    compare y to 0xc0
    goto tourian_page_8D19 when ~zero
    x = [pageindex]
    a = x
    call game_engine_page_C2C0
    a = a & 0x6
    y = a
    a = [0x4]
    [0x5c:y] = a
    a = [0x5]
    [0x5d:y] = a
    return

def tourian_page_8D3A:
    byte: 0xe8, 0x10, 0x60, 0xad, 0x91, 0x69, 0x8d, 0x78, 0x68, 0xad, 0x92, 0x69, 0x8d, 0x79, 0x68, 0xa9
    byte: 0x0, 0x85, 0x0, 0x85, 0x2, 0xad, 0x97, 0x69, 0x29, 0x80, 0xf0, 0x6, 0xa5, 0x0, 0x9, 0x80
    byte: 0x85, 0x0, 0xad, 0x97, 0x69, 0x29

//------------------------------------------[ Graphics data ]-----------------------------------------

//Kraid hideout enemy tile patterns.
    byte: 0x3, 0xf, 0x5, 0x32, 0xd1, 0x48, 0x12, 0x24, 0x1, 0x2, 0x2, 0x11, 0x48, 0x20, 0x0, 0x0
    byte: 0xe0, 0xf0, 0xec, 0xde, 0x92, 0x8d, 0xa0, 0x3c, 0xc0, 0x0, 0xc, 0x2, 0x1, 0xc, 0x2, 0x0
    byte: 0x0, 0x80, 0x58, 0x38, 0x70, 0x23, 0x83, 0xcd, 0x0, 0x0, 0x18, 0x3c, 0x7c, 0x38, 0x30, 0x0
    byte: 0xe, 0x59, 0xb0, 0x60, 0xc0, 0x0, 0x0, 0x80, 0xe, 0x59, 0xb7, 0x6c, 0xde, 0x2f, 0x56, 0x28
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x38, 0x48, 0x90, 0x0, 0x0, 0x0, 0x0, 0x0, 0x38, 0x7c, 0xfa
    byte: 0x0, 0x1, 0x0, 0x3, 0xc, 0x8, 0x10, 0x3, 0x0, 0x0, 0x0, 0x3, 0xf, 0xc, 0x58, 0x3f
    byte: 0x48, 0x28, 0xaf, 0x3d, 0x78, 0xcd, 0xb6, 0x6f, 0x0, 0x7, 0x1c, 0x70, 0x4a, 0x1, 0x32, 0x0
    byte: 0x0, 0x0, 0xb0, 0xe8, 0x74, 0xbc, 0x18, 0x18, 0x0, 0x50, 0xb0, 0x20, 0x0, 0x88, 0x88, 0x20
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x7, 0xf, 0xa, 0x0, 0x2, 0x0, 0x38, 0x0, 0x7, 0xf, 0x1a, 0x18, 0x1f, 0xf, 0x3b
    byte: 0x24, 0x18, 0x95, 0x95, 0x39, 0x31, 0x29, 0x24, 0x24, 0x1c, 0x9c, 0xd8, 0xf4, 0xec, 0xb4, 0x38
    byte: 0x38, 0x7c, 0xd4, 0xc4, 0x78, 0x0, 0x0, 0x0, 0x38, 0x7c, 0xd6, 0xc6, 0xfe, 0x7c, 0x38, 0x0
    byte: 0x0, 0x0, 0x38, 0x7c, 0xd6, 0x44, 0x38, 0x0, 0x0, 0x0, 0x38, 0x7c, 0xd6, 0xc6, 0xfe, 0x7c
    byte: 0x81, 0xa5, 0xe7, 0x24, 0x0, 0x24, 0x18, 0x24, 0x81, 0xa5, 0xe7, 0x66, 0x66, 0xc3, 0x66, 0x18
    byte: 0x0, 0x24, 0x1b, 0x1f, 0x3b, 0x44, 0x5b, 0x3f, 0xbd, 0x9b, 0xe4, 0xc0, 0xc4, 0x98, 0x83, 0xc7
    byte: 0x0, 0x20, 0x60, 0xd1, 0xd4, 0x60, 0x20, 0x0, 0x2, 0x17, 0x1f, 0x1f, 0x1f, 0x1f, 0x17, 0x2
    byte: 0x0, 0x0, 0x0, 0x0, 0x60, 0x0, 0x0, 0x0, 0x80, 0xd0, 0xf4, 0xfe, 0xfe, 0xf4, 0xd0, 0x80
    byte: 0x76, 0x2, 0x2, 0x4, 0x38, 0x0, 0x0, 0x0, 0x0, 0x50, 0x0, 0x28, 0x0, 0x1, 0x2, 0x0
    byte: 0xc4, 0xce, 0x7f, 0x7b, 0x79, 0x2, 0x2, 0x0, 0x10, 0x0, 0x80, 0x0, 0x0, 0x50, 0xa4, 0x0
    byte: 0x60, 0xa0, 0xc2, 0xe7, 0x71, 0x46, 0x98, 0x20, 0x6e, 0x3c, 0x18, 0x8, 0x0, 0x50, 0xd0, 0x4
    byte: 0x4, 0x30, 0x48, 0x0, 0x80, 0x11, 0x30, 0x21, 0x7, 0x32, 0x78, 0x7e, 0xf0, 0xc1, 0x5c, 0x3c
    byte: 0x61, 0x32, 0x1e, 0x81, 0xf8, 0xff, 0xff, 0xf9, 0x0, 0x2, 0x0, 0x0, 0xd0, 0x0, 0x0, 0x8
    byte: 0xfc, 0xfc, 0x7e, 0x36, 0xbe, 0xc, 0xe0, 0xf8, 0x44, 0x2c, 0x12, 0x0, 0x20, 0x0, 0x20, 0x10
    byte: 0x0, 0x80, 0xc2, 0xe7, 0x7f, 0x7f, 0x3e, 0xc, 0x0, 0x0, 0x80, 0xc1, 0x43, 0x77, 0x3e, 0xc
    byte: 0xe, 0x3c, 0x78, 0x70, 0xf0, 0xf8, 0x7c, 0x38, 0xc, 0x38, 0x60, 0x60, 0xc0, 0xe0, 0x70, 0x38
    byte: 0x7c, 0x7c, 0x38, 0x10, 0x0, 0x0, 0x0, 0x0, 0x7c, 0xfe, 0xfe, 0xd6, 0x46, 0x3c, 0x0, 0x0
    byte: 0x28, 0x30, 0xe8, 0xe4, 0x14, 0x30, 0x28, 0x44, 0x34, 0x2c, 0xf4, 0x38, 0x1c, 0x3c, 0x2c, 0x44
    byte: 0x8c, 0x6c, 0x2f, 0x35, 0x4a, 0x91, 0x0, 0x3e, 0x88, 0x68, 0x2f, 0x7b, 0x75, 0xce, 0x0, 0x0
    byte: 0x0, 0x17, 0xfc, 0x5e, 0xa2, 0x53, 0x0, 0x0, 0x38, 0x7, 0xe4, 0xbe, 0x5e, 0xe7, 0x0, 0x0
    byte: 0x0, 0x2, 0xd, 0x17, 0x2d, 0x62, 0x6d, 0x2e, 0x83, 0xc5, 0xf2, 0xe0, 0xc2, 0x81, 0x8c, 0xce
    byte: 0x0, 0x40, 0xb0, 0xe8, 0xb4, 0x46, 0xb6, 0x74, 0xc1, 0xa3, 0x4f, 0x7, 0x43, 0x81, 0x31, 0x73
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x20, 0x73, 0xdf, 0x0, 0x0, 0x2, 0x17, 0x1f, 0x14, 0x11, 0x18
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x12, 0xc0, 0x0, 0x0, 0x80, 0xd0, 0xf4, 0xfe, 0x70, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x18, 0x3c, 0x3a, 0x17, 0x0, 0x0, 0x0, 0x0, 0x0, 0x10, 0x2, 0x7
    byte: 0x0, 0x0, 0x8, 0x0, 0x0, 0x81, 0x81, 0xdb, 0x0, 0x0, 0x24, 0x76, 0x6e, 0x76, 0x24, 0x0
    byte: 0x0, 0x0, 0x0, 0x18, 0x3d, 0x3b, 0x10, 0x0, 0x0, 0x0, 0x0, 0x0, 0x11, 0x3, 0x0, 0x0
    byte: 0x40, 0x82, 0x5, 0x23, 0x40, 0x3, 0x1e, 0x10, 0x78, 0xf0, 0xc0, 0x50, 0x30, 0x68, 0x3c, 0x5e
    byte: 0xe3, 0xf0, 0x7e, 0x9, 0x5, 0xe8, 0x31, 0x9e, 0x20, 0x10, 0x2, 0x0, 0x6, 0xc, 0x1, 0x0
    byte: 0xf0, 0xe8, 0x1c, 0x9e, 0x42, 0x9a, 0x3c, 0x7e, 0x0, 0x0, 0x0, 0x2, 0x42, 0xc2, 0x80, 0x0
    byte: 0x1, 0x3, 0xd, 0x9, 0x13, 0x7, 0x3, 0x0, 0x38, 0x10, 0x10, 0x36, 0x24, 0x40, 0x0, 0x0
    byte: 0xf8, 0xee, 0x9f, 0x7f, 0x9f, 0xe0, 0x80, 0x0, 0x0, 0xe, 0x0, 0x70, 0x10, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x80, 0x80, 0xc, 0xe, 0x13, 0x10, 0xc0, 0x20, 0x90, 0x90, 0x3c, 0xe2, 0xd1, 0x90
    byte: 0xf0, 0x38, 0x11, 0x1, 0x0, 0x0, 0x8, 0x8, 0xf3, 0xc, 0x9, 0x9, 0xc, 0x7, 0xb, 0x9
    byte: 0x0, 0x0, 0x1, 0x1, 0x30, 0x70, 0xc8, 0x8, 0x3, 0x4, 0x9, 0x9, 0x3c, 0x47, 0x8b, 0x9
    byte: 0x26, 0x31, 0x10, 0x1c, 0x18, 0xc, 0x0, 0x0, 0xc6, 0xc0, 0x60, 0x60, 0x20, 0x30, 0x18, 0x8
    byte: 0x5e, 0x2c, 0x20, 0x3c, 0x24, 0x18, 0x0, 0x0, 0x87, 0xc3, 0x42, 0x42, 0x42, 0x66, 0x24, 0x24
    byte: 0x0, 0x0, 0x0, 0x0, 0xb, 0x27, 0x73, 0xdf, 0x2, 0x17, 0x1f, 0x34, 0xb, 0x7, 0x11, 0x18
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x8c, 0xf2, 0xe0, 0x80, 0xd0, 0xf4, 0xfe, 0x60, 0x80, 0x30, 0x0
    byte: 0x18, 0x18, 0x98, 0x98, 0x64, 0x18, 0x7e, 0xe6, 0x18, 0x18, 0x18, 0x0, 0x0, 0x0, 0x0, 0xe6
    byte: 0xbd, 0xdb, 0x18, 0x24, 0x3c, 0x66, 0x66, 0x24, 0x0, 0x0, 0x0, 0x42, 0x0, 0x0, 0x42, 0x24
    byte: 0x3, 0x1a, 0x3c, 0x38, 0x10, 0x8, 0x18, 0x18, 0x3, 0x2, 0x10, 0x0, 0x0, 0x8, 0x18, 0x18
    byte: 0x20, 0x1, 0x3, 0x7, 0x1, 0x3, 0x7, 0x2, 0x38, 0x10, 0xb0, 0x60, 0x7c, 0x28, 0x0, 0x0
    byte: 0xef, 0xf7, 0xc5, 0x90, 0xfc, 0xff, 0x3e, 0xe3, 0x0, 0x0, 0x0, 0x20, 0xc, 0x3, 0x0, 0xe0
    byte: 0xfc, 0xf8, 0xf2, 0xc0, 0x1, 0x60, 0x90, 0xd0, 0x0, 0x0, 0x2, 0xe, 0x1, 0x60, 0xf0, 0x10
    byte: 0x0, 0x0, 0x0, 0xf8, 0x0, 0xf8, 0x0, 0x0, 0x0, 0x0, 0x0, 0xf8, 0x7, 0x0, 0x0, 0x0
    byte: 0x7c, 0xf8, 0x10, 0x84, 0x3e, 0x7f, 0x19, 0x0, 0x60, 0xf0, 0x10, 0x0, 0x2, 0x7, 0x1, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0xf, 0x1c, 0x88, 0x80, 0x0, 0x0, 0x10, 0x10, 0xcf, 0x30, 0x90, 0x90, 0x30, 0xe0, 0xd0, 0x90
    byte: 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

//Ridley hideout enemy tile patterns.
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x8, 0x31, 0x7a, 0xda, 0x19, 0xfd, 0x0, 0x0, 0x0, 0x21, 0x5a, 0xda, 0x99, 0xfd
    byte: 0x8c, 0x9c, 0xbc, 0x78, 0xe0, 0xd8, 0xa2, 0x48, 0x8c, 0x98, 0xb0, 0x60, 0xc0, 0x9e, 0x3d, 0x77
    byte: 0x0, 0x0, 0x0, 0x40, 0xe0, 0xe0, 0xf0, 0x78, 0x0, 0x0, 0x0, 0x40, 0xe0, 0xc0, 0x40, 0x60
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x18, 0xc, 0x4, 0x2, 0x1, 0xe, 0x18, 0x2c, 0x6, 0x2, 0x3, 0x1, 0x0, 0x0, 0x7, 0x13
    byte: 0x19, 0x0, 0x40, 0x18, 0xc, 0x96, 0x56, 0x0, 0xde, 0x6e, 0xde, 0xc6, 0xe3, 0x61, 0x25, 0xb9
    byte: 0x0, 0x0, 0x0, 0x3, 0x2e, 0x2e, 0x12, 0x33, 0x3c, 0x7f, 0xff, 0xfc, 0xd1, 0x50, 0x69, 0xe
    byte: 0x0, 0x0, 0x0, 0x80, 0x40, 0x70, 0x7c, 0x35, 0x0, 0x0, 0xc0, 0x60, 0xb0, 0x68, 0x73, 0xb2
    byte: 0x0, 0x5, 0xc, 0x5f, 0x34, 0x19, 0x33, 0xbe, 0x0, 0x5, 0xc, 0x5f, 0x34, 0x19, 0x31, 0xb6
    byte: 0x40, 0x20, 0xb4, 0x48, 0xda, 0x66, 0x63, 0x3, 0x40, 0x20, 0xb4, 0x48, 0x9a, 0x66, 0x4b, 0x11
    byte: 0x0, 0x9, 0x2, 0x1a, 0x3d, 0x6f, 0x55, 0x2a, 0x0, 0x9, 0x2, 0x1a, 0x3d, 0x6f, 0x55, 0x2e
    byte: 0x40, 0x40, 0x20, 0xe8, 0xa4, 0x9c, 0xd6, 0xca, 0x40, 0x40, 0x20, 0xe8, 0xa4, 0x1c, 0x96, 0xca
    byte: 0x80, 0xc1, 0x63, 0x78, 0x3e, 0x3e, 0x1e, 0xe, 0x80, 0x40, 0x20, 0x18, 0x4, 0x0, 0x0, 0x0
    byte: 0x5a, 0xdb, 0xdb, 0xff, 0x7e, 0x18, 0x81, 0x81, 0x50, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x24
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0xf2, 0x64, 0xf, 0xda, 0x8d, 0x5b, 0x10, 0x10, 0xfb, 0x70, 0x1, 0xc0, 0x8d, 0x58, 0x10, 0x10
    byte: 0x90, 0x40, 0x20, 0x80, 0xb0, 0x70, 0x5c, 0x60, 0xef, 0x3e, 0x18, 0x80, 0x0, 0x10, 0x5c, 0x60
    byte: 0xb8, 0x38, 0x30, 0x80, 0x80, 0x60, 0x20, 0x18, 0xa0, 0xa4, 0x66, 0xc6, 0x3e, 0xc, 0x20, 0x18
    byte: 0x30, 0x27, 0x2d, 0x38, 0x2a, 0x5e, 0x70, 0x40, 0x10, 0x0, 0x1, 0x0, 0x12, 0x20, 0x0, 0x0
    byte: 0xa, 0x40, 0x40, 0x51, 0x78, 0xc4, 0xc2, 0x90, 0x31, 0x3d, 0x3b, 0x2c, 0x6, 0x3b, 0x3d, 0x6f
    byte: 0x0, 0x8, 0x10, 0x80, 0x42, 0x0, 0x2e, 0x5a, 0xf9, 0xb1, 0x40, 0x60, 0x3e, 0xe, 0x82, 0x92
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0xc, 0xe, 0xc, 0x0, 0x0, 0x0, 0xc, 0x1e, 0x13, 0x15, 0x16
    byte: 0x0, 0x1, 0x1, 0x0, 0x0, 0x8, 0x4, 0x12, 0x0, 0x0, 0x0, 0x6, 0xf, 0x7, 0x3, 0x9
    byte: 0x5d, 0x23, 0x54, 0x2b, 0x24, 0x1e, 0xf, 0x4, 0x5d, 0x23, 0x55, 0x2b, 0x20, 0x1c, 0xf, 0x4
    byte: 0x1, 0xa7, 0x6, 0xb, 0x4a, 0xd6, 0x2c, 0xf0, 0x59, 0xf1, 0x52, 0xfb, 0x6a, 0xd6, 0x2c, 0xf0
    byte: 0xec, 0xf5, 0x7c, 0x99, 0x42, 0x60, 0x38, 0xf, 0xce, 0xd5, 0x70, 0x9d, 0x47, 0x68, 0x38, 0xf
    byte: 0xaf, 0x73, 0x36, 0x26, 0xc, 0x1c, 0x78, 0xc0, 0xaf, 0x73, 0x76, 0xa6, 0x4c, 0x1c, 0x78, 0xc0
    byte: 0x69, 0x2c, 0xe, 0x77, 0xd4, 0xb4, 0xe2, 0x0, 0x3, 0x1, 0x0, 0x70, 0xf0, 0xf0, 0xe0, 0x0
    byte: 0x69, 0x2c, 0xe, 0x37, 0x14, 0x4, 0x2, 0x0, 0x3, 0x1, 0x0, 0x30, 0x10, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x10, 0x20, 0x0, 0x0, 0x0, 0x0, 0x18, 0x3c, 0x3c, 0xfe, 0x7d, 0xff
    byte: 0x81, 0x42, 0x24, 0x24, 0x3c, 0x7e, 0xc3, 0xa5, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x24
    byte: 0x0, 0x0, 0x0, 0x0, 0x10, 0x20, 0x0, 0x0, 0x0, 0x0, 0x18, 0x3c, 0x3f, 0xff, 0x7c, 0xfe
    byte: 0x0, 0x0, 0x80, 0x0, 0x0, 0x8, 0x4, 0x82, 0x0, 0x0, 0x0, 0x86, 0x8f, 0x87, 0x83, 0x41
    byte: 0xd1, 0xe4, 0x88, 0x0, 0x0, 0x30, 0x88, 0x70, 0x2e, 0x18, 0x73, 0xff, 0x7f, 0x8f, 0x47, 0x8f
    byte: 0x80, 0x0, 0x0, 0x20, 0x0, 0x10, 0x30, 0x70, 0x0, 0x0, 0xc0, 0xc0, 0xf0, 0xe0, 0xc0, 0x80
    byte: 0xc, 0xc, 0xc, 0x18, 0x18, 0x10, 0x10, 0x0, 0x30, 0x34, 0x3c, 0x28, 0x38, 0x30, 0x30, 0x20
    byte: 0x1, 0x5, 0x1d, 0x20, 0x1, 0x0, 0x0, 0x0, 0x3c, 0x38, 0x20, 0x40, 0x40, 0x40, 0x40, 0x80
    byte: 0x0, 0x3, 0x1c, 0x90, 0x80, 0x80, 0x40, 0x20, 0xff, 0xfc, 0xe0, 0x60, 0x78, 0x7c, 0x3c, 0x1e
    byte: 0x20, 0xc0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xc0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x38, 0x4c, 0x86, 0x36, 0x7e, 0x7e, 0x6c, 0x38, 0x0, 0x8, 0x4, 0x14, 0x3c, 0x38, 0x0, 0x0
    byte: 0x9e, 0x7f, 0x3f, 0x7, 0x4e, 0x3d, 0x3, 0xa, 0xf0, 0x68, 0x30, 0x3c, 0x5a, 0x3f, 0x7, 0xb
    byte: 0x12, 0x4, 0x2f, 0x2f, 0x3f, 0x3f, 0x5f, 0x2f, 0x13, 0xf, 0x3d, 0x3e, 0x34, 0x78, 0x70, 0x68
    byte: 0x0, 0x80, 0x60, 0xf0, 0xe8, 0xf8, 0xf0, 0xfc, 0xc0, 0x70, 0x98, 0xc, 0x14, 0x6, 0xe, 0x2
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x18, 0x20, 0x0, 0x0, 0x0, 0x0, 0x0, 0x64, 0xc0, 0x1c, 0x78, 0x3c, 0x12, 0x22, 0x20
    byte: 0xe7, 0x5a, 0x3c, 0x5a, 0x81, 0x81, 0x42, 0x0, 0x66, 0x42, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x10, 0x20, 0x0, 0x0, 0x1, 0x3, 0x1b, 0x3e, 0x3c, 0xfe, 0x7c, 0xfe
    byte: 0x41, 0x21, 0x10, 0x4, 0x0, 0x0, 0x0, 0x0, 0x20, 0x1c, 0xe, 0x3, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x3e, 0x0, 0xff, 0xfc, 0xf8, 0x73, 0x7f, 0x7e, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x8, 0x97, 0x59, 0x8, 0xe0, 0x0, 0x0, 0xec, 0xf6, 0x73, 0x39, 0x8
    byte: 0x0, 0x0, 0x1, 0x7, 0xf, 0xd, 0x1b, 0x10, 0x0, 0x1, 0x6, 0x9, 0x15, 0x1f, 0x2b, 0x30
    byte: 0x0, 0x40, 0xe0, 0xd8, 0xd8, 0xbc, 0x3e, 0xc, 0x60, 0xb0, 0xd8, 0xe4, 0xf6, 0xfb, 0x39, 0xa
    byte: 0x30, 0x26, 0x8, 0x18, 0x33, 0x6, 0x0, 0x0, 0xe, 0x19, 0x13, 0x1b, 0x32, 0x6, 0x0, 0x0
    byte: 0x4, 0x2, 0x31, 0x5b, 0x7b, 0x7e, 0x3e, 0x18, 0x0, 0x0, 0x0, 0x1a, 0x3a, 0x1c, 0x0, 0x0
    byte: 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

//----------------------------------------------------------------------------------------------------

def palpntrtbl:

    //($A718)
    word: palette00
    //($A73C)
    word: palette01
    //($A748)
    word: palette02
    //($A742)
    word: palette03
    //($A74E)
    word: palette04
    //($A754)
    word: palette05
    //($A754)
    word: palette05
    //($A759)
    word: palette06
    //($A75E)
    word: palette07
    //($A773)
    word: palette08
    //($A788)
    word: palette09
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A78D)
    word: palette0a
    //($A794)
    word: palette0b
    //($A79B)
    word: palette0c
    //($A7A2)
    word: palette0d
    //($A7A9)
    word: palette0e
    //($A7B1)
    word: palette0f
    //($A7B9)
    word: palette10
    //($A7C1)
    word: palette11
    //($A7C9)
    word: palette12

def areapointers:

    //($A83B)Beginning of special items table.
    word: specitmstbl
    //($A7D1)Beginning of room pointer table.
    word: rmptrtbl
    //($A7FB)Beginning of structure pointer table.
    word: strctptrtbl
    //($AE49)Beginning of macro definitions.
    word: macrodefs
    //($A42C)Address table into enemy animation data. Two-->
    word: enemyframeptrtbl1
    //($A52C)tables needed to accommodate all entries.
    word: enemyframeptrtbl2
    //($A540)Pointers to enemy frame placement data.
    word: enemyplaceptrtbl
    //($A406)Index to values in addr tables for enemy animations.
    word: enemyanimindextbl

    goto tourian_page_A320
    goto tourian_page_A315
    goto tourian_page_9C6F
    goto tourian_page_9CE6
    goto tourian_page_9D21
    goto tourian_page_9D3D
    goto tourian_page_9D6C
    goto tourian_page_A0C6
    goto tourian_page_A142

def arearoutine:

    //Area specific routine.
    goto tourian_page_9B25

def twoscompliment_:

def tourian_page_95C6:
    a = a ^ 0xff
    //The following routine returns the twos-->
    carry = 0
    //compliment of the value stored in A.
    a = a +# 0x1
    return

    //Not used.
    byte: 0xff

    //Tourian music init flag.
    byte: 0x40

    //Base damage caused by area enemies to lower health byte.
    byte: 0x0
    //Base damage caused by area enemies to upper health byte.
    byte: 0x3

//Special room numbers(used to start item room music).
    byte: 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff

    //Samus start x coord on world map.
    byte: 0x3
    //Samus start y coord on world map.
    byte: 0x4
    //Samus start verticle screen position.
    byte: 0x6e

    byte: 0x6, 0x0, 0x3, 0x21, 0x0, 0x0, 0x0, 0x0, 0x0, 0x10, 0x0

    a = [0x6b02:x]
    call tourian_page_8024

    word: tourian_page_97F9
    word: tourian_page_97F9
    word: tourian_page_9A27
    word: tourian_page_97DC
    word: tourian_page_9A2C
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC
    word: tourian_page_97DC


    byte: 0x8, 0x8, 0x8, 0x8, 0x16, 0x16, 0x18, 0x18, 0x1f, 0x1f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0xff, 0xff, 0x1, 0xff, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x5, 0x5, 0x5, 0x5, 0x16, 0x16, 0x18, 0x18, 0x1b, 0x1b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x5, 0x5, 0x5, 0x5, 0x16, 0x16, 0x18, 0x18, 0x1d, 0x1d, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x0, 0x0, 0x0, 0x2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

def tourian_page_968B:
    byte: 0xfe, 0xfe, 0x0, 0x0, 0xc0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x1, 0x1, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x1, 0x1, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x2, 0x0, 0x0, 0x4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

def tourian_page_96DB:
    word: tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5
    word: tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5
    word: tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5
    word: tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5
    word: tourian_page_97D5, tourian_page_97D5, tourian_page_97D5, tourian_page_97D5

    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x18, 0x30, 0x0, 0xc0, 0xd0, 0x0, 0x0, 0x7f
    byte: 0x80, 0x58, 0x54, 0x70, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x18, 0x30, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x4, 0x2, 0x0, 0x0, 0x0, 0xc, 0xfc, 0xfc, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x2, 0x2, 0x0, 0x0, 0x0, 0x2, 0x2, 0x2, 0x2
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

def tourian_page_977B:
    byte: 0x50, 0x50, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

    byte: 0x0, 0x0, 0x26, 0x26, 0x26, 0x26, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0xc, 0xf4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xf4, 0x0, 0x0, 0x0

    word: tourian_page_97D5, tourian_page_97D5, 0x97d8, 0x97db, 0xa32b, 0xa330, 0xa337, 0xa348
    word: tourian_page_A359, 0xa36a, 0xa37b, 0xa388, 0xa391, 0xa3a2, 0xa3b3, 0xa3c4
    word: tourian_page_A3D5, 0xa3de, 0xa3e7, 0xa3f0, 0xa3f9

    byte: 0x0, 0x0, 0x0, 0x1

def tourian_page_97D5:
    byte: 0x50, 0x22, 0xff

    byte: 0x50, 0x30, 0xff

    byte: 0xff

def tourian_page_97DC:
    a = 0x0
    [0x6af4:x] = a
    return

def tourian_page_97E2:
    a = [0x81]
    compare a to 0x1
    goto tourian_page_97F1 when zero
    compare a to 0x3
    goto tourian_page_97F6 when zero
    a = [0x0]
    goto tourian_page_8000
def tourian_page_97F1:
    a = [0x1]
    goto tourian_page_8003
def tourian_page_97F6:
    goto tourian_page_8006
def tourian_page_97F9:
    y = [0x10b]
    y++
    goto tourian_page_9804 when zero
    a = 0x0
    [0x6af4:x] = a
def tourian_page_9804:
    a = 0xf
    [0x0] = a
    [0x1] = a
    a = [0x405:x]
    a = a << 1
    goto tourian_page_97E2 when negative
    a = [0x6af4:x]
    compare a to 0x3
    goto tourian_page_97E2 when zero
    call tourian_page_99B7
    a = [0x77f8:y]
    goto tourian_page_9822 when zero
    goto tourian_page_9899
def tourian_page_9822:
    y = [0x408:x]
    a = [0x77f6:y]
    push a
    a = [0x402:x]
    goto tourian_page_983B when ~negative
    a = pop
    call tourian_page_95C6
    push a
    a = 0x0
    compare a to [0x406:x]
    a = a -# [0x402:x]
def tourian_page_983B:
    compare a to [0x77f6:y]
    a = pop
    goto tourian_page_9849 when ~carry
    [0x402:x] = a
    a = 0x0
    [0x406:x] = a
def tourian_page_9849:
    a = [0x77f6:y]
    push a
    a = [0x403:x]
    goto tourian_page_985F when ~negative
    a = pop
    call tourian_page_95C6
    push a
    a = 0x0
    compare a to [0x407:x]
    a = a -# [0x403:x]
def tourian_page_985F:
    compare a to [0x77f6:y]
    a = pop
    goto tourian_page_986D when ~carry
    [0x403:x] = a
    a = 0x0
    [0x407:x] = a
def tourian_page_986D:
    a = [0x405:x]
    push a
    call tourian_page_9A06
    [0x6aff:x] = a
    a = pop
    a = a >> 1
    a = a >> 1
    call tourian_page_9A06
    [0x6afe:x] = a
    a = [0x6af4:x]
    compare a to 0x4
    goto tourian_page_9894 when ~zero
    y = [0x40b:x]
    y++
    goto tourian_page_9899 when ~zero
    a = 0x5
    [0x40b:x] = a
    goto tourian_page_9899 when ~zero
def tourian_page_9894:
    a = 0xff
    [0x40b:x] = a
def tourian_page_9899:
    a = [0x81]
    compare a to 0x6
    goto tourian_page_98A9 when ~zero
    compare a to [0x6af4:x]
    goto tourian_page_98A9 when zero
    a = 0x4
    [0x6af4:x] = a
def tourian_page_98A9:
    a = [0x404:x]
    a = a & 0x20
    goto tourian_page_990F when zero
    call tourian_page_99B7
    a = [0x77f8:y]
    goto tourian_page_98EF when zero
    a = [0x40e:x]
    compare a to 0x7
    goto tourian_page_98C3 when zero
    compare a to 0xa
    goto tourian_page_9932 when ~zero
def tourian_page_98C3:
    a = [0x2d]
    a = a & 0x2
    goto tourian_page_9932 when ~zero
    a = [0x77f8:y]
    carry = 0
    a = a +# 0x10
    [0x77f8:y] = a
    a = a & 0x70
    compare a to 0x50
    goto tourian_page_9932 when ~zero
    a = 0x2
    a = a | [0x40f:x]
    [0x40c:x] = a
    a = 0x6
    [0x6af4:x] = a
    a = 0x20
    [0x40f:x] = a
    a = 0x1
    [0x40d:x] = a
def tourian_page_98EF:
    a = 0x0
    [0x404:x] = a
    [0x77f8:y] = a
    [0x406:x] = a
    [0x407:x] = a
    a = [0x6afe:x]
    call tourian_page_9A10
    [0x402:x] = a
    a = [0x6aff:x]
    call tourian_page_9A10
    [0x403:x] = a
def tourian_page_990F:
    call tourian_page_99B7
    a = [0x77f8:y]
    goto tourian_page_9932 when ~zero
    a = [0x404:x]
    a = a & 0x4
    goto tourian_page_9964 when zero
    a = [0x403:x]
    a = a & 0x80
    a = a | 0x1
    y = a
    call tourian_page_99C3
    call tourian_page_99BD
    a = y
    [0x77f8:x] = a
    a = x
    y = a
def tourian_page_9932:
    a = y
    x = a
    a = [0x77f8:x]
    push p
    a = a & 0xf
    compare a to 0xc
    goto tourian_page_9941 when zero
    [0x77f8:x]++
def tourian_page_9941:
    y = a
    a = [tourian_page_99D7:y]
    [0x4] = a
    [0x5] = y
    a = 0xc
    carry = 1
    a = a -# [0x5]
    x = [0x4b]
    p = pop
    goto tourian_page_9956 when negative
    call tourian_page_95C6
def tourian_page_9956:
    [0x5] = a
    call tourian_page_99E4
    call tourian_page_8027
    call tourian_page_99F4
    goto tourian_page_9967
def tourian_page_9964:
    call tourian_page_99AE
def tourian_page_9967:
    a = [0x6af4:x]
    compare a to 0x3
    goto tourian_page_9971 when ~zero
    call tourian_page_99AE
def tourian_page_9971:
    y = 0x0
    a = [0x77f8]
    a = a | [0x77f9]
    a = a | [0x77fa]
    a = a | [0x77fb]
    a = a | [0x77fc]
    a = a | [0x77fd]
    a = a & 0xc
    compare a to 0xc
    goto tourian_page_999E when ~zero
    a = [0x106]
    a = a | [0x107]
    goto tourian_page_999E when zero
    [0x6f] = y
    y = 0x4
    [0x6e] = y
    call tourian_page_8042
    y = 0x1
def tourian_page_999E:
    [0x92] = y
    a = [0x6b]
    goto tourian_page_99AB when negative
    a = [0x6b02:x]
    a = a | 0xa2
    [0x6b] = a
def tourian_page_99AB:
    goto tourian_page_97E2
def tourian_page_99AE:
    call tourian_page_99B7
def tourian_page_99B1:
    a = 0x0
    [0x77f8:y] = a
    return

def tourian_page_99B7:
    a = x
    call tourian_page_9B1B
    y = a
    return
def tourian_page_99BD:
    a = x
    call tourian_page_9B1B
    x = a
    return

def tourian_page_99C3:
    a = 0x0
    [0x402:x] = a
    [0x403:x] = a
    [0x407:x] = a
    [0x406:x] = a
def tourian_page_99D1:
    [0x6aff:x] = a
    [0x6afe:x] = a
def tourian_page_99D7:
    return

    byte: 0x0, 0xfc, 0xf9, 0xf7, 0xf6, 0xf6, 0xf5, 0xf5, 0xf5, 0xf6, 0xf6, 0xf8
 
def tourian_page_99E4:
    a = [0x30e]
    [0x9] = a
    a = [0x30d]
    [0x8] = a
    a = [0x30c]
    [0xb] = a
    return

def tourian_page_99F4:
    a = [0x9]
    [0x401:x] = a
    a = [0x8]
    [0x400:x] = a
    a = [0xb]
    a = a & 0x1
    [0x6afb:x] = a
    return

def tourian_page_9A06:
    a = a >> 1
    a = [0x408:x]
    a = a <<< 1
    y = a
    a = [0x77f2:y]
    return

def tourian_page_9A10:
    a = a << 1
    a = a <<< 1
    a = a & 0x1
    y = a
    a = [0x77f0:y]
    return

    byte: 0xf8, 0x8, 0x30, 0xd0, 0x60, 0xa0, 0x2, 0x4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

def tourian_page_9A27:
    a = 0x1
    goto tourian_page_8003
def tourian_page_9A2C:
    y = [0x6af4:x]
    compare y to 0x2
    goto tourian_page_9AB0 when ~zero
    y--
    compare y to [0x81]
    goto tourian_page_9AB0 when ~zero
    a = 0x0
    call tourian_page_99D1
    [0x6afc:x] = a
    [0x6afd:x] = a
    a = [0x30e]
    carry = 1
    a = a -# [0x401:x]
    [0x1] = a
    a = [0x405:x]
    push a
    a = a >> 1
    push a
    goto tourian_page_9A5A when ~carry
    a = 0x0
    a = a -# [0x1]
    [0x1] = a
def tourian_page_9A5A:
    a = [0x30d]
    carry = 1
    a = a -# [0x400:x]
    [0x0] = a
    a = pop
    a = a >> 1
    a = a >> 1
    goto tourian_page_9A6E when ~carry
    a = 0x0
    a = a -# [0x0]
    [0x0] = a
def tourian_page_9A6E:
    a = [0x0]
    a = a | [0x1]
    y = 0x3
def tourian_page_9A74:
    a = a << 1
    goto tourian_page_9A7A when carry
    y--
    goto tourian_page_9A74 when ~zero
def tourian_page_9A7A:
    y--
    goto tourian_page_9A83 when negative
    [0x0] = [0x0] >> 1
    [0x1] = [0x1] >> 1
    goto tourian_page_9A7A when ~negative
def tourian_page_9A83:
    call tourian_page_9AF9
    a = pop
    a = a >> 1
    push a
    goto tourian_page_9A9B when ~carry
    a = 0x0
    a = a -# [0x407:x]
    [0x407:x] = a
    a = 0x0
    a = a -# [0x403:x]
    [0x403:x] = a
def tourian_page_9A9B:
    a = pop
    a = a >> 1
    a = a >> 1
    goto tourian_page_9AB0 when ~carry
    a = 0x0
    a = a -# [0x406:x]
    [0x406:x] = a
    a = 0x0
    a = a -# [0x402:x]
    [0x402:x] = a
def tourian_page_9AB0:
    a = [0x405:x]
    a = a << 1
    goto tourian_page_9AF4 when negative
    a = [0x406:x]
    carry = 0
    a = a +# [0x6afc:x]
    [0x6afc:x] = a
    a = [0x402:x]
    a = a +# 0x0
    [0x4] = a
    a = [0x407:x]
    carry = 0
    a = a +# [0x6afd:x]
    [0x6afd:x] = a
    a = [0x403:x]
    a = a +# 0x0
    [0x5] = a
    a = [0x400:x]
    [0x8] = a
    a = [0x401:x]
    [0x9] = a
    a = [0x6afb:x]
    [0xb] = a
    call tourian_page_8027
    goto tourian_page_9AF1 when carry
    a = 0x0
    [0x6af4:x] = a
def tourian_page_9AF1:
    call tourian_page_99F4
def tourian_page_9AF4:
    a = 0x8
    goto tourian_page_8003
def tourian_page_9AF9:
    a = [0x0]
    push a
    call tourian_page_9B1B
    [0x402:x] = a
    a = pop
    call tourian_page_9B20
    [0x406:x] = a
    a = [0x1]
    push a
    call tourian_page_9B1B
    [0x403:x] = a
    a = pop
    call tourian_page_9B20
    [0x407:x] = a
    return

    a = a >> 1
def tourian_page_9B1B:
    a = a >> 1
    a = a >> 1
    a = a >> 1
    a = a >> 1
    return

def tourian_page_9B20:
    a = a << 1
    a = a << 1
    a = a << 1
    a = a << 1
    return

def tourian_page_9B25:
    call tourian_page_9B37
    call 0x9dd4
    call tourian_page_A1E7
    call tourian_page_A238
    call tourian_page_A28B
    goto tourian_page_A15E
def tourian_page_9B37:
    x = 0x78
def tourian_page_9B39:
    call tourian_page_9B44
    a = [0x97]
    carry = 1
    a = a -# 0x8
    x = a
    goto tourian_page_9B39 when ~zero
def tourian_page_9B44:
    [0x97] = x
    y = [0x6bf4:x]
    goto tourian_page_9B4C when ~zero
def tourian_page_9B4B:
    return

def tourian_page_9B4C:
    call tourian_page_9C4D
    a = y
    goto tourian_page_9B4B when ~zero
    y = [0x10b]
    y++
    goto tourian_page_9B65 when ~zero
    a = [0x6bf8:x]
    compare a to 0x5
    goto tourian_page_9B4B when zero
    call tourian_page_9B70
    goto tourian_page_9C2B
def tourian_page_9B65:
    a = [0x2d]
    a = a & 0x2
    goto tourian_page_9B4B when ~zero
    a = 0x19
    goto tourian_page_9C31
def tourian_page_9B70:
    y = [0x6bf8:x]
    a = [0x6bfa:x]
    goto tourian_page_9B81 when ~zero
    a = [tourian_page_9D8F:y]
    [0x6bfa:x] = a
    [0x6bfb:x]++
def tourian_page_9B81:
    [0x6bfa:x]--
def tourian_page_9B84:
    a = [0x9d94:y]
    carry = 0
    a = a +# [0x6bfb:x]
    y = a
    a = [0x9d99:y]
    goto tourian_page_9BAB when ~negative
    compare a to 0xff
    goto tourian_page_9B9F when ~zero
    y = [0x6bf8:x]
    a = 0x0
    [0x6bfb:x] = a
    goto tourian_page_9B84 when zero
def tourian_page_9B9F:
    [0x6bfb:x]++
    call tourian_page_9BAF
    y = [0x6bf8:x]
    goto tourian_page_9B84
def tourian_page_9BAB:
    [0x6bf9:x] = a
    return

def tourian_page_9BAF:
    push a
    a = [motherbrainstatus]
    compare a to 0x4
    goto tourian_page_9BC6 when carry
    y = 0x60
def tourian_page_9BB8:
    a = [0x6af4:y]
    goto tourian_page_9BC8 when zero
    a = y
    carry = 0
    a = a +# 0x10
    y = a
    compare a to 0xa0
    goto tourian_page_9BB8 when ~zero
def tourian_page_9BC6:
    a = pop
    return

def tourian_page_9BC8:
    [0x4b] = y
    a = [0x6bf5:x]
    [0x400:y] = a
    a = [0x6bf6:x]
    [0x401:y] = a
    a = [0x6bf7:x]
    [0x6afb:y] = a
    a = 0x2
    [0x6af4:y] = a
    a = 0x0
    [0x409:y] = a
    [0x6af8:y] = a
    [0x408:y] = a
    a = pop
    call tourian_page_95C6
    x = a
    [0x40a:y] = a
    a = a | 0x2
    [0x405:y] = a
    a = [0x9c26:x]
    [0x6af9:y] = a
    [0x6afa:y] = a
    a = [0x9dcc:x]
    [0x5] = a
    a = [tourian_page_9DCF:x]
    [0x4] = a
    x = [0x97]
    a = [0x6bf5:x]
    [0x8] = a
    a = [0x6bf6:x]
    [0x9] = a
    a = [0x6bf7:x]
    [0xb] = a
    a = y
    x = a
    call tourian_page_8027
    call tourian_page_99F4
    x = [0x97]
    return

    byte: 0xc, 0xa, 0xe

def tourian_page_9C2B:
    y = [0x6bf9:x]
    a = [0x9dc6:y]
def tourian_page_9C31:
    [0x6bd7] = a
    a = [0x6bf5:x]
    [0x4e0] = a
    a = [0x6bf6:x]
    [0x4e1] = a
    a = [0x6bf7:x]
    [0x6bdb] = a
    a = 0xe0
    [0x4b] = a
    goto tourian_page_803C
def tourian_page_9C4D:
    y = 0x0
    a = [0x6bf6:x]
    compare a to [0xfd]
    a = [0x49]
    a = a & 0x2
    goto tourian_page_9C5F when ~zero
    a = [0x6bf5:x]
    compare a to [0xfc]
def tourian_page_9C5F:
    a = [0x6bf7:x]
    a = a ^ [0xff]
    a = a & 0x1
    goto tourian_page_9C6B when zero
    goto tourian_page_9C6D when carry
    carry = 1
def tourian_page_9C6B:
    goto tourian_page_9C6E when carry
def tourian_page_9C6D:
    y++
def tourian_page_9C6E:
    return

def tourian_page_9C6F:
    [0x2] = y
    y = 0x0
def tourian_page_9C73:
    a = [0x6bf7:y]
    a = a ^ [0x2]
    a = a >> 1
    goto tourian_page_9C80 when carry
    a = 0x0
    [0x6bf4:y] = a
def tourian_page_9C80:
    a = y
    carry = 0
    a = a +# 0x8
    y = a
    goto tourian_page_9C73 when ~negative
    x = 0x0
def tourian_page_9C89:
    a = [0x758:x]
    goto tourian_page_9C99 when zero
    call tourian_page_9D64
    a = a ^ [0x75a:x]
    goto tourian_page_9C99 when ~zero
    [0x758:x] = a
def tourian_page_9C99:
    a = x
    carry = 0
    a = a +# 0x8
    x = a
    compare a to 0x28
    goto tourian_page_9C89 when ~zero
    x = 0x0
    call tourian_page_9CD6
    x = 0x3
    call tourian_page_9CD6
    a = [motherbrainstatus]
    goto tourian_page_9CC3 when zero
    compare a to 0x7
    goto tourian_page_9CC3 when zero
    compare a to 0xa
    goto tourian_page_9CC3 when zero
    a = [0x9d]
    a = a ^ [0x2]
    a = a >> 1
    goto tourian_page_9CC3 when carry
    a = 0x0
    [motherbrainstatus] = a
def tourian_page_9CC3:
    a = [0x10d]
    goto tourian_page_9CD5 when zero
    a = [0x10c]
    a = a ^ [0x2]
    a = a >> 1
    goto tourian_page_9CD5 when carry
    a = 0x0
    [0x10d] = a
def tourian_page_9CD5:
    return

def tourian_page_9CD6:
    a = [0x8b:x]
    goto tourian_page_9CE5 when negative
    a = [0x8c:x]
    a = a ^ [0x2]
    a = a >> 1
    goto tourian_page_9CE5 when carry
    a = 0xff
    [0x8b:x] = a
def tourian_page_9CE5:
    return

def tourian_page_9CE6:
    x = 0x0
def tourian_page_9CE8:
    a = [0x6bf4:x]
    goto tourian_page_9CF6 when zero
    a = x
    carry = 0
    a = a +# 0x8
    x = a
    goto tourian_page_9CE8 when ~negative
    goto tourian_page_9D20 when negative
def tourian_page_9CF6:
    a = [[0x0]:y]
    call tourian_page_9B1B
    [0x6bf8:x] = a
    a = 0x1
    [0x6bf4:x] = a
    [0x6bfb:x] = a
    y++
    a = [[0x0]:y]
    push a
    a = a & 0xf0
    a = a | 0x7
    [0x6bf5:x] = a
    a = pop
    call tourian_page_9B20
    a = a | 0x7
    [0x6bf6:x] = a
    call tourian_page_9D88
    [0x6bf7:x] = a
def tourian_page_9D20:
    return
 
def tourian_page_9D21:
    a = 0x1
    [motherbrainstatus] = a
    call tourian_page_9D88
    [0x9d] = a
    a = a ^ 0x1
    x = a
    a = [0x9d3c]
    a = a | [0x6c:x]
    [0x6c:x] = a
    a = 0x20
    [0x9a] = a
    [0x9b] = a
    return

    byte: 0x2, 0x1

def tourian_page_9D3D:
    a = [[0x0]:y]
    a = a & 0xf0
    a = a >> 1
    x = a
    a = a << 1
    a = a & 0x10
    a = a ^ 0x10
    a = a | 0x84
    [0x759:x] = a
    call tourian_page_9D64
    [0x75a:x] = a
    a = 0x1
    [0x758:x] = a
    a = 0x0
    [0x75b:x] = a
    [0x75c:x] = a
    [0x75d:x] = a
    return

def tourian_page_9D64:
    call tourian_page_9D88
    a = a << 1
    a = a << 1
    a = a | 0x61
    return

def tourian_page_9D6C:
    x = 0x3
    call tourian_page_9D75
    goto tourian_page_9D87 when negative
    x = 0x0
def tourian_page_9D75:
    a = [0x8b:x]
    goto tourian_page_9D87 when ~negative
    a = [[0x0]:y]
    call tourian_page_9B1B
    [0x8b:x] = a
    call tourian_page_9D88
    [0x8c:x] = a
    a = 0xff
def tourian_page_9D87:
    return

def tourian_page_9D88:
    a = [0xff]
    a = a ^ [0x49]
    a = a & 0x1
    return

def tourian_page_9D8F:
    byte: 0x28, 0x28, 0x28, 0x28, 0x28, 0x0, 0xb, 0x16, 0x21, 0x27, 0x0, 0x1, 0x2, 0xfd, 0x3, 0x4
    byte: 0xfd, 0x3, 0x2, 0x1, 0xff, 0x0, 0x7, 0x6, 0xfe, 0x5, 0x4, 0xfe, 0x5, 0x6, 0x7, 0xff
    byte: 0x2, 0x3, 0xfc, 0x4, 0x5, 0x6, 0x5, 0xfc, 0x4, 0x3, 0xff, 0x2, 0x3, 0xfc, 0x4, 0x3
    byte: 0xff, 0x6, 0x5, 0xfc, 0x4, 0x5, 0xff, 0x6, 0x7, 0x8, 0x9, 0xa, 0xb, 0xc, 0xd, 0x9

def tourian_page_9DCF:
    byte: 0xf7, 0x0, 0x9, 0x9, 0xb, 0xa5, 0x98, 0xf0, 0x19, 0x20, 0x24, 0x80, 0xcb, 0x95, 0x22, 0x9e
    byte: 0x36, 0x9e, 0x52, 0x9e, 0x86, 0x9e, 0x2, 0x9f, 0x49, 0x9f, 0xc0, 0x9f, 0x2, 0x9f, 0xda, 0x9f
    byte: 0xcb, 0x95, 0x60

def tourian_page_9DF2:
    a = [0x30c]
    a = a ^ [0x9d]
    goto 0x9df1 when ~zero
    a = [0x30e]
    carry = 1
    a = a -# 0x48
    compare a to 0x2f
    goto 0x9df1 when carry
    a = [0x30d]
    carry = 1
    a = a -# 0x80
    goto tourian_page_9E0E when ~negative
    call tourian_page_95C6
def tourian_page_9E0E:
    compare a to 0x20
    goto 0x9df1 when carry
    a = 0x0
    [0x6e] = a
    a = 0x2
    [0x6f] = a
    a = 0x38
    [0x30a] = a
    goto tourian_page_8042
    call tourian_page_9DF2
    call tourian_page_9FED
    call tourian_page_A01B
    call tourian_page_A02E
def tourian_page_9E2E:
    call tourian_page_A041
def tourian_page_9E31:
    a = 0x0
    [0x9e] = a
    return

    call tourian_page_9E43
    a = [tourian_page_9E41:y]
    [0x1c] = a
    goto tourian_page_9E31

def tourian_page_9E41:
    byte: 0x8, 0x7

def tourian_page_9E43:
    [0x9f]--
    goto tourian_page_9E4B when ~zero
    a = 0x1
    [motherbrainstatus] = a
def tourian_page_9E4B:
    a = [0x9f]
    a = a & 0x2
    a = a >> 1
    y = a
    return

    call tourian_page_9E43
    a = [tourian_page_9E41:y]
    [0x1c] = a
    a = y
    a = a << 1
    a = a << 1
    [0xfc] = a
    y = [motherbrainstatus]
    y--
    goto tourian_page_9E83 when ~zero
    [motherbrainhits] = y
    a = y
    x = a
def tourian_page_9E68:
    a = y
    [0x6af4:x] = a
    call tourian_page_9EF9
    compare x to 0xc0
    goto tourian_page_9E68 when ~zero
    a = 0x4
    [motherbrainstatus] = a
    a = 0x28
    [0x9f] = a
    a = [0x680]
    a = a | 0x1
    [0x680] = a
def tourian_page_9E83:
    goto tourian_page_9E2E
    a = 0x10
    a = a | [0x680]
    [0x680] = a
    call tourian_page_A072
    [0x9a]++
    call tourian_page_9E43
    x = 0x0
def tourian_page_9E98:
    a = [0x6af4:x]
    compare a to 0x5
    goto tourian_page_9EA4 when ~zero
    a = 0x0
    [0x6af4:x] = a
def tourian_page_9EA4:
    call tourian_page_9EF9
    compare a to 0x40
    goto tourian_page_9E98 when ~zero
    a = [0x7a0]
    goto tourian_page_9EB5 when ~zero
    a = [tourian_page_9F00:y]
    [0x1c] = a
def tourian_page_9EB5:
    y = [motherbrainstatus]
    y--
    goto tourian_page_9ED5 when ~zero
    [0x9a] = y
    a = 0x4
    [motherbrainstatus] = a
    a = 0x1c
    [0x9f] = a
    y = [motherbrainhits]
    [motherbrainhits]++
    compare y to 0x4
    goto tourian_page_9ED3 when zero
    x = 0x0
    goto tourian_page_9ED5 when ~carry
    goto tourian_page_9ED6
def tourian_page_9ED3:
    [0x9f] = [0x9f] >> 1
def tourian_page_9ED5:
    return

def tourian_page_9ED6:
    a = [0x685]
    a = a | 0x4
    [0x685] = a
    a = 0x5
    [motherbrainstatus] = a
    a = 0x80
    [motherbrainhits] = a
    return

def tourian_page_9EE7:
    push a
    a = a & 0xf0
    a = a | 0x7
    [0x400:x] = a
    a = pop
    call tourian_page_9B20
    a = a | 0x7
    [0x401:x] = a
    return

def tourian_page_9EF9:
    a = x
    carry = 0
    a = a +# 0x10
    x = a
    return

    byte: 0x60

def tourian_page_9F00:
    a = a | 0xa
    a = [motherbrainhits]
    goto tourian_page_9F33 when negative
    compare a to 0x8
    goto tourian_page_9F36 when zero
    y = a
    a = [0x9f41:y]
    [0x503] = a
    a = [tourian_page_9F39:y]
    carry = 0
    a = a +# 0x42
    [0x508] = a
    push p
    a = [0x9d]
    a = a << 1
    a = a << 1
    p = pop
    a = a +# 0x61
    [0x509] = a
    a = 0x0
    [0x4b] = a
    a = [0x7a0]
    goto tourian_page_9F38 when ~zero
    call tourian_page_803F
    goto tourian_page_9F38 when carry
def tourian_page_9F33:
    [motherbrainhits]++
    return

def tourian_page_9F36:
    [motherbrainstatus]++
def tourian_page_9F38:
    return

def tourian_page_9F39:
    byte: 0x0, 0x40, 0x8, 0x48, 0x80, 0xc0, 0x88, 0xc8, 0x8, 0x2, 0x9, 0x3, 0xa, 0x4, 0xb

    a = a | [0x20]
    a = a +# 0x9f
    goto tourian_page_9F64 when carry
    a = 0x0
    [motherbrainstatus] = a
    a = 0x99
    [0x10a] = a
    [0x10b] = a
    a = 0x1
    [0x10d] = a
    a = [0x9d]
    [0x10c] = a
def tourian_page_9F64:
    return

def tourian_page_9F65:
    byte: 0x80, 0xb0, 0xa0, 0x90

def tourian_page_9F69:
    a = [0x50]
    carry = 0
    a = a +# [0x4f]
    carry = 1
    a = a <<< 1
    a = a & 0x3
    y = a
    x = [tourian_page_9F65:y]
    a = 0x1
    [0x30f:x] = a
    a = 0x1
    [0x307:x] = a
    a = 0x3
    [0x300:x] = a
    a = [0x9d]
    [0x30c:x] = a
    a = 0x10
    [0x30e:x] = a
    a = 0x68
    [0x30d:x] = a
    a = 0x55
    [0x305:x] = a
    [0x306:x] = a
    a = 0x0
    [0x304:x] = a
    a = 0xf7
    [0x303:x] = a
    a = 0x10
    [0x503] = a
    a = 0x40
    [0x508] = a
    a = [0x9d]
    a = a << 1
    a = a << 1
    a = a | 0x61
    [0x509] = a
    a = 0x0
    [0x4b] = a
    goto tourian_page_803F
    a = 0x10
    a = a | [0x680]
    [0x680] = a
    a = [0x2c]
    goto tourian_page_9FD9 when ~zero
    a = 0x8
    [0x300] = a
    a = 0xa
    [motherbrainstatus] = a
    a = 0x1
    [0x1c] = a
def tourian_page_9FD9:
    return

    call tourian_page_9F69
    goto tourian_page_9FEC when carry
    a = [0x9d]
    [0x10c] = a
    y = 0x1
    [0x10d] = y
    y--
    [motherbrainstatus] = y
def tourian_page_9FEC:
    return

def tourian_page_9FED:
    a = [0x9e]
    goto tourian_page_A01A when zero
    a = [0x684]
    a = a | 0x2
    [0x684] = a
    [motherbrainhits]++
    a = [motherbrainhits]
    compare a to 0x20
    y = 0x2
    a = 0x10
    goto tourian_page_A016 when ~carry
    x = 0x0
def tourian_page_A007:
    a = 0x0
    [0x500:x] = a
    call tourian_page_9EF9
    compare a to 0xd0
    goto tourian_page_A007 when ~zero
    y++
    a = 0x80
def tourian_page_A016:
    [motherbrainstatus] = y
    [0x9f] = a
def tourian_page_A01A:
    return

def tourian_page_A01B:
    [0x9a]--
    goto tourian_page_A02D when ~zero
    a = [0x2e]
    a = a & 0x3
    [0x9c] = a
    a = 0x20
    carry = 1
    a = a -# [motherbrainhits]
    a = a >> 1
    [0x9a] = a
def tourian_page_A02D:
    return

def tourian_page_A02E:
    [0x9b]--
    a = [0x9b]
    a = a << 1
    goto tourian_page_A040 when ~zero
    a = 0x20
    carry = 1
    a = a -# [motherbrainhits]
    a = a | 0x80
    a = a ^ [0x9b]
    [0x9b] = a
def tourian_page_A040:
    return

def tourian_page_A041:
    a = 0xe0
    [0x4b] = a
    a = [0x9d]
    [0x6bdb] = a
    a = 0x70
    [0x4e0] = a
    a = 0x48
    [0x4e1] = a
    y = [0x9c]
    a = [tourian_page_A06D:y]
    [0x6bd7] = a
    call tourian_page_803C
    a = [0x9b]
    goto tourian_page_A06C when negative
    a = [0xa071]
    [0x6bd7] = a
    call tourian_page_803C
def tourian_page_A06C:
    return

def tourian_page_A06D:
    byte: 0x13, 0x14, 0x15, 0x16, 0x17

def tourian_page_A072:
    y = [motherbrainhits]
    goto tourian_page_A086 when zero
    a = [0xa0c0:y]
    carry = 0
    a = a +# [0x9a]
    y = a
    a = [tourian_page_A0A3:y]
    compare a to 0xff
    goto tourian_page_A087 when ~zero
    [0x9a]--
def tourian_page_A086:
    return

def tourian_page_A087:
    a = a +# 0x44
    [0x508] = a
    push p
    a = [0x9d]
    a = a << 1
    a = a << 1
    a = a | 0x61
    p = pop
    a = a +# 0x0
    [0x509] = a
    a = 0x0
    [0x503] = a
    [0x4b] = a
    goto tourian_page_803F

def tourian_page_A0A3:
    byte: 0x0, 0x2, 0x4, 0x6, 0x8, 0x40, 0x80, 0xc0, 0x48, 0x88, 0xc8, 0xff, 0x42, 0x81, 0xc1, 0x27
    byte: 0xff, 0x82, 0x43, 0x25, 0x47, 0xff, 0xc2, 0xc4, 0xc6, 0xff, 0x84, 0x45, 0x86, 0xff, 0x0, 0xc
    byte: 0x11, 0x16, 0x1a

def tourian_page_A0C6:
    a = [0x71]
    goto tourian_page_A13E when zero
    x = [0x4b]
    a = [0x300:x]
    compare a to 0xb
    goto tourian_page_A13E when ~zero
    compare y to 0x98
    goto tourian_page_A103 when ~zero
    x = 0x0
def tourian_page_A0D9:
    a = [0x500:x]
    goto tourian_page_A0E7 when zero
    call tourian_page_9EF9
    compare a to 0xd0
    goto tourian_page_A0D9 when ~zero
    goto tourian_page_A13E when zero
def tourian_page_A0E7:
    a = 0x8c
    [0x508:x] = a
    a = [0x5]
    [0x509:x] = a
    a = 0x1
    [0x503:x] = a
    a = [0x4b]
    push a
    [0x4b] = x
    call tourian_page_803F
    a = pop
    [0x4b] = a
    goto tourian_page_A13E when ~zero
def tourian_page_A103:
    a = [0x4]
    a = a >> 1
    goto tourian_page_A10A when ~carry
    [0x4]--
def tourian_page_A10A:
    y = 0x0
    a = [[0x4]:y]
    a = a >> 1
    goto tourian_page_A13E when carry
    compare a to 0x48
    goto tourian_page_A13E when ~carry
    compare a to 0x4c
    goto tourian_page_A13E when carry
def tourian_page_A119:
    a = [0x758:y]
    goto tourian_page_A12E when zero
    a = [0x4]
    a = a & 0x9e
    compare a to [0x759:y]
    goto tourian_page_A12E when ~zero
    a = [0x5]
    compare a to [0x75a:y]
    goto tourian_page_A139 when zero
def tourian_page_A12E:
    a = y
    carry = 0
    a = a +# 0x8
    y = a
    compare a to 0x28
    goto tourian_page_A119 when ~zero
    goto tourian_page_A13E when zero
def tourian_page_A139:
    a = 0x1
    [0x75d:y] = a
def tourian_page_A13E:
    a = pop
    a = pop
    carry = 0
    return

def tourian_page_A142:
    y = a
    a = [0x71]
    goto tourian_page_A15C when zero
    x = [0x4b]
    a = [0x300:x]
    compare a to 0xb
    goto tourian_page_A15C when ~zero
    compare y to 0x5e
    goto tourian_page_A15C when ~carry
    compare y to 0x72
    goto tourian_page_A15C when carry
    a = 0x1
    [0x9e] = a
def tourian_page_A15C:
    a = y
def tourian_page_A15D:
    return

def tourian_page_A15E:
    y = [0x10b]
    y++
    goto tourian_page_A1DA when ~zero
    y = 0x3
    call tourian_page_A16B
    y = 0x0
def tourian_page_A16B:
    [0x4b] = y
    a = [0x8b:y]
    goto tourian_page_A15D when negative
    a = [0x8c:y]
    a = a ^ [0x2d]
    a = a >> 1
    goto tourian_page_A15D when ~carry
    a = [motherbrainstatus]
    compare a to 0x4
    goto tourian_page_A15D when carry
    a = [0x2d]
    a = a & 0x6
    goto tourian_page_A15D when ~zero
    x = 0x20
def tourian_page_A188:
    a = [0x6af4:x]
    goto tourian_page_A19C when zero
    a = [0x405:x]
    a = a & 0x2
    goto tourian_page_A19C when zero
    a = x
    carry = 1
    a = a -# 0x10
    x = a
    goto tourian_page_A188 when ~negative
    return

def tourian_page_A19C:
    a = 0x1
    [0x6af4:x] = a
    a = 0x4
    [0x6b02:x] = a
    a = 0x0
    [0x40f:x] = a
    [0x404:x] = a
    call tourian_page_802A
    a = 0xf7
    [0x6af7:x] = a
    y = [0x4b]
    a = [0x8c:y]
    [0x6afb:x] = a
    a = [0x8d:y]
    a = a << 1
    a = a | [0x8b:y]
    y = a
    a = [tourian_page_A1DB:y]
    call tourian_page_9EE7
    x = [0x4b]
    [0x8d:x]++
    a = [0x8d:x]
    compare a to 0x6
    goto tourian_page_A1DA when ~zero
    a = 0x0
    [0x8d:x] = a
def tourian_page_A1DA:
    return

def tourian_page_A1DB:
    byte: 0x22, 0x2a, 0x2a, 0xba, 0xb2, 0x2a, 0xc4, 0x2a, 0xc8, 0xba, 0xba, 0xba

def tourian_page_A1E7:
    y = [0x10b]
    y++
    goto tourian_page_A237 when zero
    a = [0x10a]
    [0x3] = a
    a = 0x1
    carry = 1
    call tourian_page_8045
    [0x10a] = a
    a = [0x10b]
    [0x3] = a
    a = 0x0
    call tourian_page_8045
    [0x10b] = a
    a = [0x2d]
    a = a & 0x1f
    goto tourian_page_A216 when ~zero
    a = [0x681]
    a = a | 0x8
    [0x681] = a
def tourian_page_A216:
    a = [0x10a]
    a = a | [0x10b]
    goto tourian_page_A237 when ~zero
    [0x10b]--
    [motherbrainhits] = a
    a = 0x7
    [motherbrainstatus] = a
    a = [0x680]
    a = a | 0x1
    [0x680] = a
    a = 0xc
    [0x2c] = a
    a = 0xb
    [0x1c] = a
def tourian_page_A237:
    return

def tourian_page_A238:
    a = [0x10d]
    goto tourian_page_A28A when zero
    a = [0x10c]
    [0x6bdb] = a
    a = 0x84
    [0x4e0] = a
    a = 0x64
    [0x4e1] = a
    a = 0x1a
    [0x6bd7] = a
    a = 0xe0
    [0x4b] = a
    a = [0x5b]
    push a
    call tourian_page_803C
    a = pop
    compare a to [0x5b]
    goto tourian_page_A28A when zero
    x = a
    a = [0x10b]
    a = a >> 1
    a = a >> 1
    a = a >> 1
    carry = 1
    a = a >>> 1
    a = a & 0xf
    a = a | 0xa0
    [0x201:x] = a
    a = [0x10b]
    a = a & 0xf
    a = a | 0xa0
    [0x205:x] = a
    a = [0x10a]
    a = a >> 1
    a = a >> 1
    a = a >> 1
    carry = 1
    a = a >>> 1
    a = a & 0xf
    a = a | 0xa0
    [0x209:x] = a
def tourian_page_A28A:
    return

def tourian_page_A28B:
    a = 0x10
    [0x4b] = a
    x = 0x20
def tourian_page_A291:
    call tourian_page_A29B
    a = x
    carry = 1
    a = a -# 0x8
    x = a
    goto tourian_page_A291 when ~zero
def tourian_page_A29B:
    a = [0x758:x]
    a = a & 0xf
    compare a to 0x1
    goto tourian_page_A28A when ~zero
    a = [0x75d:x]
    goto tourian_page_A2F2 when zero
    [0x75b:x]++
    a = [0x75b:x]
    a = a >> 1
    goto tourian_page_A2F2 when carry
    y = a
    a = a -# 0x3
    goto tourian_page_A2BA when ~zero
    [0x758:x]++
def tourian_page_A2BA:
    a = [tourian_page_A310:y]
    [0x513] = a
    a = [0x759:x]
    [0x518] = a
    a = [0x75a:x]
    [0x519] = a
    a = [0x7a0]
    goto tourian_page_A2DA when ~zero
    a = x
    push a
    call tourian_page_803F
    a = pop
    x = a
    goto tourian_page_A2EB when ~carry
def tourian_page_A2DA:
    a = [0x758:x]
    a = a & 0x80
    a = a | 0x1
    [0x758:x] = a
    [0x75d:x] = a
    [0x75b:x]--
    return

def tourian_page_A2EB:
    a = 0x40
    [0x75c:x] = a
    goto tourian_page_A30A when ~zero
def tourian_page_A2F2:
    y = [0x75b:x]
    goto tourian_page_A30A when zero
    [0x75c:x]--
    goto tourian_page_A30A when ~zero
    a = 0x40
    [0x75c:x] = a
    y--
    a = y
    [0x75b:x] = a
    a = a >> 1
    y = a
    goto tourian_page_A2BA when ~carry
def tourian_page_A30A:
    a = 0x0
    [0x75d:x] = a
    return

def tourian_page_A310:
    byte: 0xc, 0xd, 0xe, 0xf, 0x7

def tourian_page_A315:
    y = 0x5
def tourian_page_A317:
    call tourian_page_99B1
    y--
    goto tourian_page_A317 when ~negative
    [0x92] = a
    return

def tourian_page_A320:
    a = x
    call tourian_page_9B1B
    y = a
    call tourian_page_99B1
    [0x92] = a
    return

    byte: 0x22, 0xff, 0xff, 0xff, 0xff

    byte: 0x32, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0xde, 0xed, 0xff, 0xe8
    byte: 0xee

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xed, 0xff, 0xdf, 0xda, 0xec, 0xed, 0xf4
    byte: 0xff

def tourian_page_A359:
    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xed, 0xe2, 0xe6, 0xde, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0xff

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0xff

    byte: 0x62, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff

    byte: 0x42, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xed, 0xe2, 0xe6, 0xde, 0xff
    byte: 0xdb

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe8, 0xe6, 0xdb, 0xff, 0xec, 0xde, 0xed
    byte: 0xff

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0xff

    byte: 0x28, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
    byte: 0xff

def tourian_page_A3D5:
    byte: 0x42, 0x90, 0x91, 0x90, 0x91, 0x90, 0x91, 0x90, 0x91

    byte: 0x42, 0x92, 0x93, 0x92, 0x93, 0x92, 0x93, 0x92, 0x93

    byte: 0x42, 0x94, 0x95, 0x94, 0x95, 0x94, 0x95, 0x94, 0x95

    byte: 0x42, 0x96, 0x97, 0x96, 0x97, 0x96, 0x97, 0x96, 0x97

    byte: 0x62, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0

//-----------------------------------[ Enemy animation data tables ]----------------------------------

def enemyanimindextbl:

    byte: 0x0, 0x1, 0xff

    byte: 0x2, 0xff

    byte: 0x3, 0x4, 0xff

    byte: 0x5, 0xff

    byte: 0xe, 0xff

    byte: 0xf, 0xff

    byte: 0x10, 0xff

    byte: 0x11, 0x11, 0x12, 0x12, 0xf7, 0xff

    byte: 0x18, 0xff

    byte: 0x19, 0xf7, 0xff

    byte: 0x1b, 0x1c, 0x1d, 0xff

    byte: 0x1e, 0xff

    byte: 0x61, 0xf7, 0x62, 0xf7, 0xff

//----------------------------[ Enemy sprite drawing pointer tables ]---------------------------------

def enemyframeptrtbl1:

    word: tourian_page_A5C8, 0xa5cd, 0xa5d2, 0xa5d7, 0xa5e4, 0xa5f1, 0xa5fb, 0xa600
    word: tourian_page_A606, 0xa60d, 0xa613, 0xa618, 0xa61e, 0xa625, 0xa62b, 0xa630
    word: tourian_page_A635, 0xa63a, 0xa641, 0xa651, 0xa65f, 0xa66b, 0xa678, 0xa687
    word: tourian_page_A691, 0xa69c, 0xa6a3, 0xa6ac, 0xa6bc, 0xa6cc, 0xa6dc, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0, tourian_page_A6E0
    word: tourian_page_A6E0, tourian_page_A6E0, 0xa6ee, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708
    word: tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708
    word: tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708
    word: tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708, tourian_page_A708

def enemyframeptrtbl2:

    word: tourian_page_A708, 0xa70e, tourian_page_A713, tourian_page_A713, tourian_page_A713, tourian_page_A713, tourian_page_A713, tourian_page_A713
    word: tourian_page_A713, tourian_page_A713

def enemyplaceptrtbl:

    word: tourian_page_A560, 0xa562, 0xa57a, 0xa58c, 0xa592, 0xa59e, tourian_page_A5A4, tourian_page_A5A4
    word: tourian_page_A5A4, tourian_page_A5A4, tourian_page_A5A4, 0xa5c4, 0xa5c4, tourian_page_A5C8, tourian_page_A5C8, tourian_page_A5C8

//------------------------------[ Enemy sprite placement data tables ]--------------------------------

def tourian_page_A560:
    byte: 0xfc, 0xfc

    byte: 0x80, 0x80, 0x81, 0x81, 0x82, 0x82, 0x83, 0x83, 0x84, 0x84, 0x85, 0x85, 0xf4, 0xf8, 0xf4, 0x0
    byte: 0xfc, 0xf8, 0xfc, 0x0, 0x4, 0xf8, 0x4, 0x0

    byte: 0xf4, 0xf4, 0xf4, 0xfc, 0xf4, 0x4, 0xfc, 0xf4, 0xfc, 0xfc, 0xfc, 0x4, 0x4, 0xf4, 0x4, 0xfc
    byte: 0x4, 0x4

    byte: 0xf1, 0xfc, 0xf3, 0xf3, 0xfc, 0xf1

    byte: 0xf4, 0xf8, 0xf4, 0x0, 0xfc, 0xf8, 0xfc, 0x0, 0x4, 0xf8, 0x4, 0x0

    byte: 0xfc, 0xf4, 0xfc, 0xfc, 0xfc, 0x4

def tourian_page_A5A4:
    byte: 0xf8, 0xf8, 0xf8, 0x0, 0x0, 0xf8, 0x0, 0x0, 0xf0, 0x0, 0xf0, 0x8, 0xf8, 0x8, 0xf0, 0xf0
    byte: 0xf0, 0xf8, 0xf8, 0xf0, 0x0, 0xf0, 0x8, 0xf0, 0x8, 0xf8, 0x0, 0x8, 0x8, 0x0, 0x8, 0x8

    byte: 0xf8, 0xfc, 0x0, 0xfc

//Enemy frame drawing data.

def tourian_page_A5C8:
    byte: 0x0, 0x2, 0x2, 0x14, 0xff

    byte: 0x0, 0x2, 0x2, 0x24, 0xff

    byte: 0x0, 0x0, 0x0, 0x4, 0xff

    byte: 0x32, 0xc, 0xc, 0xc0, 0xc1, 0xc2, 0xd0, 0xd1, 0xd2, 0xe0, 0xe1, 0xe2, 0xff

    byte: 0x32, 0xc, 0xc, 0xc3, 0xc4, 0xc5, 0xd3, 0xd4, 0xd5, 0xe3, 0xe4, 0xe5, 0xff

    byte: 0x31, 0x0, 0x0, 0xc0, 0xc2, 0xd0, 0xd2, 0xe0, 0xe2, 0xff

    byte: 0x23, 0x7, 0x7, 0xea, 0xff

    byte: 0x23, 0x7, 0x7, 0xfe, 0xeb, 0xff

def tourian_page_A606:
    byte: 0x23, 0x7, 0x7, 0xfe, 0xfe, 0xec, 0xff

    byte: 0xa3, 0x7, 0x7, 0xfe, 0xeb, 0xff

    byte: 0xa3, 0x7, 0x7, 0xea, 0xff

    byte: 0xe3, 0x7, 0x7, 0xfe, 0xeb, 0xff

    byte: 0x63, 0x7, 0x7, 0xfe, 0xfe, 0xec, 0xff

    byte: 0x63, 0x7, 0x7, 0xfe, 0xeb, 0xff

    byte: 0x30, 0x4, 0x4, 0xf1, 0xff

    byte: 0x70, 0x4, 0x4, 0xf1, 0xff

def tourian_page_A635:
    byte: 0x30, 0x4, 0x4, 0xf2, 0xff

    byte: 0x30, 0x0, 0x0, 0xfd, 0x3, 0xf3, 0xff

    byte: 0xa, 0x0, 0x0, 0xfd, 0x0, 0xf4, 0xfd, 0x40, 0xf4, 0xfd, 0x80, 0xf4, 0xfd, 0xc0, 0xf4, 0xff

    byte: 0x24, 0x8, 0x14, 0xfd, 0x2, 0xfc, 0x4, 0xf0, 0xd8, 0xd9, 0xe8, 0xe9, 0xf8, 0xff

    byte: 0x24, 0x14, 0xc, 0xfd, 0x2, 0xfc, 0xf4, 0xf8, 0xda, 0xfe, 0xc9, 0xff

    byte: 0x24, 0x20, 0x4, 0xfd, 0x2, 0xfc, 0xec, 0x0, 0xcb, 0xcc, 0xdb, 0xdc, 0xff

    byte: 0x24, 0x18, 0x14, 0xfd, 0x2, 0xfc, 0xf4, 0x10, 0xdd, 0xce, 0xfe, 0xde, 0xfe, 0xdd, 0xff

    byte: 0x24, 0x8, 0xc, 0xfd, 0x2, 0xfc, 0xc, 0x10, 0xcd, 0xff

def tourian_page_A691:
    byte: 0x21, 0x0, 0x0, 0xfe, 0xf5, 0xf5, 0xf5, 0xf5, 0xf5, 0xf5, 0xff

    byte: 0x30, 0x0, 0x0, 0xfd, 0x3, 0xed, 0xff

    byte: 0x5, 0x4, 0x8, 0xfd, 0x0, 0x0, 0x0, 0x0, 0xff

    byte: 0x3a, 0x8, 0x8, 0xfd, 0x3, 0xef, 0xfd, 0x43, 0xef, 0xfd, 0x83, 0xef, 0xfd, 0xc3, 0xef, 0xff

    byte: 0x3a, 0x8, 0x8, 0xfd, 0x3, 0xdf, 0xfd, 0x43, 0xdf, 0xfd, 0x83, 0xdf, 0xfd, 0xc3, 0xdf, 0xff

    byte: 0x2a, 0x8, 0x8, 0xfd, 0x3, 0xcf, 0xfd, 0x43, 0xcf, 0xfd, 0x83, 0xcf, 0xfd, 0xc3, 0xcf, 0xff

    byte: 0x1, 0x0, 0x0, 0xff

def tourian_page_A6E0:
    byte: 0xa, 0x0, 0x0, 0x75, 0xfd, 0x60, 0x75, 0xfd, 0xa0, 0x75, 0xfd, 0xe0, 0x75, 0xff

    byte: 0xa, 0x0, 0x0, 0xfe, 0xfe, 0xfe, 0xfe, 0x3d, 0x3e, 0x4e, 0xfd, 0x60, 0x3e, 0x3d, 0x4e, 0xfd
    byte: 0xe0, 0x4e, 0x3e, 0x3d, 0xfd, 0xa0, 0x4e, 0x3d, 0x3e, 0xff

def tourian_page_A708:
    byte: 0xc, 0x8, 0x4, 0x14, 0x24, 0xff

    byte: 0x0, 0x4, 0x4, 0x8a, 0xff

def tourian_page_A713:
    byte: 0x0, 0x4, 0x4, 0x8a, 0xff

//-----------------------------------------[ Palette data ]-------------------------------------------

def palette00:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x0
    //Palette data length.
    byte: 0x20
//The following values are written to the background palette:
    byte: 0xf, 0x20, 0x16, 0x0, 0xf, 0x20, 0x11, 0x0, 0xf, 0x16, 0x20, 0x0, 0xf, 0x20, 0x10, 0x0
//The following values are written to the sprite palette:
    byte: 0xf, 0x16, 0x19, 0x27, 0xf, 0x12, 0x30, 0x21, 0xf, 0x27, 0x16, 0x30, 0xf, 0x16, 0x2a, 0x37

    //End Palette00 info.
    byte: 0x0

def palette01:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x12
    //Palette data length.
    byte: 0x2
//The following values are written to the sprite palette:
    byte: 0x19, 0x27

    //End Palette01 info.
    byte: 0x0

def palette03:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x12
    //Palette data length.
    byte: 0x2
//The following values are written to the sprite palette:
    byte: 0x2c, 0x27

    //End Palette03 info.
    byte: 0x0

def palette02:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x12
    //Palette data length.
    byte: 0x2
//The following values are written to the sprite palette:
    byte: 0x19, 0x35

    //End Palette02 info.
    byte: 0x0

def palette04:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x12
    //Palette data length.
    byte: 0x2
//The following values are written to the sprite palette:
    byte: 0x2c, 0x24

    //End Palette04 info.
    byte: 0x0

def palette05:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0xa
    //Palette data length.
    byte: 0x1
//The following values are written to the background palette:
    byte: 0x27

    //End Palette05 info.
    byte: 0x0

def palette06:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0xa
    //Palette data length.
    byte: 0x1
//The following values are written to the background palette:
    byte: 0x20

    //End Palette06 info.
    byte: 0x0

def palette07:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x0
    //Palette data length.
    byte: 0x11
//The following values are written to the background palette:
    byte: 0xf, 0x20, 0x16, 0x0, 0xf, 0x20, 0x11, 0x0, 0xf, 0x20, 0x16, 0x0, 0xf, 0x20, 0x10, 0x0
    byte: 0xf

    //End Palette07 info.
    byte: 0x0

def palette08:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x0
    //Palette data length.
    byte: 0x11
//The following values are written to the background palette:
    byte: 0x20, 0x2, 0x16, 0x0, 0x20, 0x2, 0x11, 0x0, 0x20, 0x2, 0x16, 0x0, 0x20, 0x2, 0x10, 0x0
    byte: 0x20

    //End Palette08 info.
    byte: 0x0

def palette09:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x0
    //Lower byte of PPU palette adress.
    byte: 0x60
    //Repeat bit set. Fill sprite and background palette with #$20.
    byte: 0x20

    //End Palette09 info.
    byte: 0x0

def palette0a:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x11
    byte: 0x3
//The following values are written to the sprite palette:
    byte: 0x4, 0x9, 0x7

    //End Palette0A info.
    byte: 0x0

def palette0b:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x11
    //Lower byte of PPU palette adress.
    byte: 0x3
//The following values are written to the sprite palette:
    byte: 0x5, 0x9, 0x17

    //End Palette0B info.
    byte: 0x0

def palette0c:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x11
    //Lower byte of PPU palette adress.
    byte: 0x3
//The following values are written to the sprite palette:
    byte: 0x6, 0xa, 0x26

    //End Palette0C info.
    byte: 0x0

def palette0d:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x11
    //Lower byte of PPU palette adress.
    byte: 0x3
//The following values are written to the sprite palette:
    byte: 0x16, 0x19, 0x27

    //End Palette0D info.
    byte: 0x0

def palette0e:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x0
    //Lower byte of PPU palette adress.
    byte: 0x4
//The following values are written to the background palette:
    byte: 0xf, 0x30, 0x30, 0x21

    //End Palette0E info.
    byte: 0x0

def palette0f:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x10
    //Lower byte of PPU palette adress.
    byte: 0x4
//The following values are written to the sprite palette:
    byte: 0xf, 0x15, 0x34, 0x17

    //End Palette0F info.
    byte: 0x0

def palette10:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x10
    //Lower byte of PPU palette adress.
    byte: 0x4
//The following values are written to the sprite palette:
    byte: 0xf, 0x15, 0x34, 0x19

    //End Palette10 info.
    byte: 0x0

def palette11:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x10
    //Lower byte of PPU palette adress.
    byte: 0x4
//The following values are written to the sprite palette:
    byte: 0xf, 0x15, 0x34, 0x28

    //End Palette11 info.
    byte: 0x0

def palette12:

    //Upper byte of PPU palette adress.
    byte: 0x3f
    //Lower byte of PPU palette adress.
    byte: 0x10
    //Palette data length.
    byte: 0x4
//The following values are written to the sprite palette:
    byte: 0xf, 0x15, 0x34, 0x29

    //End Palette12 info.
    byte: 0x0

//----------------------------[ Room and structure pointer tables ]-----------------------------------

def rmptrtbl:

    word: tourian_page_A8AF, 0xa8bd, 0xa8c5, 0xa8fa, 0xa929, 0xa95e, 0xa975, 0xa990
    word: tourian_page_A9AB, 0xa9cf, 0xa9f2, 0xaa33, 0xaa75, 0xaaae, 0xaae3, 0xab12
    word: tourian_page_AB4A, 0xab7c, 0xaba5, 0xabce, 0xabef

def strctptrtbl:

    word: tourian_page_AC16, 0xac29, 0xac50, 0xac69, 0xac70, 0xac77, 0xac7a, 0xac8b
    word: tourian_page_ACA4, 0xacb5, 0xacc6, 0xacd0, 0xacf9, 0xad26, 0xad2d, 0xad3c
    word: tourian_page_AD3F, 0xad48, 0xad61, 0xad66, 0xad6b, 0xad99, 0xadac, 0xadc8
    word: tourian_page_ADDD, 0xadfe, 0xae0f, 0xae1a, 0xae1e, 0xae21, 0xae2c, 0xae36

//------------------------------------[ Special items table ]-----------------------------------------

//The way the bytes work int the special items table is as follows:
//Long entry(one with a data word in it):
//Byte 0=Y coordinate of room on the world map.
//Word 0=Address of next entry in the table that has a different Y coordinate.--> 
//    $FFFF=No more items with different Y coordinates.
//Byte 1=X coordinate of room in the world map.
//Byte 2=byte offset-1 of next special item in the table that has the same-->
//    Y coordinate(short entry). $FF=No more items with different X-->
//    coordinates until next long entry.
//Byte 3=Item type. See list below for special item types.
//Bytes 4 to end of entry(ends with #$00)=Data bytes for special item(s).-->
//    It is possible to have multiple special items in one room.
//Short entry(one without a data word in it):
//Byte 0=X coordinate of room in the world map(Y coordinate is the same-->
//    as the last long item entry in the table).
//Byte 1=byte offset-1 of next special item in the table that has the same-->
//    Y coordinate(short entry). $FF=No more items with different X-->
//    coordinates until next long entry.
//Byte 2=Item type. See list below for special item types.
//Bytes 3 to end of entry(ends with #$00)=Data bytes for special item(s).-->
//    It is possible to have multiple special items in one room.
//
//Special item types:
//#$01=Squeept.
//#$02=Power up.
//#$03=Mellows, Memus or Melias.
//#$04=Elevator.
//#$05=Mother brain room cannon.
//#$06=Mother brain.
//#$07=Zeebetite.
//#$08=Rinka.
//#$09=Door.
//#$0A=Palette change room.

def specitmstbl:


//Elevator to end.
    byte: 0x3
    word: tourian_page_A843
    byte: 0x1, 0xff, 0x4, 0x8f, 0x0

//Elevator to Brinstar.
def tourian_page_A843:
    byte: 0x4
    word: tourian_page_A84B
    byte: 0x3, 0xff, 0x4, 0x83, 0x0

//10 missile door.
def tourian_page_A84B:
    byte: 0x7
    word: tourian_page_A85B
    byte: 0x3, 0x5, 0x9, 0xa2, 0x0

//Rinkas
    byte: 0x4, 0x4, 0x8, 0x0

//Rinkas
    byte: 0x9, 0xff, 0x8, 0x0

//Rinkas
def tourian_page_A85B:
    byte: 0x8
    word: tourian_page_A862
    byte: 0xa, 0xff, 0x18, 0x0

//Rinkas
def tourian_page_A862:
    byte: 0x9
    word: tourian_page_A869
    byte: 0xa, 0xff, 0x8, 0x0

//Rinkas
def tourian_page_A869:
    byte: 0xa
    word: tourian_page_A870
    byte: 0xa, 0xff, 0x18, 0x0

//Door at bottom of escape shaft.
def tourian_page_A870:
    byte: 0xb
    word: 0xffff
    byte: 0x1, 0x5, 0x9, 0xa3, 0x0

//Mother brain, Zeebetite, 3 cannons and Rinkas.
    byte: 0x2, 0xc, 0x6, 0x47, 0x18, 0x5, 0x49, 0x15, 0x4b, 0x25, 0x3e, 0x0

//2 Zeebetites, 6 cannons and Rinkas.
    byte: 0x3, 0x12, 0x37, 0x27, 0x8, 0x5, 0x41, 0x15, 0x43, 0x25, 0x36, 0x5, 0x49, 0x15, 0x4b, 0x35
    byte: 0x3e, 0x0

//Right door, 2 Zeebetites, 6 cannons and Rinkas.
    byte: 0x4, 0x14, 0x9, 0xa3, 0x17, 0x7, 0x8, 0x5, 0x41, 0x15, 0x43, 0x25, 0x36, 0x5, 0x49, 0x15
    byte: 0x4b, 0x35, 0x3e, 0x0

//Left door.
    byte: 0x5, 0xff, 0x9, 0xb3, 0x0

//-----------------------------------------[ Room definitions ]---------------------------------------

//The first byte of the room definitions is attribute table data and is used to set the base color of
//the room. The object data is grouped into 3 byte segments and represents a structure in the room.
//The first byte of the structure data has the format yyyyxxxx and contains the y, x location of the
//structure in the room(measured in tiles). The second byte is an index into the StrctPtrTbl and
//identifies which structure to use.  The third byte is an attribute table byte and determines the
//color of the structure.  Most of the time, this byte will have the same value as the attribute byte
//for the base color of the room. Having a room base color byte reduces the calculations required to
//find the proper color for each structure as the structure attribute byte is skipped if it is the same
//as the room attribute byte. #$FD marks the end of the room objects portion of the room definition.
//Using the byte #$FE can be used as an empty place holder in the room data.  For example, if you
//wanted to remove a structure from a room, simply replace the three bytes associated with the structure
//with #$FE. The next portion of the room definition describes the enemies and doors in the room. The
//number of data bytes and their functions vary depending on what type of item is being loaded.

//Room #$00
def tourian_page_A8AF:
    //Attribute table data.
    byte: 0x2
//Room object data:
    byte: 0x40, 0x1, 0x3, 0x48, 0x1, 0x3, 0x50, 0x3, 0x2, 0x5f, 0x3, 0x2, 0xff

//Room #$01
    //Attribute table data.
    byte: 0x2
//Room object data:
    byte: 0x7, 0x2, 0x2, 0x87, 0x2, 0x2, 0xff

//Room #$02
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0xc, 0x3, 0x8, 0xc, 0x3, 0xf, 0x9, 0x3, 0x5f, 0x4, 0x2, 0x62, 0x13, 0x2, 0x6a
    byte: 0x13, 0x2, 0x82, 0xe, 0x2, 0x85, 0x12, 0x1, 0x8a, 0xe, 0x2, 0x8d, 0x12, 0x1, 0x8f, 0x9
    byte: 0x3, 0xc4, 0xf, 0x3, 0xc8, 0xf, 0x3, 0xd3, 0x10, 0x3, 0xdb, 0xa, 0x3, 0xe0, 0xa, 0x3
    byte: 0xe8, 0xa, 0x3, 0xff

//Room #$03
    //Attribute table data.
    byte: 0x0
//Room object data:
    byte: 0x0, 0xc, 0x3, 0x8, 0xc, 0x3, 0x62, 0x13, 0x2, 0x6a, 0x13, 0x2, 0x82, 0xe, 0x2, 0x85
    byte: 0x12, 0x1, 0x8a, 0xe, 0x2, 0x8d, 0x12, 0x1, 0xc4, 0xf, 0x3, 0xc8, 0xf, 0x3, 0xd0, 0xd
    byte: 0x2, 0xd3, 0x10, 0x3, 0xdb, 0xa, 0x3, 0xe2, 0xa, 0x3, 0xea, 0xa, 0x3, 0xff

//Room #$04
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x9, 0x3, 0x1, 0xa, 0x3, 0x3, 0x11, 0x3, 0x8, 0xc, 0x3, 0xe, 0x1c, 0x3, 0x52
    byte: 0x7, 0x1, 0x53, 0x8, 0x2, 0x6a, 0x13, 0x2, 0x80, 0x9, 0x3, 0x8a, 0xe, 0x2, 0x8d, 0x12
    byte: 0x1, 0x91, 0xb, 0x3, 0xcb, 0x1c, 0x3, 0xcc, 0x1c, 0x3, 0xd8, 0xd, 0x2, 0xdb, 0x0, 0x2
    byte: 0xe0, 0xa, 0x3, 0xff

//Room #$05
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x14, 0x3, 0x8, 0x14, 0x3, 0x50, 0x4, 0x2, 0x80, 0x14, 0x3, 0x88, 0x14, 0x3, 0xd0
    byte: 0x14, 0x3, 0xd8, 0x14, 0x3, 0xff

//Room #$06
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x14, 0x3, 0x8, 0x14, 0x3, 0x95, 0x14, 0x3, 0xd0, 0x14, 0x3, 0xd8, 0x14, 0x3, 0xfd
//Room enemy/door data:
    byte: 0x1, 0x1, 0x45, 0x11, 0x0, 0x89, 0x21, 0x1, 0xb3, 0xff

//Room #$07
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x16, 0x3, 0x8, 0x16, 0x3, 0x30, 0x15, 0x3, 0x38, 0x15, 0x3, 0xd0, 0x15, 0x3, 0xd8
    byte: 0x15, 0x3, 0xfd
//Room enemy/door data:
    byte: 0x31, 0x1, 0x69, 0x41, 0x0, 0xb5, 0xff

//Room #$08
def tourian_page_A9AB:
    //Attribute table data.
    byte: 0x1
//Room object data:
    byte: 0x0, 0x16, 0x3, 0x8, 0x16, 0x3, 0x30, 0x15, 0x3, 0x38, 0x15, 0x3, 0xd0, 0x17, 0x3, 0xd4
    byte: 0x0, 0x2, 0xd7, 0x17, 0x3, 0xdc, 0x17, 0x3, 0xfd
//Room enemy/door data:
    byte: 0x1, 0x1, 0x45, 0x11, 0x0, 0x89, 0x21, 0x1, 0xd4, 0xff

//Room #$09
    //Attribute table data.
    byte: 0x1
//Room object data:
    byte: 0x0, 0x16, 0x3, 0x8, 0x16, 0x3, 0x30, 0x15, 0x3, 0x38, 0x15, 0x3, 0x5f, 0x3, 0x2, 0x8c
    byte: 0x17, 0x3, 0xb8, 0x17, 0x3, 0xcc, 0x17, 0x3, 0xd0, 0x0, 0x2, 0xd2, 0x17, 0x3, 0xfd
//Room enemy/door data:
    byte: 0x2, 0xa0, 0xff

//Room #$0A
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x1a, 0x3, 0x4, 0x1b, 0x1, 0x9, 0x12, 0x1, 0xe, 0x1a, 0x3, 0xf
    byte: 0x19, 0x3, 0x34, 0x12, 0x1, 0x4b, 0x1b, 0x1, 0x50, 0x3, 0x2, 0x5e, 0x1a, 0x3, 0x80, 0x19
    byte: 0x3, 0x81, 0x1a, 0x3, 0x82, 0x1b, 0x1, 0x88, 0x18, 0x3, 0x8f, 0x19, 0x3, 0xb1, 0x18, 0x3
    byte: 0xb8, 0x18, 0x3, 0xfd
//Room enemy/door data:
    byte: 0x2, 0xb0, 0x31, 0x1, 0xa5, 0x41, 0x0, 0x48, 0x51, 0x1, 0x6a, 0xff

//Room #$0B
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x1a, 0x3, 0x9, 0x12, 0x1, 0xe, 0x1a, 0x3, 0xf, 0x19, 0x3, 0x23
    byte: 0x12, 0x1, 0x4b, 0x12, 0x1, 0x51, 0x1a, 0x3, 0x5e, 0x1a, 0x3, 0x66, 0x1b, 0x1, 0x80, 0x19
    byte: 0x3, 0x82, 0x12, 0x1, 0x8f, 0x19, 0x3, 0x98, 0x12, 0x1, 0xa1, 0x1a, 0x3, 0xae, 0x1a, 0x3
    byte: 0xcb, 0x1b, 0x1, 0xd5, 0x12, 0x1, 0xfd
//Room enemy/door data:
    byte: 0x1, 0x1, 0x45, 0x11, 0x0, 0x89, 0x21, 0x1, 0xd4, 0xff

//Room #$0C
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x1a, 0x3, 0x2, 0x1e, 0x3, 0xe, 0x1a, 0x3, 0xf, 0x19, 0x3, 0x36
    byte: 0x1e, 0x3, 0x3e, 0x1c, 0x3, 0x51, 0x1a, 0x3, 0x5e, 0x1a, 0x3, 0x71, 0x1c, 0x3, 0x72, 0x1e
    byte: 0x3, 0x80, 0x19, 0x3, 0x8f, 0x19, 0x3, 0xa1, 0x1a, 0x3, 0xa6, 0x1e, 0x3, 0xae, 0x1a, 0x3
    byte: 0xfd
//Room enemy/door data:
    byte: 0x1, 0x1, 0x45, 0x51, 0x0, 0xcb, 0xff

//Room #$0D
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x18, 0x3, 0x8, 0x18, 0x3, 0xf, 0x19, 0x3, 0x11, 0x18, 0x3, 0x18
    byte: 0x18, 0x3, 0x50, 0x3, 0x2, 0x5e, 0x1a, 0x3, 0x80, 0x19, 0x3, 0x81, 0x1a, 0x3, 0x82, 0x1e
    byte: 0x3, 0x8f, 0x19, 0x3, 0xae, 0x1a, 0x3, 0xb6, 0x1e, 0x3, 0xbe, 0x1c, 0x3, 0xd1, 0x1a, 0x3
    byte: 0xfd
//Room enemy/door data:
    byte: 0x2, 0xb0, 0xff

//Room #$0E
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x18, 0x3, 0x8, 0x18, 0x3, 0xf, 0x19, 0x3, 0x41, 0x1a, 0x3, 0x4e
    byte: 0x1a, 0x3, 0x80, 0x19, 0x3, 0x86, 0x1d, 0x3, 0x8f, 0x19, 0x3, 0x91, 0x1a, 0x3, 0x9e, 0x1a
    byte: 0x3, 0xbb, 0x1b, 0x1, 0xc3, 0x1b, 0x1, 0xe1, 0x1a, 0x3, 0xee, 0x1a, 0x3, 0xff

//Room #$0F
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x1a, 0x3, 0xe, 0x1a, 0x3, 0xf, 0x19, 0x3, 0x12, 0x12, 0x1, 0x28
    byte: 0x12, 0x1, 0x4c, 0x1b, 0x1, 0x51, 0x1a, 0x3, 0x55, 0x1b, 0x1, 0x5f, 0x3, 0x2, 0x80, 0x19
    byte: 0x3, 0x83, 0x1b, 0x1, 0x8b, 0x12, 0x1, 0x8e, 0x1a, 0x3, 0x8f, 0x19, 0x3, 0xa1, 0x1a, 0x3
    byte: 0xb1, 0x18, 0x3, 0xb8, 0x18, 0x3, 0xff

//Room #$10
def tourian_page_AB4A:
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x1a, 0x3, 0xe, 0x1a, 0x3, 0xf, 0x19, 0x3, 0x1a, 0x5, 0x1, 0x4d
    byte: 0x5, 0x1, 0x51, 0x1a, 0x3, 0x5e, 0x1a, 0x3, 0x80, 0x19, 0x3, 0x8a, 0x5, 0x1, 0x8f, 0x19
    byte: 0x3, 0x95, 0x5, 0x1, 0xa1, 0x1a, 0x3, 0xae, 0x1a, 0x3, 0xca, 0x5, 0x1, 0xe7, 0x5, 0x1
    byte: 0xff

//Room #$11
    //Attribute table data.
    byte: 0x3
//Room object data:
    byte: 0x0, 0x19, 0x3, 0x1, 0x1f, 0x1, 0x9, 0x1f, 0x1, 0x11, 0x1e, 0x3, 0x19, 0x1e, 0x3, 0x50
    byte: 0x3, 0x2, 0x80, 0x19, 0x3, 0x81, 0x1f, 0x1, 0xa1, 0x1e, 0x3, 0xb8, 0x1a, 0x3, 0xd1, 0x1f
    byte: 0x1, 0xd9, 0x1f, 0x1, 0xfd
//Room enemy/door data:
    byte: 0x2, 0xb2, 0xff

//Room #$12
    //Attribute table data.
    byte: 0x1
//Room object data:
    byte: 0x0, 0x1f, 0x1, 0x8, 0x1f, 0x1, 0xf, 0x19, 0x3, 0x10, 0x1e, 0x3, 0x17, 0x1e, 0x3, 0x5f
    byte: 0x3, 0x2, 0x87, 0x1f, 0x1, 0x8f, 0x19, 0x3, 0xa7, 0x1a, 0x3, 0xc5, 0x1f, 0x1, 0xd0, 0x1f
    byte: 0x1, 0xd7, 0x1f, 0x1, 0xfd
//Room enemy/door data:
    byte: 0x2, 0xa0, 0xff

//Room #$13
    //Attribute table data.
    byte: 0x0
//Room object data:
    byte: 0x0, 0x1f, 0x1, 0x8, 0x1f, 0x1, 0x10, 0x1e, 0x3, 0x18, 0x1e, 0x3, 0xd0, 0x0, 0x2, 0xd3
    byte: 0x1f, 0x1, 0xd8, 0x0, 0x2, 0xdc, 0x1f, 0x1, 0xfd
//Room enemy/door data:
    byte: 0x1, 0x1, 0x45, 0x11, 0x0, 0x89, 0xff

//Room #$14
    //Attribute table data.
    byte: 0x0
//Room object data:
    byte: 0x0, 0x1f, 0x1, 0x8, 0x1f, 0x1, 0x10, 0x1e, 0x3, 0x18, 0x1e, 0x3, 0x94, 0x6, 0x3, 0x98
    byte: 0x6, 0x3, 0x9c, 0x6, 0x3, 0xd0, 0x1f, 0x1, 0xd3, 0x0, 0x2, 0xdb, 0x0, 0x2, 0xfd
//Room enemy/door data:
    byte: 0x21, 0x0, 0x47, 0x31, 0x1, 0x6a, 0xff

//---------------------------------------[ Structure definitions ]------------------------------------

//The first byte of the structure definition states how many macros are in the first row of the
//structure. The the number of bytes after the macro number byte is equal to the value of the macro
//number byte and those bytes define what each macro in the row are. For example, if the macro number
//byte is #$08, the next 8 bytes represent 8 macros. The macro description bytes are the macro numbers
//and are multiplied by 4 to find the index to the desired macro in MacroDefs.  Any further bytes in
//the structure definition represent the next rows.  #$FF marks the end of the structure definition.

//Structure #$00
def tourian_page_AC16:
    byte: 0x8, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x8, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0xff

//Structure #$01
    byte: 0x8, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0x8, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2
    byte: 0x2, 0x2, 0x1, 0x1c, 0x8, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x8, 0xa, 0xa
    byte: 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xff

//Structure #$02
    byte: 0x2, 0x4, 0x5, 0x2, 0x4, 0x5, 0x2, 0x4, 0x5, 0x2, 0x4, 0x5, 0x2, 0x4, 0x5, 0x2
    byte: 0x4, 0x5, 0x2, 0x4, 0x5, 0x2, 0x4, 0x5, 0xff

//Structure #$03
    byte: 0x1, 0x8, 0x1, 0x8, 0x1, 0x8, 0xff

//Structure #$04
    byte: 0x1, 0x9, 0x1, 0x9, 0x1, 0x9, 0xff

//Structure #$05
    byte: 0x1, 0x13, 0xff

//Structure #$06
    byte: 0x3, 0x1d, 0x17, 0x1e, 0x3, 0x21, 0x1c, 0x21, 0x3, 0x21, 0x1c, 0x21, 0x3, 0x1f, 0x17, 0x20
    byte: 0xff

//Structure #$07
    byte: 0x5, 0x25, 0x1c, 0x1c, 0x1c, 0x31, 0x5, 0x26, 0x1c, 0x1c, 0x1c, 0x32, 0x5, 0x26, 0x1c, 0x1c
    byte: 0x1c, 0x32, 0x5, 0x27, 0x1c, 0x1c, 0x1c, 0x33, 0xff

//Structure #$08
def tourian_page_ACA4:
    byte: 0x3, 0x28, 0x29, 0x2a, 0x3, 0x2b, 0x2c, 0x2d, 0x3, 0x2e, 0x2f, 0x30, 0x3, 0x6, 0x12, 0x35
    byte: 0xff

//Structure #$09
    byte: 0x1, 0xb, 0x1, 0xb, 0x1, 0xb, 0x1, 0xb, 0x1, 0xb, 0x1, 0xb, 0x1, 0xb, 0x1, 0xb
    byte: 0xff

//Structure #$0A
    byte: 0x8, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xff

//Structure #$0B
    byte: 0x7, 0x1d, 0xd, 0x16, 0x16, 0x16, 0xd, 0x1e, 0x7, 0x21, 0x1d, 0xd, 0xd, 0xd, 0x1e, 0x21
    byte: 0x7, 0x21, 0x21, 0x15, 0x14, 0x15, 0x21, 0x21, 0x7, 0xd, 0x21, 0x16, 0x10, 0x16, 0x21, 0xd
    byte: 0x7, 0x1f, 0xd, 0x20, 0x10, 0x1f, 0xd, 0x20, 0xff

//Structure #$0C
    byte: 0x8, 0x22, 0x22, 0xd, 0x22, 0x22, 0x1e, 0x1c, 0x1d, 0x8, 0x1c, 0x1c, 0x21, 0x1c, 0x1c, 0x21
    byte: 0x1c, 0x21, 0x8, 0x1c, 0x1c, 0xc, 0x1c, 0x1c, 0x1f, 0xd, 0x20, 0x7, 0x1c, 0x1c, 0x21, 0x1c
    byte: 0x1c, 0x1c, 0x14, 0x4, 0x1c, 0x14, 0xd, 0x14, 0x3, 0x1c, 0x1c, 0x15, 0xff

//Structure #$0D
    byte: 0x2, 0x1, 0x1, 0x2, 0x0, 0x0, 0xff

//Structure #$0E
    byte: 0x1, 0x16, 0x1, 0x21, 0x1, 0x21, 0x1, 0xc, 0x1, 0x21, 0x1, 0xd, 0x1, 0x21, 0xff

//Structure #$0F
    byte: 0x1, 0xc, 0xff

//Structure #$10
def tourian_page_AD3F:
    byte: 0x7, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0xff

//Structure #$11
    byte: 0x5, 0xb, 0x1d, 0x22, 0xd, 0x22, 0x4, 0x11, 0x21, 0x11, 0x21, 0x4, 0x11, 0x21, 0x11, 0xd
    byte: 0x3, 0x11, 0x21, 0x11, 0x3, 0x23, 0x23, 0x23, 0xff

//Structure #$12
    byte: 0x3, 0x19, 0x1b, 0x1a, 0xff

//Structure #$13
    byte: 0x1, 0x34, 0x1, 0x34, 0xff

//Structure #$14
    byte: 0x8, 0x1d, 0x22, 0x17, 0xd, 0x1e, 0xd, 0x17, 0xd, 0x8, 0xd, 0x22, 0x17, 0x20, 0x21, 0x14
    byte: 0xd, 0x11, 0x8, 0x21, 0x1d, 0x22, 0x17, 0x20, 0x10, 0x10, 0x21, 0x8, 0x21, 0x1f, 0x17, 0xd
    byte: 0x22, 0xd, 0x1e, 0x11, 0x8, 0xd, 0x14, 0x10, 0x1f, 0x22, 0x22, 0x20, 0x11, 0xff

//Structure #$15
    byte: 0x8, 0x17, 0x17, 0xd, 0x17, 0x17, 0xd, 0x17, 0x17, 0x8, 0xd, 0x17, 0x17, 0x17, 0x17, 0x17
    byte: 0x17, 0xd, 0xff

//Structure #$16
    byte: 0x8, 0x18, 0x1d, 0x17, 0x1e, 0x1d, 0x17, 0x17, 0x1e, 0x8, 0x18, 0x21, 0x1c, 0x21, 0x21, 0x1c
    byte: 0x1c, 0x21, 0x8, 0xd, 0x20, 0x1c, 0x1f, 0x20, 0x1c, 0x1c, 0x1f, 0xff

//Structure #$17
    byte: 0x4, 0xd, 0xd, 0xd, 0xd, 0x4, 0x18, 0x18, 0x18, 0x18, 0x4, 0x18, 0x18, 0x18, 0x18, 0x4
    byte: 0x18, 0x18, 0x18, 0x18, 0xff

//Structure #$18
def tourian_page_ADDD:
    byte: 0x7, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0x7, 0xd, 0x17, 0x17, 0x17, 0x17, 0x17, 0xd
    byte: 0x7, 0x18, 0xa, 0x10, 0xa, 0xa, 0x10, 0x18, 0x7, 0xd, 0x17, 0x17, 0x17, 0x17, 0x17, 0xd
    byte: 0xff

//Structure #$19
    byte: 0x1, 0xa, 0x1, 0xa, 0x1, 0xa, 0x1, 0xa, 0x1, 0xa, 0x1, 0xa, 0x1, 0xa, 0x1, 0xa
    byte: 0xff

//Structure #$1A
    byte: 0x1, 0xd, 0x1, 0x18, 0x1, 0x18, 0x1, 0x18, 0x1, 0x18, 0xff

//Structure #$1B
    byte: 0x2, 0x19, 0x1a, 0xff

//Structure #$1C
    byte: 0x1, 0xd, 0xff

//Structure #$1D
    byte: 0x4, 0x14, 0x1c, 0x1c, 0x14, 0x4, 0xa, 0xa, 0xa, 0xa, 0xff

//Structure #$1E
    byte: 0x8, 0xd, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0xd, 0xff

//Structure #$1F
    byte: 0x8, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0x8, 0xe, 0x10, 0xe, 0xe, 0x10, 0x10
    byte: 0xe, 0x10, 0xff

//----------------------------------------[ Macro definitions ]---------------------------------------

//The macro definitions are simply index numbers into the pattern tables that represent the 4 quadrants
//of the macro definition. The bytes correspond to the following position in order: lower right tile,
//lower left tile, upper right tile, upper left tile. 

def macrodefs:


    byte: 0xa7, 0xa7, 0xa7, 0xa7
    byte: 0xff, 0xff, 0xa6, 0xa6
    byte: 0xa2, 0xa2, 0xff, 0xff
    byte: 0xff, 0xff, 0xa3, 0xa3
    byte: 0xa4, 0xff, 0xa4, 0xff
    byte: 0xff, 0xa5, 0xff, 0xa5
    byte: 0xff, 0x79, 0xff, 0x7e
    byte: 0x4f, 0x4f, 0x4f, 0x4f
    byte: 0xa0, 0xa0, 0xa0, 0xa0
    byte: 0xa1, 0xa1, 0xa1, 0xa1
    byte: 0x4, 0x5, 0x6, 0x7
    byte: 0x10, 0x11, 0x12, 0x13
    byte: 0x0, 0x1, 0x2, 0x3
    byte: 0x8, 0x8, 0x8, 0x8
    byte: 0x18, 0x19, 0x1a, 0x1b
    byte: 0x1c, 0x1d, 0x1e, 0x1f
    byte: 0xc, 0xd, 0xe, 0xf
    byte: 0x9, 0x9, 0x9, 0x9
    byte: 0x7a, 0x7b, 0x7f, 0x5a
    byte: 0x2a, 0x2c, 0xff, 0xff
    byte: 0x14, 0x15, 0x16, 0x17
    byte: 0x20, 0x21, 0x22, 0x23
    byte: 0x24, 0x25, 0x20, 0x21
    byte: 0x28, 0x28, 0x29, 0x29
    byte: 0x26, 0x27, 0x26, 0x27
    byte: 0x2a, 0x2b, 0xff, 0xff
    byte: 0x2b, 0x2c, 0xff, 0xff
    byte: 0x2b, 0x2b, 0xff, 0xff
    byte: 0xff, 0xff, 0xff, 0xff
    byte: 0x31, 0x32, 0x33, 0x34
    byte: 0x35, 0x36, 0x37, 0x38
    byte: 0x3d, 0x3e, 0x3f, 0x40
    byte: 0x41, 0x42, 0x43, 0x44
    byte: 0x39, 0x3a, 0x39, 0x3a
    byte: 0x3b, 0x3b, 0x3c, 0x3c
    byte: 0xb, 0xb, 0x2d, 0x2e
    byte: 0x2f, 0x30, 0xb, 0xb
    byte: 0x50, 0x51, 0x52, 0x53
    byte: 0x54, 0x55, 0x54, 0x55
    byte: 0x56, 0x57, 0x58, 0x59
    byte: 0xff, 0xff, 0xff, 0x5e
    byte: 0x5b, 0x5c, 0x5f, 0x60
    byte: 0xff, 0xff, 0x61, 0xff
    byte: 0x5d, 0x62, 0x67, 0x68
    byte: 0x63, 0x64, 0x69, 0x6a
    byte: 0x65, 0x66, 0x6b, 0x6c
    byte: 0x6d, 0x6e, 0x73, 0x74
    byte: 0x6f, 0x70, 0x75, 0x76
    byte: 0x71, 0x72, 0x77, 0x78
    byte: 0x45, 0x46, 0x47, 0x48
    byte: 0xff, 0x98, 0xff, 0x98
    byte: 0x49, 0x4a, 0x4b, 0x4c
    byte: 0x90, 0x91, 0x90, 0x91
    byte: 0x7c, 0x7d, 0x4d, 0xff

//Not used.
    byte: 0x1c, 0x1d, 0x1e, 0x17, 0x18, 0x19, 0x1a, 0x1f, 0x20, 0x21, 0x22, 0x60, 0x61, 0x62, 0x63, 0xe
    byte: 0xf, 0xff, 0xff, 0xc, 0xd, 0xd, 0xd, 0x10, 0xd, 0xff, 0x10, 0x10, 0xff, 0xff, 0xff, 0xff
    byte: 0xff, 0xff, 0x30, 0xff, 0x33, 0xff, 0x36, 0xff, 0x39, 0xff, 0x3d, 0xff, 0xff, 0x31, 0x32, 0x34
    byte: 0x35, 0x37, 0x38, 0x3a, 0x3b, 0x3e, 0x3f, 0x3c, 0x41, 0x40, 0x42, 0x84, 0x85, 0x86, 0x87, 0x80
    byte: 0x81, 0x82, 0x83, 0x88, 0x89, 0x8a, 0x8b, 0x45, 0x46, 0x45, 0x46, 0x47, 0x48, 0x48, 0x47, 0x5c
    byte: 0x5d, 0x5e, 0x5f, 0xb8, 0xb8, 0xb9, 0xb9, 0x74, 0x75, 0x75, 0x74, 0xc1, 0x13, 0x13, 0x13, 0x36
    byte: 0xbe, 0xbc, 0xbd, 0xbf, 0x14, 0x15, 0x14, 0xc0, 0x14, 0xc0, 0x16, 0xff, 0xc1, 0xff, 0xff, 0xc2
    byte: 0x14, 0xff, 0xff, 0x30, 0x13, 0xbc, 0xbd, 0x13, 0x14, 0x15, 0x16, 0xd7, 0xd7, 0xd7, 0xd7, 0x76
    byte: 0x76, 0x76, 0x76, 0xff, 0xff, 0xba, 0xba, 0xbb, 0xbb, 0xbb, 0xbb, 0x0, 0x1, 0x2, 0x3, 0x4
    byte: 0x5, 0x6, 0x7, 0xff, 0xff, 0x8, 0x9, 0xff, 0xff, 0x9, 0xa, 0x55, 0x56, 0x57, 0x58, 0x90
    byte: 0x91, 0x92, 0x93, 0x4b, 0x4c, 0x4d, 0x50, 0x51, 0x52, 0x53, 0x54, 0x70, 0x71, 0x72, 0x73, 0x8c
    byte: 0x8d, 0x8e, 0x8f, 0x11, 0x12, 0xff, 0x11, 0x11, 0x12, 0x12, 0x11, 0x11, 0x12, 0x12, 0xff, 0xc3
    byte: 0xc4, 0xc5, 0xc6, 0x30, 0x0, 0xbc, 0xbd, 0xcd, 0xce, 0xcf, 0xd0, 0xd1, 0xd2, 0xd3, 0xd4, 0x90
    byte: 0x91, 0x92, 0x93, 0x20, 0x20, 0x20, 0x20, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0

//------------------------------------------[ Area music data ]---------------------------------------

//There are 3 control bytes associated with the music data and the rest are musical note indexes.
//If the byte has the binary format 1011xxxx ($Bx), then the byte is an index into the corresponding
//musical notes table and is used to set the note length until it is set by another note length
//byte. The lower 4 bits are the index into the note length table. Another control byte is the loop
//and counter btye. The loop and counter byte has the format 11xxxxxx. Bits 0 thru 6 contain the
//number of times to loop.  The third control byte is #$FF. This control byte marks the end of a loop
//and decrements the loop counter. If #$00 is found in the music data, the music has reached the end.
//A #$00 in any of the different music channel data segments will mark the end of the music. The
//remaining bytes are indexes into the MusicNotesTbl and should only be even numbers as there are 2
//bytes of data per musical note.

def escapesq2data:

    byte: 0xc4
    //3/4 seconds    +
    byte: 0xb3
    //G4        |
    byte: 0x3e
    //A#4        | Repeat 4 times
    byte: 0x44
    //1 1/2 seconds    |
    byte: 0xb4
    //A4        +
    byte: 0x42
    byte: 0xff
    byte: 0xc2
    //1 3/16 seconds    +
    byte: 0xb6
    //C4        |
    byte: 0x30
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //C4        |
    byte: 0x30
    //D#4        |
    byte: 0x36
    //1 1/2 seconds    |
    byte: 0xb4
    //D4        |
    byte: 0x34
    //1 3/16 seconds    |
    byte: 0xb6
    //C4        |
    byte: 0x30
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //C4        |
    byte: 0x30
    //D#4        |
    byte: 0x36
    //1 1/2 seconds    | Repeat 2 times
    byte: 0xb4
    //D4        |
    byte: 0x34
    //1 3/16 seconds    |
    byte: 0xb6
    //C4        |
    byte: 0x30
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //C4        |
    byte: 0x30
    //E4        |
    byte: 0x38
    //1 1/2 seconds    |
    byte: 0xb4
    //D4        |
    byte: 0x34
    //1 3/16 seconds    |
    byte: 0xb6
    //C4        |
    byte: 0x30
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //C4        |
    byte: 0x30
    //E4        |
    byte: 0x38
    //1 1/2 seconds    |
    byte: 0xb4
    //D4        +
    byte: 0x34
    byte: 0xff
    byte: 0xc2
    //1 3/16 seconds    +
    byte: 0xb6
    //C5        |
    byte: 0x48
    //1/8 seconds    |
    byte: 0xb9
    //B4        |
    byte: 0x46
    //No sound    |
    byte: 0x2
    //C5        |
    byte: 0x48
    //1 3/16 seconds    |
    byte: 0xb6
    //D5        |
    byte: 0x4c
    //3/8 seconds    |
    byte: 0xb2
    //C5        |
    byte: 0x48
    //1 3/16 seconds    |
    byte: 0xb6
    //B4        |
    byte: 0x46
    //1/8 second    |
    byte: 0xb9
    //A4        |
    byte: 0x42
    //No sound    |
    byte: 0x2
    //B4        | Repeat 2 times
    byte: 0x46
    //3/4 seconds    |
    byte: 0xb3
    //C5        |
    byte: 0x48
    //G4        |
    byte: 0x3e
    //1 3/16 seconds    |
    byte: 0xb6
    //F4        |
    byte: 0x3a
    //1/8 seconds    |
    byte: 0xb9
    //G4        |
    byte: 0x3e
    //No sound    |
    byte: 0x2
    //F4        |
    byte: 0x3a
    //3/4 seconds    |
    byte: 0xb3
    //E4        |
    byte: 0x38
    //C4        |
    byte: 0x30
    //1 1/2 seconds    |
    byte: 0xb4
    //D#4        |
    byte: 0x36
    //3/4 seconds    |
    byte: 0xb3
    //C4        |
    byte: 0x30
    //B3        +
    byte: 0x2e
    byte: 0xff
    //End escape music.
    byte: 0x0

def escapesq1data:

def tourian_page_B04D:
    byte: 0xc4
    //3/4 seconds    +
    byte: 0xb3
    //D4        |
    byte: 0x34
    //F4        | Repeat 4 times
    byte: 0x3a
    //1 1/2 seconds    |
    byte: 0xb4
    //C#4        +
    byte: 0x32
    byte: 0xff
    byte: 0xc2
    //1 1/2 seconds    +
    byte: 0xb4
    //A3        |
    byte: 0x2a
    //Ab3        |
    byte: 0x28
    //A3        |
    byte: 0x2a
    //1 3/16 seconds    |
    byte: 0xb6
    //Ab3        |
    byte: 0x28
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //F#3        |
    byte: 0x24
    //F3        |
    byte: 0x22
    //1 3/16 seconds    |
    byte: 0xb6
    //E3        |
    byte: 0x20
    //3/8 seconds    |
    byte: 0xb2
    //F3        |
    byte: 0x22
    //1 3/16 seconds    | Repeat 2 times
    byte: 0xb6
    //Ab3        |
    byte: 0x28
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //F#3        |
    byte: 0x24
    //F3        |
    byte: 0x22
    //1 1/2 seconds    |
    byte: 0xb4
    //G3        |
    byte: 0x26
    //1/8 seconds    |
    byte: 0xb9
    //F3        |
    byte: 0x22
    //E3        |
    byte: 0x20
    //F3        |
    byte: 0x22
    //G3        |
    byte: 0x26
    //F3        |
    byte: 0x22
    //G3        |
    byte: 0x26
    //A3        |
    byte: 0x2a
    //G3        |
    byte: 0x26
    //A3        |
    byte: 0x2a
    //B3        |
    byte: 0x2e
    //A3        |
    byte: 0x2a
    //B3        +
    byte: 0x2e
    byte: 0xff
    byte: 0xc2
    //1/8 seconds    +
    byte: 0xb9
    //E3        |
    byte: 0x20
    //D#3        |
    byte: 0x1e
    //E3        |
    byte: 0x20
    //G3        |
    byte: 0x26
    //C4        |
    byte: 0x30
    //E4        |
    byte: 0x38
    //3/8 seconds    |
    byte: 0xb2
    //G4        |
    byte: 0x3e
    //E4        |
    byte: 0x38
    //3/32 seconds    |
    byte: 0xb0
    //F#3        |
    byte: 0x24
    //E3        |
    byte: 0x20
    //F#3        |
    byte: 0x24
    //A3        |
    byte: 0x2a
    //1/8 seconds    |
    byte: 0xb9
    //D4        |
    byte: 0x34
    //F4        |
    byte: 0x3a
    //F#4        |
    byte: 0x3c
    //3/8 seconds    |
    byte: 0xb2
    //A4        |
    byte: 0x42
    //F#4        |
    byte: 0x3c
    //3/8 seconds    |
    byte: 0xb2
    //G4        |
    byte: 0x3e
    //1/8 seconds    |
    byte: 0xb9
    //D4        |
    byte: 0x34
    //No sound    |
    byte: 0x2
    //B3        |
    byte: 0x2e
    //3/4 seconds    |
    byte: 0xb3
    //D4        |
    byte: 0x34
    //3/8 seconds    |
    byte: 0xb2
    //G4        |
    byte: 0x3e
    //F4        |
    byte: 0x3a
    //E4        |
    byte: 0x38
    //D4        |
    byte: 0x34
    //1/8 seconds    |
    byte: 0xb9
    //C4        |
    byte: 0x30
    //G3        |
    byte: 0x26
    //C4        |
    byte: 0x30
    //1/8 seconds    |
    byte: 0xb9
    //D4        |
    byte: 0x34
    //No sound    |
    byte: 0x2
    //G3        |
    byte: 0x26
    //3/4 seconds    | Repeat 2 times
    byte: 0xb3
    //C4        |
    byte: 0x30
    //1/8 seconds    |
    byte: 0xb9
    //C4        |
    byte: 0x30
    //E3        |
    byte: 0x20
    //G4        |
    byte: 0x3e
    //1/8 seconds    |
    byte: 0xb9
    //D4        |
    byte: 0x34
    //No sound    |
    byte: 0x2
    //G3        |
    byte: 0x26
    //F4        |
    byte: 0x3a
    //E4        |
    byte: 0x38
    //D4        |
    byte: 0x34
    //C4        |
    byte: 0x30
    //G3        |
    byte: 0x26
    //F#3        |
    byte: 0x24
    //F3        |
    byte: 0x22
    //E3        |
    byte: 0x20
    //F3        |
    byte: 0x22
    //G3        |
    byte: 0x26
    //F3        |
    byte: 0x22
    //G3        |
    byte: 0x26
    //Ab3        |
    byte: 0x28
    //G3        |
    byte: 0x26
    //Ab3        |
    byte: 0x28
    //A#3        |
    byte: 0x2c
    //Ab3        |
    byte: 0x28
    //A#3        |
    byte: 0x2c
    //1/8 seconds    |
    byte: 0xb9
    //F3        |
    byte: 0x22
    //E3        |
    byte: 0x20
    //F3        |
    byte: 0x22
    //E3        |
    byte: 0x20
    //F3        |
    byte: 0x22
    //E3        |
    byte: 0x20
    //F3        |
    byte: 0x22
    //D3        |
    byte: 0x1c
    //F3        |
    byte: 0x22
    //D3        |
    byte: 0x1c
    //F3        |
    byte: 0x22
    //D3        +
    byte: 0x1c
    byte: 0xff

def escapetridata:

    byte: 0xd0
    //3/8 seconds    +
    byte: 0xb2
    //G4        |
    byte: 0x3e
    //1/8 seconds    | Repeat 16 times
    byte: 0xb9
    //G4        |
    byte: 0x3e
    //G4        |
    byte: 0x3e
    //G4        +
    byte: 0x3e
    byte: 0xff
    byte: 0xc2
    //3/8 seconds    +
    byte: 0xb2
    //A3        |
    byte: 0x2a
    //1/8 seconds    |
    byte: 0xb9
    //A3        |
    byte: 0x2a
    //A2        |
    byte: 0x12
    //A3        |
    byte: 0x2a
    //3/8 seconds    |
    byte: 0xb2
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //1/8 seconds    |
    byte: 0xb9
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //3/8 seconds    |
    byte: 0xb2
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //1/8 seconds    |
    byte: 0xb9
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //3/8 seconds    |
    byte: 0xb2
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //1/8 seconds    |
    byte: 0xb9
    //A3        |
    byte: 0x2a
    //A2        |
    byte: 0x12
    //A3        |
    byte: 0x2a
    //3/8 seconds    |
    byte: 0xb2
    //G3        |
    byte: 0x26
    //1/8 seconds    | Repeat 2 times
    byte: 0xb9
    //G2        |
    byte: 0xe
    //G3        |
    byte: 0x26
    //G3        |
    byte: 0x26
    //3/8 seconds    |
    byte: 0xb2
    //G3        |
    byte: 0x26
    //1/8 seconds    |
    byte: 0xb9
    //G2        |
    byte: 0xe
    //G3        |
    byte: 0x26
    //G3        |
    byte: 0x26
    //3/8 seconds    |
    byte: 0xb2
    //F3        |
    byte: 0x22
    //1/8 seconds    |
    byte: 0xb9
    //F2        |
    byte: 0xa
    //F3        |
    byte: 0x22
    //F3        |
    byte: 0x22
    //3/8 seconds    |
    byte: 0xb2
    //F3        |
    byte: 0x22
    //1/8 seconds    |
    byte: 0xb9
    //F2        |
    byte: 0xa
    //F3        |
    byte: 0x22
    //F3        |
    byte: 0x22
    //3/8 seconds    |
    byte: 0xb2
    //E3        |
    byte: 0x20
    //E3        |
    byte: 0x20
    //1/8 seconds    |
    byte: 0xb9
    //E3        |
    byte: 0x20
    //E3        |
    byte: 0x20
    //E3        |
    byte: 0x20
    //3/8 seconds    |
    byte: 0xb2
    //E3        |
    byte: 0x20
    //1/8 seconds    |
    byte: 0xb9
    //D4        |
    byte: 0x34
    //C4        |
    byte: 0x30
    //D4        |
    byte: 0x34
    //E4        |
    byte: 0x38
    //D4        |
    byte: 0x34
    //E4        |
    byte: 0x38
    //F4        |
    byte: 0x3a
    //E4        |
    byte: 0x38
    //F4        |
    byte: 0x3a
    //G4        |
    byte: 0x3e
    //F4        |
    byte: 0x3a
    //G4        +
    byte: 0x3e
    byte: 0xff
    byte: 0xc2
    //3/8 seconds    +
    byte: 0xb2
    //C3        |
    byte: 0x18
    //C4        |
    byte: 0x30
    //C3        |
    byte: 0x18
    //C4        |
    byte: 0x30
    //C3        |
    byte: 0x18
    //C4        |
    byte: 0x30
    //C3        |
    byte: 0x18
    //C4        |
    byte: 0x30
    //F3        |
    byte: 0x22
    //F3        |
    byte: 0x22
    //3/16 seconds    |
    byte: 0xb1
    //F3        |
    byte: 0x22
    //F3        |
    byte: 0x22
    //3/8 seconds    |
    byte: 0xb2
    //F3        |
    byte: 0x22
    //E3        |
    byte: 0x20
    //D3        |
    byte: 0x1c
    //C3        |
    byte: 0x18
    //B2        |
    byte: 0x16
    //A#2        |
    byte: 0x14
    //A#2        |
    byte: 0x14
    //A#2        |
    byte: 0x14
    //A#3        | Repeat 2 times
    byte: 0x2c
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //1/8 seconds    |
    byte: 0xb9
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //A3        |
    byte: 0x2a
    //3/8 seconds    |
    byte: 0xb2
    //A3        |
    byte: 0x2a
    //Ab3        |
    byte: 0x28
    //Ab3        |
    byte: 0x28
    //1/8 seconds    |
    byte: 0xb9
    //Ab3        |
    byte: 0x28
    //Ab3        |
    byte: 0x28
    //Ab3        |
    byte: 0x28
    //3/8 seconds    |
    byte: 0xb2
    //Ab3        |
    byte: 0x28
    //G3        |
    byte: 0x26
    //G3        |
    byte: 0x26
    //1/8 seconds    |
    byte: 0xb9
    //G3        |
    byte: 0x26
    //G3        |
    byte: 0x26
    //G4        |
    byte: 0x3e
    //G3        |
    byte: 0x26
    //G3        |
    byte: 0x26
    //G4        +
    byte: 0x3e
    byte: 0xff

def escapenoisedata:

    byte: 0xf0
    //3/8 seconds    +
    byte: 0xb2
    //Drumbeat 00    |
    byte: 0x1
    //Drumbeat 01    | Repeat 48 times
    byte: 0x4
    //Drumbeat 00    |
    byte: 0x1
    //Drumbeat 01    +
    byte: 0x4
    byte: 0xff

def mthrbrnroomtridata:

    byte: 0xe0
    //3/64 seconds    +
    byte: 0xba
    //A3        |
    byte: 0x2a
    //C#3        |
    byte: 0x1a
    //No sound    |
    byte: 0x2
    //F4        |
    byte: 0x3a
    //Ab4        |
    byte: 0x40
    //No sound    |
    byte: 0x2
    //D3        |
    byte: 0x1c
    //B3        |
    byte: 0x2e
    //E4        |
    byte: 0x38
    //A#3        |
    byte: 0x2c
    //F#4        |
    byte: 0x3c
    //E4        |
    byte: 0x38
    //No sound    |
    byte: 0x2
    //Ab4        |
    byte: 0x40
    //A#4        |
    byte: 0x44
    //B4        |
    byte: 0x46
    //No sound    |
    byte: 0x2
    //D#3        |
    byte: 0x1e
    //No sound    | Repeat 32 times
    byte: 0x2
    //A#3        |
    byte: 0x2c
    //E4        |
    byte: 0x38
    //B4        |
    byte: 0x46
    //G3        |
    byte: 0x26
    //No sound    |
    byte: 0x2
    //F4        |
    byte: 0x3a
    //E3        |
    byte: 0x20
    //No sound    |
    byte: 0x2
    //Ab3        |
    byte: 0x28
    //B3        |
    byte: 0x2e
    //No sound    |
    byte: 0x2
    //C3        |
    byte: 0x18
    //A#4        |
    byte: 0x44
    //No sound    |
    byte: 0x2
    //B4        |
    byte: 0x46
    //C5        |
    byte: 0x48
    //C#5        |
    byte: 0x4a
    //D5        |
    byte: 0x4c
    //No sound    |
    byte: 0x2
    //C3        |
    byte: 0x18
    //D#3        +
    byte: 0x1e
    byte: 0xff

def mthrbrnroomsq1data:

def tourian_page_B18C:
    //1/4 seconds
    byte: 0xb8
    //No sound
    byte: 0x2

//SQ1 music data runs down into the SQ2 music data.
def mthrbrnroomsq2data:

    byte: 0xc8
    //3/32 seconds    +
    byte: 0xb0
    //F2        | Repeat 8 times
    byte: 0xa
    //F#2        +
    byte: 0xc
    byte: 0xff
    byte: 0xc8
    //G2        + Repeat 8 times
    byte: 0xe
    //F#2        +
    byte: 0xc
    byte: 0xff
    byte: 0xc8
    //Ab2        + Repeat 8 times
    byte: 0x10
    //G2        +
    byte: 0xe
    byte: 0xff
    byte: 0xc8
    //G2        + Repeat 8 times
    byte: 0xe
    //F#2        +
    byte: 0xc
    byte: 0xff
    //End mother brain room music.
    byte: 0x0

//Unused tile patterns.
    byte: 0x2b, 0x3b, 0x1b, 0x5a, 0xd0, 0xd1, 0xc3, 0xc3, 0x3b, 0x3b, 0x9b, 0xda, 0xd0, 0xd0, 0xc0, 0xc0
    byte: 0x2c, 0x23, 0x20, 0x20, 0x30, 0x98, 0xcf, 0xc7, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x30
    byte: 0x1f, 0x80, 0xc0, 0xc0, 0x60, 0x70, 0xfc, 0xc0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x80, 0x80, 0xc0, 0x78, 0x4c, 0xc7, 0x80, 0x80
    byte: 0xc4, 0xa5, 0x45, 0xb, 0x1b, 0x3, 0x3, 0x0, 0x3a, 0x13, 0x31, 0x63, 0xc3, 0x83, 0x3, 0x4
    byte: 0xe6, 0xe6, 0xc4, 0x8e, 0x1c, 0x3c, 0x18, 0x30, 0xe8, 0xe8, 0xc8, 0x90, 0x60, 0x0, 0x0, 0x0

//-----------------------------------------[ Sound engine ]-------------------------------------------

//SFXdata. The top four entries are used by the noise music player for drum beats.
def tourian_page_B200:
    //Base for drum beat music data.
    byte: 0x0

def drumbeat00sfxdata:

def tourian_page_B201:
    //Noise channel music data #$01.
    byte: 0x10, 0x1, 0x18
def drumbeat01sfxdata:

    //Noise channel music data #$04.
    byte: 0x0, 0x1, 0x38
def drumbeat02sfxdata:

    //Noise channel music data #$07.
    byte: 0x1, 0x2, 0x40
def drumbeat03sfxdata:

    //Noise channel music data #$0A.
    byte: 0x0, 0x9, 0x58
def gamepausedsfxdata:

    byte: 0x80, 0x7f, 0x80, 0x48
def screwattsfxdata:

    byte: 0x35, 0x7f, 0x0, 0xb0
def missilelaunchsfxdata:

    byte: 0x19, 0x7f, 0xe, 0xa0
def bombexplodesfxdata:

    byte: 0xd, 0x7f, 0xf, 0x8
def samuswalksfxdata:

    byte: 0x16, 0x7f, 0xb, 0x18
def spitflamesfxdata:

    byte: 0x13, 0x7f, 0xe, 0xf8
def samushitsq1sq2sfxdata:

    byte: 0xc1, 0x89, 0x2, 0xf
def bosshitsq2sfxdata:

    byte: 0x34, 0xba, 0xe0, 0x5
def bosshitsq1sfxdata:

    byte: 0x34, 0xbb, 0xce, 0x5
def incorrectpasswordsq1sfxdata:

    byte: 0xb6, 0x7f, 0x0, 0xc2
def incorrectpasswordsq2sfxdata:

    byte: 0xb6, 0x7f, 0x4, 0xc2
def timebombticksfxdata:

    byte: 0x17, 0x7f, 0x66, 0x89
def energypickupsfxdata:

    byte: 0x89, 0x7f, 0x67, 0x18
def missilepickupsfxdata:

    byte: 0x8b, 0x7f, 0xfd, 0x28
def metalsfxdata:

    byte: 0x2, 0x7f, 0xa8, 0xf8
def longrangeshotsfxdata:

    byte: 0xd7, 0x83, 0x58, 0xf8
def shortrangeshotsfxdata:

    byte: 0xd6, 0x82, 0x58, 0xf8
def jumpsfxdata:

    byte: 0x95, 0x8c, 0x40, 0xb9
def enemyhitsfxdata:

    byte: 0x1d, 0x9a, 0x20, 0x8f
def bugoutofholesfxdata:

    byte: 0x16, 0x8d, 0xe0, 0x42
def wavebeamsfxdata:

    byte: 0x19, 0x7f, 0x6f, 0x40
def icebeamsfxdata:

    byte: 0x18, 0x7f, 0x80, 0x40
def bomblaunch1sfxdata:

    byte: 0x7, 0x7f, 0x40, 0x28
def bomblaunch2sfxdata:

    byte: 0x7, 0x7f, 0x45, 0x28
def samustoballsfxdata:

    byte: 0x7f, 0x7f, 0xdd, 0x3b
def metroidhitsfxdata:

    byte: 0x7f, 0x7f, 0xff, 0x98
def samusdiesfxdata:

    byte: 0x7f, 0x7f, 0x40, 0x8
def samusbeepsfxdata:

    byte: 0x9, 0x7f, 0x30, 0x48
def bigenemyhitsfxdata:

    byte: 0x3, 0x7f, 0x42, 0x18
def statueraisesfxdata:

    byte: 0x3, 0x7f, 0x11, 0x9
def doorsfxdata:

    byte: 0x7f, 0x7f, 0x30, 0xb2

//The following table is used by the CheckSFXFlag routine.  The first two bytes of each row
//are the address of the pointer table used for handling SFX and music  routines for set flags.
//The second pair of bytes is the address of the routine to next jump to if no SFX or music
//flags were found.  The final byte represents what type of channel is currently being
//processed: 0=Noise, 1=SQ1, 3=Triangle, 4=Multiple channels.

def choosenextsfxroutinetbl:


    //Noise init SFX        (1st).
    word: tourian_page_B2BB, 0xb322
    byte: 0x0
    
    //Noise continue SFX    (2nd).
    word: tourian_page_B2CB, tourian_page_B4EE
    byte: 0x0

    //SQ1 init SFX        (5th).
    word: tourian_page_B2DB, 0xb330
    byte: 0x1

    //SQ2 continue SFX    (6th).
    word: tourian_page_B2EB, tourian_page_B4EE
    byte: 0x1

    //Triangle init SFX    (7th).
    word: tourian_page_B2FB, 0xb344
    byte: 0x3

    //Triangle continue SFX    (8th).
    word: tourian_page_B30B, tourian_page_B4EE
    byte: 0x3

    //Multi init SFX        (3rd).
    word: tourian_page_BC06, 0xb35c
    byte: 0x4

    //Multi continue SFX    (4th).
    word: tourian_page_BC16, 0xb364
    byte: 0x4

    //temp flag Music    (10th).
    word: tourian_page_BC26, 0xbc4b
    byte: 0x0

    //Music            (9th).
    word: tourian_page_BC26, 0xbc3d
    byte: 0x0

//The tables below contain addresses for SFX handling routines.

//Noise Init SFX handling routine addresses:
def tourian_page_B2BB:
    //No sound.
    word: tourian_page_B4EE
    //Screw attack init SFX.
    word: tourian_page_B52B
    //Missile launch init SFX.
    word: tourian_page_B56E
    //Bomb explode init SFX.
    word: tourian_page_B583
    //Samus walk init SFX.
    word: tourian_page_B598
    //Spit flame init SFX.
    word: tourian_page_B50F
    //No sound.
    word: tourian_page_B4EE
    //No sound.
    word: tourian_page_B4EE

//Noise Continue SFX handling routine addresses:

def tourian_page_B2CB:
    //No sound.
    word: tourian_page_B4EE
    //Screw attack continue SFX.
    word: tourian_page_B539
    //Missile launch continue SFX.
    word: tourian_page_B57B
    //Bomb explode continue SFX.
    word: tourian_page_B58A
    //Samus walk continue SFX.
    word: tourian_page_B58A
    //Spit flame continue SFX.
    word: tourian_page_B516
    //No sound.
    word: tourian_page_B4EE
    //No sound.
    word: tourian_page_B4EE

//SQ1 Init SFX handling routine addresses:

def tourian_page_B2DB:
    //Missile pickup init SFX.
    word: tourian_page_B6CD
    //Energy pickup init SFX.
    word: tourian_page_B6E7
    //Metal init SFX.
    word: tourian_page_B735
    //Bullet fire init SFX.
    word: tourian_page_B716
    //Bird out of hole init SFX.
    word: tourian_page_B73C
    //Enemy hit init SFX.
    word: tourian_page_B710
    //Samus jump init SFX.
    word: tourian_page_B703
    //Wave beam init SFX.
    word: tourian_page_B77A

//SQ1 Continue SFX handling routine addresses:

def tourian_page_B2EB:
    //Missile pickup continue SFX.
    word: tourian_page_B6B0
    //Energy pickup continue SFX.
    word: tourian_page_B6D3
    //Metal continue SFX.
    word: tourian_page_B6ED
    //Bullet fire continue SFX.
    word: tourian_page_B74F
    //Bird out of hole continue SFX.
    word: tourian_page_B6ED
    //Enemy hit continue SFX.
    word: tourian_page_B6ED
    //Samus jump continue SFX.
    word: tourian_page_B6ED
    //Wave beam continue SFX.
    word: tourian_page_B781

//Triangle init handling routine addresses:

def tourian_page_B2FB:
    //Samus die init SFX.
    word: tourian_page_B8D2
    //Door open close init SFX.
    word: tourian_page_B7AC
    //Metroid hit init SFX.
    word: tourian_page_B8A7
    //Statue raise init SFX.
    word: tourian_page_B921
    //Beep init SFX.
    word: tourian_page_B7D9
    //Big enemy hit init SFX.
    word: tourian_page_B7EF
    //Samus to ball init SFX.
    word: tourian_page_B834
    //Bomb launch init SFX.
    word: tourian_page_B878

//Triangle continue handling routine addresses:

def tourian_page_B30B:
    //Samus die continue SFX.
    word: tourian_page_B8ED
    //Door open close continue SFX.
    word: tourian_page_B7CB
    //Metroid hit continue SFX.
    word: tourian_page_B8B1
    //Statue raise continue SFX.
    word: tourian_page_B940
    //Beep continue SFX.
    word: tourian_page_B7E7
    //Big enemy hit continue SFX.
    word: tourian_page_B80E
    //Samus to ball continue SFX.
    word: tourian_page_B84F
    //Bomb launch continue SFX.
    word: tourian_page_B87F

def loadnoisesfxinitflags:

    //Load A with Noise init SFX flags, (1st SFX cycle).
    a = [noisesfxflag]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0x89
    //Branch always.
    goto gotosfxcheckflags when ~zero

def loadnoisesfxcontflags:

    //Load A with Noise continue flags, (2nd SFX cycle).
    a = [noisecontsfx]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0x8e
    //Branch always.
    goto gotosfxcheckflags when ~zero

def loadsq1sfxinitflags:

    //Load A with SQ1 init flags, (5th SFX cycle).
    a = [sq1sfxflag]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0x93
    //Branch always.
    goto gotosfxcheckflags when ~zero

def loadsq1sfxcontflags:

    //Load A with SQ1 continue flags, (6th SFX cycle).
    a = [sq1contsfx]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0x98
    //Branch always.
    goto gotosfxcheckflags when ~zero

def gotosfxcheckflags:

    //($B4BD)Checks to see if SFX flags set.
    call checksfxflag
    //if no flag found, Jump to next SFX cycle,-->
    goto [0xe2]
                    //else jump to specific SFX handling routine.
def loadstrianglesfxinitflags:

    //Load A with Triangle init flags, (7th SFX cycle).
    a = [trianglesfxflag]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0x9d
    //Brach always.
    goto gotosfxcheckflags when ~zero

def loadtrianglesfxcontflags:

    //Load A with Triangle continue flags, (8th SFX cycle).
    a = [trianglecontsfx]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0xa2
    //Branch always.
    goto gotosfxcheckflags when ~zero

def loadmultisfxinitflags:

    //Load A with Multi init flags, (3rd SFX cycle).
    a = [multisfxflag]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0xa7
    //($B4BD)Checks to see if SFX or music flags set.
    call checksfxflag
    //($BC53)Find bit containing music init flag.
    call findmusicinitindex
    //($BC64)Add 8 to MusicInitIndex.
    call add8
    //If no flag found, Jump to next SFX cycle,-->
    goto [0xe2]
                    //else jump to specific SFX handling subroutine.
def loadmultisfxcontflags:

    //Load A with $68C flags (4th SFX cycle).
    a = [multicontsfx]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0xac
    //($B337)Checks to see if SFX or music flags set.
    goto gotosfxcheckflags

def loadsq1flags:

    //($B329)Check for SQ1 init flags.
    call loadsq1sfxinitflags
    return

def loadsq1channelsfx:
            //Used to determine which sound registers to change-->
    //($4000 - $4003) - SQ1.
    a = 0x0
    //Branch always.
    goto _000E when zero

def loadtrianglechannelsfx:
            //Used to determine which sound registers to change-->
    //($4008 - $400B) - Triangle.
    a = 0x8
    //Branch always.
    goto _000E when ~zero

def loadnoisechannelsfx:
            //Used to determine which sound registers to change-->
    //($400C - $400F) - Noise.
    a = 0xc
    //Branch always.
    goto _000E when ~zero

def loadsq2channelsfx:
            //Used to determine which sound registers to change-->
    //($4004 - $4007) - SQ2.
    a = 0x4

def loadsfxdata:

def _000E:
    //Lower address byte of desired APU control register.
    [0xe0] = a
    a = 0x40
    //Upper address byte of desired APU control register.
    [0xe1] = a
    //Lower address byte of data to load into sound channel.
    [0xe2] = y
    a = 0xb2
    //Upper address byte of data to load into sound channel.
    [0xe3] = a
    //Starting index for loading four byte sound data.
    y = 0x0

def loadsfxregisters:

def _000F:
    //Load A with SFX data byte.
    a = [[0xe2]:y]
    //Store A in SFX register.
    [[0xe0]:y] = a
    y++
    //The four registers associated with each sound-->
    a = y
    //channel are loaded one after the other (the loop-->
    compare a to 0x4
    //repeats four times).
    goto _000F when ~zero
    return

def pausesfx:

def _0010:
    //SFXPaused=#$01
    [sfxpaused]++
    //($B43E)Clear sound registers of data.
    call clearsounds
    //PauseSFXStatus=#$00
    [pausesfxstatus] = a
    return

def _0011:
    //Has SFXPaused been set? if not, branch
    a = [sfxpaused]
    goto _0010 when zero
    //For the first #$12 frames after the game has been-->
    a = [pausesfxstatus]
    //paused, play GamePaused SFX.  If paused for #$12-->
    compare a to 0x12
    //frames or more, branch to exit.
    goto _0013 when zero
    a = a & 0x3
    //Every fourth frame, repeat GamePaused SFX
    compare a to 0x3
    goto _0012 when ~zero
    //Lower address byte of GamePaused SFX data(Base=$B200)
    y = 0xd
    //($B368) Load GamePaused SFX data.
    call loadsq1channelsfx
def _0012:
    [pausesfxstatus]++
def _0013:
    return

//----------------------------------[ Sound Engine Entry Point ]-----------------------------------
//NOTES:  
//SFX take priority over music.
//
//There are 10 SFX cycles run every time the sound engine subroutine is called.  The cycles
//search for set sound flags in the following registers in order:
//$680, $688, $684, $68C, $681, $689, $683, $68B, $65D, $685 
//
//The sound channels are assigned SFX numbers.  Those SFX numbers are:
//Noise=0, sq1=1, sq2=2, triangle=3, Multi=4
//The sound channels are assigned music numbers.  Those music numbers are:
//SQ1=0, SQ2=1, Triangle=2, Noise=3

def soundengine:
 
    //Set APU to 5 frame cycle, disable frame interrupt.
    a = 0xc0
    [apucommoncntrl1] = a
    //is bit zero is set in NoiseSFXFlag(Silence-->
    a = [noisesfxflag]
    //music)?  If yes, branch.
    a = a >> 1
    goto _0015 when carry
    a = [mainroutine]
    //Is game paused?  If yes, branch.
    compare a to 0x5
    goto _0011 when zero
    //Clear SFXPaused when game is running.
    a = 0x0
    [sfxpaused] = a
    //($B31B)Check noise SFX flags.
    call loadnoisesfxinitflags
    //($B34B)Check multichannel SFX flags.
    call loadmultisfxinitflags
    //($B33D)Check triangle SFX flags.
    call loadstrianglesfxinitflags
    //($BC36)Check music flags.
    call loadmusictempflags

def clearsfxflags:

def _0014:
    a = 0x0
    [noisesfxflag] = a
    [sq1sfxflag] = a
    //Clear all SFX flags.
    [sq2sfxflag] = a
    [trianglesfxflag] = a
    [multisfxflag] = a
    [musicinitflag] = a
    return

def _0015:
    //($B404)Prepare to start playing music.
    call initializesoundaddresses
    //Branch always.
    goto _0014 when zero

def checkrepeatmusic:

    a = [musicrepeat]
    //If music is supposed to repeat, reset music,-->
    goto _0016 when zero
    //flags else branch to exit.
    a = [currentmusic]
    [currentmusicrepeat] = a
    return

def checkmusicflags:

    //Loads A with current music flags and compares it-->
    a = [currentmusic]
    //with current SFX flags.  If both are equal,-->
    compare a to [currentsfxflags]
    //just clear music counters, else clear everything.
    goto _0017 when zero

def initializesoundaddresses:
        //
def _0016:
    //($B41D)Jumps to all subroutines needed to reset-->
    call clearmusicandsfxaddresses
    //($B43E)all sound addresses in order to start-->
    call clearsounds
def _0017:
    //($B40E)playing music.
    call clearspecialaddresses
    return

def clearspecialaddresses:

    a = 0x0
    //Clears addresses used for repeating music,-->
    [trianglecountercntrl] = a
    //pausing music and controlling triangle length.
    [sfxpaused] = a
    [currentmusicrepeat] = a
    [musicrepeat] = a
    return

def clearmusicandsfxaddresses:
        //
    a = 0x0
    [sq1inuse] = a
    [sq2inuse] = a
    [triangleinuse] = a
    [writemultichanneldata] = a
    //Clears any SFX or music-->
    [noisecontsfx] = a
    //currently being played.
    [sq1contsfx] = a
    [sq2contsfx] = a
    [trianglecontsfx] = a
    [multicontsfx] = a
    [currentmusic] = a
    return

def clearsounds:
                //
    a = 0x10
    [sq1cntrl0] = a
    [sq2cntrl0] = a
    //Clears all sounds that might be in-->
    [noisecntrl0] = a
    //The sound channel registers.
    a = 0x0
    [trianglecntrl0] = a
    [dmccntrl1] = a
    return

def selectsfxroutine:

    x = [channeltype]
    //Stores frame length of SFX in corresponding address.
    [noisesfxlength:x] = a
    a = x
    //Branch if SFX uses noise channel.
    goto _0019 when zero
    compare a to 0x1
    //Branch if SFX uses SQ1 channel.
    goto _0018 when zero
    compare a to 0x2
    //Branch if SFX uses SQ2 channel.
    goto musicbranch00 when zero
    compare a to 0x3
    //Branch if SFX uses triangle wave.
    goto musicbranch01 when zero
    //Exit if SFX routine uses no channels.
    return

def _0018:
    //($B368)Prepare to load SQ1 channel with data.
    call loadsq1channelsfx
    //Branch always.
    goto _001A when zero
def musicbranch00:
                //
    //($B374)Prepare to load SQ2 channel with data.
    call loadsq2channelsfx
    //Branch always.
    goto _001A when zero
def musicbranch01:
                //
    //($B36C)Prepare to load triangle channel with data.
    call loadtrianglechannelsfx
    //Branch always.
    goto _001A when zero
def _0019:
    //($B370)Prepare to load noise channel with data.
    call loadnoisechannelsfx
def _001A:
    //($B493)Set continuation flags for this SFX.
    call updatecontflags
    a = x
    //Indicate sound channel is in use.
    [noiseinuse:x] = a
    a = 0x0
    [thisnoiseframe:x] = a
    //Clears all the following addresses before going-->
    [noisesfxdata:x] = a
    //to the proper SFX handling routine.
    [multisfxdata:x] = a
    [screwattacksfxdata:x] = a
    [writemultichanneldata] = a
    return

def updatecontflags:

def _001B:
    //Loads X register with sound channel just changed.
    x = [channeltype]
    //Clear existing continuation SFX-->
    a = [noisecontsfx:x]
    //flags for that channel.
    a = a & 0x0
    //Load new continuation flags.
    a = a | [currentsfxflags]
    //Save results.
    [noisecontsfx:x] = a
    return

def clearcurrentsfxflags:

    //Once SFX has completed, this block clears the-->
    a = 0x0
    //SFX flag from the current flag register.
    [currentsfxflags] = a
    goto _001B when zero

def incrementsfxframe:

    //Load SFX channel number.
    x = [channeltype]
    //increment current frame to play on given channel.
    [thisnoiseframe:x]++
    //Load current frame to play on given channel.
    a = [thisnoiseframe:x]
    //Check to see if current frame is last frame to play.
    compare a to [noisesfxlength:x]
    goto _001C when ~zero
    //If current frame is last frame,-->
    a = 0x0
    //reset current frame to 0.
    [thisnoiseframe:x] = a
def _001C:
    return

//The CheckSFXFlag routine loads E0 thru E3 with the below values:
//1st  SFX cycle $E0=#$BB, $E1=#$B2, $E2=#$22, $E3=#$B3.  Base address=$B289
//2nd  SFX cycle $E0=#$CB, $E1=#$B2, $E2=#$EE, $E3=#$B4.  Base address=$B28E
//3rd  SFX cycle $E0=#$06, $E1=#$BC, $E2=#$5C, $E3=#$B3.  Base address=$B2A7
//4th  SFX cycle $E0=#$16, $E1=#$BC, $E2=#$64, $E3=#$B3.  Base address=$B2AC
//5th  SFX cycle $E0=#$DB, $E1=#$B2, $E2=#$30, $E3=#$B3.  Base address=$B293
//6th  SFX cycle $E0=#$EB, $E1=#$B2, $E2=#$EE, $E3=#$B4.  Base address=$B298
//7th  SFX cycle $E0=#$FB, $E1=#$B2, $E2=#$44, $E3=#$B3.  Base address=$B29D
//8th  SFX cycle $E0=#$0B, $E1=#$B3, $E2=#$EE, $E3=#$B4.  Base address=$B2A2
//9th  SFX cycle $E0=#$26, $E1=#$BC, $E2=#$3D, $E3=#$BC.  Base address=$B2B6
//10th SFX cycle $E0=#$26, $E1=#$BC, $E2=#$4B, $E3=#$BC.  Base address=$B2B1

def checksfxflag:

    //Store any set flags in $064D.
    [currentsfxflags] = a
    [0xe4] = x
    y = 0xb2
    [0xe5] = y
    //Y=0 for counting loop ahead.
    y = 0x0
def _001D:
    a = [[0xe4]:y]
    //See table above for values loaded into $E0-->
    [0xe0:y] = a
    //thru $E3 during this loop.
    y++
    a = y
    //Loop repeats four times to load the values.
    compare a to 0x4
    goto _001D when ~zero
    a = [[0xe4]:y]
    //#$00=SQ1,#$01=SQ2,#$02=Triangle,#$03=Noise
    [channeltype] = a
    //Set y to 0 for counting loop ahead.
    y = 0x0
    a = [currentsfxflags]
    //Push current SFX flags on stack.
    push a
def _001E:
    [currentsfxflags] = [currentsfxflags] << 1
    //This portion of the routine loops a maximum of-->
    goto _001F when carry
    //eight times looking for any SFX flags that have-->
    y++
    //been set in the current SFX cycle.  If a flag-->
    y++
    //is found, Branch to SFXFlagFound for further-->
    a = y
    //processing, if no flags are set, continue to-->
    compare a to 0x10
    //next SFX cycle.
    goto _001E when ~zero

def restoresfxflags:

    a = pop
    //Restore original data in CurrentSFXFlags.
    [currentsfxflags] = a
def tourian_page_B4EE:
    return

def sfxflagfound:
                //
def _001F:
    //This routine stores the starting address of the-->
    a = [[0xe0]:y]
    //specific SFX handling routine for the SFX flag-->
    [0xe2] = a
    //found.  The address is stored in registers-->
    y++
    //$E2 and $E3.
    a = [[0xe0]:y]
    [0xe3] = a
    //($B4EA)Restore original data in CurrentSFXFlags.
    goto restoresfxflags

//-----------------------------------[ SFX Handling Routines ]---------------------------------------

//The following table is used by the SpitFlamesSFXContinue routine to change the volume-->
//on the SFX.  It starts out quiet, then becomes louder then goes quiet again.
def spitflamestbl:

def tourian_page_B4FB:
    byte: 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1b, 0x1a, 0x19, 0x17
    byte: 0x16, 0x15, 0x14, 0x12

def spitflamesfxstart:

def tourian_page_B50F:
    //Number of frames to play sound before a change.
    a = 0x14
    //Lower byte of sound data start address(base=$B200).
    y = 0x21
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def spitflamesfxcontinue:

def tourian_page_B516:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch.
    goto _0020 when ~zero
    //($B58F)End SFX.
    goto endnoisesfx
def _0020:
    y = [noisesfxdata]
    //Load data from table above and store in NoiseCntrl0.
    a = [tourian_page_B4FB:y]
    [noisecntrl0] = a
    //Increment to next entry in data table.
    [noisesfxdata]++
    return

def screwattacksfxstart:

def tourian_page_B52B:
    //Number of frames to play sound before a change.
    a = 0x5
    //Lower byte of sound data start address(base=$B200).
    y = 0x11
    //($B452)Setup registers for SFX.
    call selectsfxroutine
    //#$00.
    a = [0xb213]
    //Clear NoiseSFXData.
    [noisesfxdata] = a
def _0021:
    return

def screwattacksfxcontinue:

def tourian_page_B539:
    //Prevents period index from being incremented until-->
    a = [screwattacksfxdata]
    //after the tenth frame of the SFX.
    compare a to 0x2
    //Branch if not ready to increment.
    goto _0022 when zero
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto _0021 when ~zero
    //Increment every fifth frame.
    [screwattacksfxdata]++
    return

def _0022:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //Start increasing period index after first ten frames.
    goto incrementperiodindex when ~zero
    [noisesfxdata]--
    //Decrement NoiseSFXData by three every fifth frame.
    [noisesfxdata]--
    [noisesfxdata]--
    //Increment MultiSFXData.  When it is equal to #$0F-->
    [multisfxdata]++
    //end screw attack SFX.  MultiSFXData does not-->
    a = [multisfxdata]
    //appear to be linked to multi SFX channels in-->
    compare a to 0xf
    //this routine.
    goto _0021 when ~zero
    //($B58F)End SFX.
    goto endnoisesfx

def incrementperiodindex:

    //Incrementing the period index has the effect of-->
    [noisesfxdata]++
    //lowering the frequency of the noise SFX.
    a = [noisesfxdata]
    [noisecntrl2] = a
    return

def missilelaunchsfxstart:

def tourian_page_B56E:
    //Number of frames to play sound before a change.
    a = 0x18
    //Lower byte of sound data start address(base=$B200).
    y = 0x15
    //($B587)Prepare to setup registers for SFX.
    call gotoselectsfxroutine
    a = 0xa
    //Start increment index for noise channel at #$0A.
    [noisesfxdata] = a
    return

def missilelaunchsfxcontine:

def tourian_page_B57B:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto incrementperiodindex when ~zero
    //($B58F)End SFX.
    goto endnoisesfx

def bombexplodesfxstart:

def tourian_page_B583:
    //Number of frames to play sound before a change.
    a = 0x30
    //Lower byte of sound data start address(base=$B200).
    y = 0x19

def gotoselectsfxroutine:

def _0023:
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

//The following routine is used to continue BombExplode and SamusWalk SFX.

def noisesfxcontinue:

def tourian_page_B58A:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto musicbranch02 when ~zero

def endnoisesfx:

    //($B4A2)Clear all SFX flags.
    call clearcurrentsfxflags
    a = 0x10
    //disable envelope generator(sound off).
    [noisecntrl0] = a

def musicbranch02:

    //Exit for multiple routines.
    return
 
def samuswalksfxstart:

def tourian_page_B598:
    //If MissileLaunch, SamusWalk or SpitFire SFX are-->
    a = [noisecontsfx]
    //already being played, branch to exit.
    a = a & 0x34
    goto musicbranch02 when ~zero
    //Number of frames to play sound before a change.
    a = 0x3
    //Lower byte of sound data start address(base=$B200).
    y = 0x1d
    //Branch always.
    goto _0023 when ~zero

def multisfxinit:

    [multisfxlength] = a
    //($B374)Set SQ2 SFX data.
    call loadsq2channelsfx
    //($B493)Set continue SFX flag.
    call updatecontflags
    a = 0x1
    //Disable music from using SQ1 and SQ2 while-->
    [sq1inuse] = a
    //SFX are playing.
    a = 0x2
    [sq2inuse] = a
    a = 0x0
    [sq1contsfx] = a
    [sq1sfxdata] = a
    //Clear all listed memory addresses.
    [sq1sq2sfxdata] = a
    [sq1sfxperiodlow] = a
    [thismultiframe] = a
    [writemultichanneldata] = a
    return

def endmultisfx:

    a = 0x10
    //Disable SQ1 envelope generator(sound off).
    [sq1cntrl0] = a
    //Disable SQ2 envelope generator(sound off).
    [sq2cntrl0] = a
    a = 0x7f
    //Disable SQ1 sweep.
    [sq1cntrl1] = a
    //Disable SQ2 sweep.
    [sq2cntrl1] = a
    //($B4A2)Clear all SFX flags.
    call clearcurrentsfxflags
    a = 0x0
    [sq1inuse] = a
    //Allows music player to use SQ1 and SQ2 channels.
    [sq2inuse] = a
    [writemultichanneldata]++
    return

def bosshitsfxstart:

def tourian_page_B5EC:
    //Low byte of SQ1 sound data start address(base=$B200).
    y = 0x2d
    //($B368)Set SQ1 SFX data.
    call loadsq1channelsfx
    //Low byte of SQ2 sound data start address(base=$B200).
    y = 0x29
    //($B5A5)Initiate multi channel SFX.
    goto multisfxinit

def bosshitsfxcontinue:

def tourian_page_B5F6:
    //Increment index to data in table below.
    [sq1sfxdata]++
    y = [sq1sfxdata]
    a = [tourian_page_B63C:y]
    //Load SQ1Cntrl0 and SQ2Cntrl0 from table below.
    [sq1cntrl0] = a
    [sq2cntrl0] = a
    a = [sq1sfxdata]
    //After #$14 frames, end SFX.
    compare a to 0x14
    goto _0025 when zero
    //After six or more frames of SFX, branch.
    compare a to 0x6
    goto _0024 when ~carry
    a = [randomnumber1]
    //Set bit 5.
    a = a | 0x10
    //Randomly set bits 7, 3, 2, 1 and 0.
    a = a & 0x7f
    //Store in SQ1 period low.
    [sq1sfxperiodlow] = a
    a = a <<< 1
    [sq1sq2sfxdata] = a
    //($B62C)Write period low data to SQ1 and SQ2.
    goto writesq1sq2periodlow
def _0024:
    [sq1sq2sfxdata]++
    //Increment SQ1 and SQ2 period low by two.
    [sq1sq2sfxdata]++
    [sq1sfxperiodlow]++
    [sq1sfxperiodlow]++

def writesq1sq2periodlow:

    a = [sq1sq2sfxdata]
    //Write new SQ1 and SQ2 period lows to SQ1 and SQ2-->
    [sq2cntrl2] = a
    //channels.
    a = [sq1sfxperiodlow]
    [sq1cntrl2] = a
    return

def _0025:
    //($B5CD)End SFX.
    goto endmultisfx

def bosshitsfxdatatbl:

def tourian_page_B63C:
    byte: 0x38, 0x3d, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3d, 0x3b, 0x39, 0x3b, 0x3d, 0x3f, 0x3d, 0x3b, 0x39
    byte: 0x3b, 0x3d, 0x3f, 0x39

def samushitsfxcontinue:

def tourian_page_B650:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more SFX frames to process, branch.
    goto _0026 when ~zero
    //($B5CD)End SFX.
    goto endmultisfx
def _0026:
    //Low byte of SQ1 sound data start address(base=$B200).
    y = 0x25
    //($B368)Set SQ1 SFX data.
    call loadsq1channelsfx
    a = [randomnumber1]
    //Randomly set last four bits of SQ1 period low.
    a = a & 0xf
    [sq1cntrl2] = a
    //Low byte of SQ2 sound data start address(base=$B200).
    y = 0x25
    //($B374)Set SQ2 SFX data.
    call loadsq2channelsfx
    a = [randomnumber1]
    //Multiply random number by 4.
    a = a >> 1
    a = a >> 1
    a = a & 0xf
    //Randomly set bits 2 and 3 of SQ2 period low.
    [sq2cntrl2] = a
    return

def samushitsfxstart:

def tourian_page_B673:
    //Low byte of SQ1 sound data start address(base=$B200).
    y = 0x25
    //($B368)Set SQ1 SFX data.
    call loadsq1channelsfx
    a = [randomnumber1]
    //Randomly set last four bits of SQ1 period low.
    a = a & 0xf
    [sq1cntrl2] = a
    carry = 0
    //Randomly set last three bits of SQ2 period low+1.
    a = [randomnumber1]
    a = a & 0x3
    //Number of frames to play sound before a change.
    a = a +# 0x1
    //Low byte of SQ2 sound data start address(base=$B200).
    y = 0x25
    //($B5A5)Initiate multi channel SFX.
    call multisfxinit
    a = [randomnumber1]
    //Multiply random number by 4.
    a = a >> 1
    a = a >> 1
    a = a & 0xf
    //Randomly set bits 2 and 3 of SQ2 period low.
    [sq2cntrl2] = a
def _0027:
    return

def incorrectpasswordsfxstart:

def tourian_page_B695:
    //Low byte of SQ1 sound data start address(base=$B200).
    y = 0x31
    //($B368)Set SQ1 SFX data.
    call loadsq1channelsfx
    //Number of frames to play sound before a change.
    a = 0x20
    //Low byte of SQ2 sound data start address(base=$B200).
    y = 0x35
    //($B5A5)Initiate multi channel SFX.
    goto multisfxinit

def incorrectpasswordsfxcontinue:

def tourian_page_B6A1:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto _0027 when ~zero
    //($B5CD)End SFX.
    goto endmultisfx

//The following table is used by the below routine to load SQ1Cntrl2 data in the-->
//MissilePickupSFXContinue routine.

def missilepickupsfxtbl:

    byte: 0xbd, 0x8d, 0x7e, 0x5e, 0x46, 0x3e, 0x0

def missilepickupsfxcontinue:

def tourian_page_B6B0:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto musicbranch03 when ~zero
    y = [sq1sfxdata]
    //Load SFX data from table above.
    a = [missilepickupsfxtbl:y]
    goto _0028 when ~zero
    //($B6F2)SFX completed.
    goto endsq1sfx
def _0028:
    [sq1cntrl2] = a
    //#$28.
    a = [0xb244]
    //load SQ1Cntrl3 with #$28.
    [sq1cntrl3] = a
    //Increment index to data table above every 5 frames.
    [sq1sfxdata]++

def musicbranch03:

    //Exit from multiple routines.
    return

def missilepickupsfxstart:

def tourian_page_B6CD:
    //Number of frames to play sound before a change.
    a = 0x5
    //Lower byte of sound data start address(base=$B200).
    y = 0x41
    //Branch always.
    goto _002B when ~zero

def energypickupsfxcontinue:

def tourian_page_B6D3:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto musicbranch03 when ~zero
    [sq1sfxdata]++
    //Every six frames, reload SFX info.  Does it-->
    a = [sq1sfxdata]
    //three times for a total of 18 frames.
    compare a to 0x3
    goto _0029 when zero
    y = 0x3d
    //($B368)Set SQ1 SFX data.
    goto loadsq1channelsfx

def energypickupsfxstart:

def tourian_page_B6E7:
    //Number of frames to play sound before a change.
    a = 0x6
    //Lower byte of sound data start address(base=$B200).
    y = 0x3d
    //Branch always.
    goto _002B when ~zero

//The following continue routine is used by the metal, bird out of hole,
//enemy hit and the Samus jump SFXs.

def sq1sfxcontinue:

def tourian_page_B6ED:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto musicbranch03 when ~zero

def endsq1sfx:

def _0029:
    a = 0x10
    //Disable envelope generator(sound off).
    [sq1cntrl0] = a
    a = 0x0
    //Allows music to use SQ1 channel.
    [sq1inuse] = a
    //($B4A2)Clear all SFX flags.
    call clearcurrentsfxflags
    //Allows music routines to load SQ1 and SQ2 music.
    [writemultichanneldata]++
    return

def samusjumpsfxstart:

def tourian_page_B703:
    //If escape music is playing, exit without playing-->
    a = [currentmusic]
    //Samus jump SFX.
    compare a to 0x4
    goto musicbranch03 when zero
    //Number of frames to play sound before a change.
    a = 0xc
    //Lower byte of sound data start address(base=$B200).
    y = 0x51
    //Branch always.
    goto selectsfx1 when ~zero

def enemyhitsfxstart:

def tourian_page_B710:
    //Number of frames to play sound before a change.
    a = 0x8
    //Lower byte of sound data start address(base=$B200).
    y = 0x55
    //Branch always.
    goto selectsfx1 when ~zero

def bulletfiresfxstart:

def tourian_page_B716:
    a = [hasbeamsfx]
    //If Samus has ice beam, branch.
    a = a >> 1
    goto _002E when carry
    //If MissilePickup, EnergyPickup, BirdOutOfHole-->
    a = [sq1contsfx]
    //or EnemyHit SFX already playing, branch to exit.
    a = a & 0xcc
    goto musicbranch03 when ~zero
    a = [hasbeamsfx]
    //If Samus has long beam, branch.
    a = a << 1
    goto _002A when carry
    //Number of frames to play sound before a change.
    a = 0x3
    //Lower byte of sound data start address(base=$B200).
    y = 0x4d
    //Branch always (Plays ShortBeamSFX).
    goto selectsfx1 when ~zero

def haslongbeamsfxstart:

def _002A:
    //Number of frames to play sound before a change.
    a = 0x7
    //Lower byte of sound data start address(base=$B200).
    y = 0x49
    //Branch always.
    goto selectsfx1 when ~zero

def metalsfxstart:

def tourian_page_B735:
    //Number of frames to play sound before a change.
    a = 0xb
    //Lower byte of sound data start address(base=$B200).
    y = 0x45

def selectsfx1:

def _002B:
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def birdoutofholesfxstart:

def tourian_page_B73C:
    //If escape music is playing, use this SFX to make-->
    a = [currentmusic]
    //the bomb ticking sound, else play regular SFX.
    compare a to 0x4
    goto _002C when zero
    //Number of frames to play sound before a change.
    a = 0x16
    //Lower byte of sound data start address(base=$B200).
    y = 0x59
    //Branch always.
    goto selectsfx1 when ~zero
def _002C:
    //Number of frames to play sound before a change.
    a = 0x7
    //Lower byte of sound data start address(base=$B200).
    y = 0x39
    //Branch always.
    goto selectsfx1 when ~zero

def bulletfiresfxcontinue:

def tourian_page_B74F:
    a = [hasbeamsfx]
    //If Samus has ice beam, branch.
    a = a >> 1
    goto _002F when carry
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto _002D when ~zero
    //($B6F2)If SFX finished, jump.
    goto endsq1sfx
def _002D:
    return

def hasicebeamsfxstart:

def _002E:
    //Number of frames to play sound before a change.
    a = 0x7
    //Lower byte of sound data start address(base=$B200).
    y = 0x61
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def hasicebeamsfxcontinue:

def _002F:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch.
    goto _0030 when ~zero
    //($B6F2)If SFX finished, jump.
    goto endsq1sfx
def _0030:
    a = [sq1sfxdata]
    //Determine index for IceBeamSFXDataTbl below.
    a = a & 0x1
    y = a
    //Loads A with value from IceBeamSFXDataTbl below.
    a = [icebeamsfxdatatbl:y]
    goto _0032 when ~zero

def icebeamsfxdatatbl:

    //Ice beam SFX period low data.
    byte: 0x93
    byte: 0x81

def wavebeamsfxstart:

def tourian_page_B77A:
    //Number of frames to play sound before a change.
    a = 0x8
    //Lower byte of sound data start address(base=$B200).
    y = 0x5d
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def wavebeamsfxcontinue:

def tourian_page_B781:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch.
    goto _0031 when ~zero
    y = [sq1sq2sfxdata]
    //Load wave beam SFXDisable/enable envelope length-->
    [sq1sq2sfxdata]++
    //data from WaveBeamSFXDisableLengthTbl.
    a = [wavebeamsfxdislngthtbl:y]
    [sq1cntrl0] = a
    //If at end of WaveBeamSFXDisableLengthTbl, end SFX.
    goto musicbranch10 when ~zero
    //($B6F2)If SFX finished, jump.
    goto endsq1sfx
def _0031:
    a = [sq1sfxdata]
    a = a & 0x1
    //Load wave beam SFX period low data from-->
    y = a
    //WaveBeamSFXPeriodLowTbl.
    a = [wavebeamsfxperiodlowtbl:y]

def loadsq1periodlow:

def _0032:
    //Change the period low data for SQ1 channel.
    [sq1cntrl2] = a
    [sq1sfxdata]++

def musicbranch10:

    //Exit for multiple routines.
    return
 
def wavebeamsfxperiodlowtbl:

    //Wave beam SFX period low data.
    byte: 0x58
    byte: 0x6f

def wavebeamsfxdislngthtbl:

    byte: 0x93
    //Wave beam SFX Disable/enable envelope length data.
    byte: 0x91
    byte: 0x0

def dooropenclosesfxstart:

def tourian_page_B7AC:
    //#$30.
    a = [0xb287]
    //Set triangle period low data byte.
    [triangleperiodlow] = a
    //#$B2.
    a = [0xb288]
    //Set triangle period high data byte.
    a = a & 0x7
    //#$B7.
    [triangleperiodhigh] = a
    a = 0xf
    //Change triangle channel period low every frame by #$0F.
    [trianglechangelow] = a
    a = 0x0
    //No change in triangle channel period high.
    [trianglechangehigh] = a
    //Number of frames to play sound before a change.
    a = 0x1f
    //Lower byte of sound data start address(base=$B200).
    y = 0x85
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def dooropenclosesfxcontinue:

def tourian_page_B7CB:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto _0033 when ~zero
    //($B896)End SFX.
    goto endtrianglesfx
def _0033:
    //($B98C)Decrease periods.
    call decreasetriangleperiods
    //($B869)Save new periods.
    goto writetriangleperiods

def beepsfxstart:

def tourian_page_B7D9:
    //If BombLaunchSFX is already playing, branch-->
    a = [trianglecontsfx]
    //without playing BeepSFX.
    a = a & 0x80
    goto musicbranch10 when ~zero
    //Number of frames to play sound before a change.
    a = 0x3
    //Lower byte of sound data start address(base=$B200).
    y = 0x79
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def beepsfxcontinue:

def tourian_page_B7E7:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto musicbranch10 when ~zero
    //($B896)End SFX.
    goto endtrianglesfx

def bigenemyhitsfxstart:

def tourian_page_B7EF:
    //Increase triangle low period by #$12 every frame.
    a = 0x12
    [trianglechangelow] = a
    a = 0x0
    //Does not change triangle period high.
    [trianglechangehigh] = a
    //#$42.
    a = [0xb27f]
    //Save new triangle period low data.
    [triangleperiodlow] = a
    //#$18.
    a = [0xb280]
    //#$1F.
    a = a & 0x7
    //Save new triangle period high data.
    [triangleperiodhigh] = a
    //Number of frames to play sound before a change.
    a = 0xa
    //Lower byte of sound data start address(base=$B200).
    y = 0x7d
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def bigenemyhitsfxcontinue:

def tourian_page_B80E:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch
    goto _0034 when ~zero
    //($B896)End SFX
    goto endtrianglesfx
def _0034:
    //($B978)Increase periods.
    call increasetriangleperiods
    a = [randomnumber1]
    a = a & 0x3c
    [trianglesfxdata] = a
    //Randomly set or clear bits 2, 3, 4 and 5 in-->
    a = [triangleperiodlow]
    //triangle channel period low.
    a = a & 0xc3
    a = a | [trianglesfxdata]
    [trianglecntrl2] = a
    a = [triangleperiodhigh]
    //Set 4th bit in triangle channel period high.
    a = a | 0x40
    [trianglecntrl3] = a
    return

def samustoballsfxstart:

def tourian_page_B834:
    //Number of frames to play sound before a change.
    a = 0x8
    //Lower byte of sound data start address(base=$B200).
    y = 0x6d
    //($B452)Setup registers for SFX.
    call selectsfxroutine
    a = 0x5
    //Stores percent difference. In this case 5 = 1/5 = 20%.
    [percentdifference] = a
    //#$DD.
    a = [0xb26f]
    //Save new triangle period low data.
    [triangleperiodlow] = a
    //#$3B.
    a = [0xb270]
    //#$02.
    a = a & 0x7
    //Save new triangle period high data.
    [triangleperiodhigh] = a
    return

def samustoballsfxcontinue:

def tourian_page_B84F:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch.
    goto _0035 when ~zero
    //($B896)End SFX.
    goto endtrianglesfx
def _0035:
    //($B9A0)reduces triangle period low by 20% each frame.
    call dividetriangleperiods
    a = [trianglelowpercentage]
    //Store new values to change triangle periods.
    [trianglechangelow] = a
    a = [trianglehighpercentage]
    [trianglechangehigh] = a
    //($B98C)Decrease periods.
    call decreasetriangleperiods

def writetriangleperiods:

    //Write TrianglePeriodLow to triangle channel.
    a = [triangleperiodlow]
    [trianglecntrl2] = a
    a = [triangleperiodhigh]
    //Write TrianglePeriodHigh to triangle channel.
    a = a | 0x8
    [trianglecntrl3] = a
    return

def bomblaunchsfxstart:

def tourian_page_B878:
    //Number of frames to play sound before a change.
    a = 0x4
    //Lower byte of sound data start address(base=$B200).
    y = 0x65
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def bomblaunchsfxcontinue:

def tourian_page_B87F:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    //If more frames to process, branch to exit.
    goto musicbranch04 when ~zero
    [trianglesfxdata]++
    //After four frames, load second part of SFX.
    a = [trianglesfxdata]
    compare a to 0x2
    goto _0036 when ~zero
    //($B896)End SFX.
    goto endtrianglesfx
def _0036:
    //Lower byte of sound data start address(base=$B200).
    y = 0x69
    //($B36C)Prepare to load triangle channel with data.
    goto loadtrianglechannelsfx

def endtrianglesfx:

    a = 0x0
    //clear TriangleCntr0(sound off).
    [trianglecntrl0] = a
    //Allows music to use triangle channel.
    [triangleinuse] = a
    a = 0x18
    //Set length index to #$03.
    [trianglecntrl3] = a
    //($B4A2)Clear all SFX flags.
    call clearcurrentsfxflags

def musicbranch04:

    //Exit from for multiple routines.
    return

def metroidhitsfxstart:

def tourian_page_B8A7:
    //Number of frames to play sound before a change.
    a = 0x3
    //Lower byte of sound data start address(base=$B200).
    y = 0x71
    //($B452)Setup registers for SFX.
    call selectsfxroutine
    //($B8C3)MetroidHit SFX has several different sounds.
    goto rndtriangleperiods

def metroihitsfxcontinue:

def tourian_page_B8B1:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto _0037 when zero
    [trianglesfxdata]++
    //Randomize triangle periods nine times throughout-->
    a = [trianglesfxdata]
    //the course of the SFX.
    compare a to 0x9
    //If SFX not done, branch.
    goto musicbranch04 when ~zero
    //($B896)End SFX.
    goto endtrianglesfx

def rndtriangleperiods:

def _0037:
    //Randomly set or reset bits 7, 4, 2 and 1 of-->
    a = [randomnumber1]
    //triangle channel period low.
    a = a | 0x6c
    [trianglecntrl2] = a
    a = a & 0x1
    //Randomly set or reset last bit of triangle-->
    a = a | 0xf8
    //channel period high.
    [trianglecntrl3] = a
    return

def samusdiesfxstart:

def tourian_page_B8D2:
    //($B404)Clear all sound addresses.
    call initializesoundaddresses
    //Number of frames to play sound before a change.
    a = 0xe
    //Lower byte of sound data start address(base=$B200).
    y = 0x75
    //($B452)Setup registers for SFX.
    call selectsfxroutine
    //Decrease triangle SFX periods by 4.8% every frame.
    a = 0x15
    [percentdifference] = a
    //#$40.
    a = [0xb277]
    [triangleperiodlow] = a
    //Initial values of triangle periods.
    a = 0x0
    [triangleperiodhigh] = a
def _0038:
    return

def samusdiesfxcontinue:

def tourian_page_B8ED:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto _0039 when ~zero
    //Store change in triangle period low.
    a = 0x20
    [trianglechangelow] = a
    a = 0x0
    //No change in triangle period high.
    [trianglechangehigh] = a
    //($B98C)Decrease periods.
    call decreasetriangleperiods
    [trianglesfxdata]++
    a = [trianglesfxdata]
    compare a to 0x6
    //If more frames to process, branch to exit.
    goto _0038 when ~zero
    //($B896)End SFX.
    goto endtrianglesfx
def _0039:
    //($B9A0)reduces triangle period low.
    call dividetriangleperiods
    a = [trianglelowpercentage]
    //Update triangle periods.
    [trianglechangelow] = a
    a = [trianglehighpercentage]
    [trianglechangehigh] = a
    //($B978)Increase periods.
    call increasetriangleperiods
    //($B869)Save new periods.
    goto writetriangleperiods

def statueraisesfxstart:

def tourian_page_B921:
    //#$11.
    a = [0xb283]
    //Save period low data.
    [triangleperiodlow] = a
    //#$09.
    a = [0xb284]
    a = a & 0x7
    //Store last three bits in $B284.
    [triangleperiodhigh] = a
    a = 0x0
    //No change in Triangle period high.
    [trianglechangehigh] = a
    a = 0xb
    [trianglechangelow] = a
    //Number of frames to play sound before a change.
    a = 0x6
    //Lower byte of sound data start address(base=$B200).
    y = 0x81
    //($B452)Setup registers for SFX.
    goto selectsfxroutine

def statueraisesfxcontinue:

def tourian_page_B940:
    //($B4A9)Get next databyte to process in SFX.
    call incrementsfxframe
    goto _003B when ~zero
    //Increment TriangleSFXData every 6 frames.
    [trianglesfxdata]++
    a = [trianglesfxdata]
    //When TriangleSFXData = #$09, end SFX.
    compare a to 0x9
    goto _003A when ~zero
    //($B896)End SFX.
    goto endtrianglesfx
def _003A:
    a = [trianglechangelow]
    //Save triangle periods.
    push a
    a = [trianglechangehigh]
    push a
    a = 0x25
    [trianglechangelow] = a
    //No change in triangle period high.
    a = 0x0
    [trianglechangehigh] = a
    //($B978)Increase periods.
    call increasetriangleperiods
    a = pop
    //Restore triangle periods.
    [trianglechangehigh] = a
    a = pop
    [trianglechangelow] = a
    //($B869)Save new periods.
    goto writetriangleperiods
def _003B:
    //($B98C)Decrease periods.
    call decreasetriangleperiods
    //($B869)Save new periods.
    goto writetriangleperiods

def increasetriangleperiods:

    carry = 0
    a = [triangleperiodlow]
    //Calculate new TrianglePeriodLow.
    a = a +# [trianglechangelow]
    [triangleperiodlow] = a
    a = [triangleperiodhigh]
    //Calculate new TrianglePeriodHigh.
    a = a +# [trianglechangehigh]
    [triangleperiodhigh] = a
    return

def decreasetriangleperiods:

    carry = 1
    a = [triangleperiodlow]
    //Calculate new TrianglePeriodLow.
    a = a -# [trianglechangelow]
    [triangleperiodlow] = a
    a = [triangleperiodhigh]
    //Calculate new TrianglePeriodHigh.
    a = a -# [trianglechangehigh]
    [triangleperiodhigh] = a
    return

def dividetriangleperiods:

    a = [triangleperiodlow]
    //Store TrianglePeriodLow and TrianglePeriodHigh.
    push a
    a = [triangleperiodhigh]
    push a
    a = 0x0
    [dividedata] = a
    x = 0x10
    [triangleperiodlow] = [triangleperiodlow] <<< 1
    [triangleperiodhigh] = [triangleperiodhigh] <<< 1
def _003C:
    //The following routine takes the triangle period-->
    [dividedata] = [dividedata] <<< 1
    //high and triangle period low values and reduces-->
    a = [dividedata]
    //them by a certain percent.  The percent is-->
    compare a to [percentdifference]
    //determined by the value stored in-->
    goto _003D when ~carry
    //PercentDifference.  If PercentDifference=#$05,-->
    a = a -# [percentdifference]
    //then the values will be reduced by 20%(1/5).-->
    [dividedata] = a
def _003D:
    //If PercentDifference=#$0A,Then the value will-->
    [triangleperiodlow] = [triangleperiodlow] <<< 1
    //be reduced by 10%(1/10), etc. This function is-->
    [triangleperiodhigh] = [triangleperiodhigh] <<< 1
    //basically a software emulation of a sweep function.
    x--
    goto _003C when ~zero
    a = [triangleperiodlow]
    [trianglelowpercentage] = a
    a = [triangleperiodhigh]
    [trianglehighpercentage] = a
    a = pop
    //Restore TrianglePerodLow and TrianglePeriodHigh.
    [triangleperiodhigh] = a
    a = pop
    [triangleperiodlow] = a
    return

//--------------------------------------[ End SFX routines ]-------------------------------------
 
def setvolumeanddisablesweep:

    a = 0x7f
    //Disable sweep generator on SQ1 and SQ2.
    [musicsq1sweep] = a
    [musicsq2sweep] = a
    //Store duty cycle and volume data for SQ1 and SQ2.
    [sq1dutyenvelope] = x
    [sq2dutyenvelope] = y
    return

def resetvolumeindex:

    //If at the beginning of a new SQ1 note, set-->
    a = [sq1musicframecount]
    //SQ1VolumeIndex = #$01.
    compare a to 0x1
    goto _003E when ~zero
    [sq1volumeindex] = a
def _003E:
    a = [sq2musicframecount]
    //If at the beginning of a new SQ2 note, set-->
    compare a to 0x1
    //SQ2VolumeIndex = #$01.
    goto _003F when ~zero
    [sq2volumeindex] = a
def _003F:
    return

def loadsq1sq2periods:

    //If a Multi channel data does not need to be-->
    a = [writemultichanneldata]
    //loaded, branch to exit.
    goto _0040 when zero
    a = 0x0
    //Clear multi channel data write flag.
    [writemultichanneldata] = a
    a = [musicsq1sweep]
    [sq1cntrl1] = a
    a = [musicsq1periodlow]
    //Loads SQ1 channel addresses $4001, $4002, $4003.
    [sq1cntrl2] = a
    a = [musicsq1periodhigh]
    [sq1cntrl3] = a
    a = [musicsq2sweep]
    [sq2cntrl1] = a
    a = [musicsq2periodlow]
    //Loads SQ2 channel addresses $4005, $4006, $4007.
    [sq2cntrl2] = a
    a = [musicsq2periodhigh]
    [sq2cntrl3] = a
def _0040:
    return

def loadsq1sq2channels:

    //Load SQ1 channel data.
    x = 0x0
    //($BA41)Write Cntrl0 data.
    call writesqcntrl0
    //Load SQ2 channel data.
    x++
    //($BA41)Write Cntrl0 data.
    call writesqcntrl0
    return

def writesqcntrl0:

    //Load SQ channel volume data. If zero, branch to exit.
    a = [sq1volumecntrl:x]
    goto _0045 when zero
    [volumecntrladdress] = a
    //($BA08)Load SQ1 and SQ2 control information.
    call loadsq1sq2periods
    a = [sq1volumedata:x]
    //If sound channel is not currently-->
    compare a to 0x10
    //playing sound, branch.
    goto _0047 when zero
    y = 0x0
def _0041:
    //Desired entry in VolumeCntrlAdressTbl.
    [volumecntrladdress]--
    goto _0042 when zero
    //*2(2 byte address to find voulume control data).
    y++
    y++
    //Keep decrementing until desired address is found.
    goto _0041 when ~zero
def _0042:
    //Base is $BCB0.
    a = [volumecntrladdresstbl:y]
    //Volume data address low byte.
    [0xec] = a
    //Base is $BCB1.
    a = [volumecntrladdresstbl+1:y]
    //Volume data address high byte.
    [0xed] = a
    //Index to desired volume data.
    y = [sq1volumeindex:x]
    //Load desired volume for current channel into-->
    a = [[0xec]:y]
    //Cntrl0Data.
    [cntrl0data] = a
    //If last entry in volume table is #$FF, restore-->
    compare a to 0xff
    //volume to its original level after done reading-->
    goto musicbranch05 when zero
    //Volume data.  If #$F0 is last entry, turn sound-->
    compare a to 0xf0
    //off on current channel until next note.
    goto musicbranch06 when zero
    //Remove duty cycle data For current channel and-->
    a = [sq1dutyenvelope:x]
    //add this frame of volume data and store results-->
    a = a & 0xf0
    //in Cntrl0Data.
    a = a | [cntrl0data]
    y = a
def _0043:
    //Increment Index to volume data.
    [sq1volumeindex:x]++
def _0044:
    //If SQ1 or SQ2(depends on loop iteration) in use,-->
    a = [sq1inuse:x]
    //branch to exit, else write SQ(1 or 2)Cntrl0.
    goto _0045 when ~zero
    a = x
    //If currently on SQ1, branch to write SQ1 data.
    goto _0046 when zero

def writesq2cntrl0:
                //
    //Write SQ2Cntrl0 data.
    [sq2cntrl0] = y
def _0045:
    return

def writesq1cntrl0:
                //
def _0046:
    //Write SQ1Cntrl0 data.
    [sq1cntrl0] = y
    return

def musicbranch05:

    //Restore original volume of sound channel.
    y = [sq1dutyenvelope:x]
    //Branch always.
    goto _0044 when ~zero

def musicbranch06:

    //Disable envelope generator and set volume to 0.
    y = 0x10
    //Branch always.
    goto _0044 when ~zero
def _0047:
    //Disable envelope generator and set volume to 0.
    y = 0x10
    //Branch always.
    goto _0043 when ~zero

def gotocheckrepeatmusic:

def _0048:
    //($B3F0)Resets music flags if music repeats.
    call checkrepeatmusic
    return

def gotoloadsq1sq2channels:

def _0049:
    //($BA37)Load SQ1 and SQ2 channel data.
    call loadsq1sq2channels
    return

def loadcurrentmusicframedata:

    //($B9F3)Reset index if at the beginning of a new note.
    call resetvolumeindex
    a = 0x0
    //X = #$00.
    x = a
    //(#$00, #$04, #$08 or #$0C).
    [thissoundchannel] = a
    goto _004B when zero
def _004A:
    a = x
    a = a >> 1
    //Increment to next sound channel(1,2 or 3).
    x = a
                    //
def incrementtonextchannel:
            //
    x++
    a = x
    //If done with four sound channels, branch to load-->
    compare a to 0x4
    //sound channel SQ1 SQ2 data.
    goto _0049 when zero
    //Add 4 to the least significant byte of the current-->
    a = [thissoundchannel]
    //sound channel start address.  This moves to next-->
    carry = 0
    //sound channel address ranges to process.
    a = a +# 0x4
    [thissoundchannel] = a
def _004B:
    a = x
    //*2(two bytes for sound channel info base address).
    a = a << 1
    x = a
    a = [sq1lowbasebyte:x]
    //Load sound channel info base address into $E6-->
    [0xe6] = a
    //and $E7. ($E6=low byte, $E7=high byte).
    a = [sq1highbasebyte:x]
    [0xe7] = a
    //If no data for this sound channel, branch-->
    a = [sq1highbasebyte:x]
    //to find data for next sound channel.
    goto _004A when zero
    a = x
    ///2. Determine current sound channel (0,1,2 or3).
    a = a >> 1
    x = a
    //Decrement the current sound channel frame count-->
    [sq1musicframecount:x]--
    //If not zero, branch to check next channel, else-->
    goto incrementtonextchannel when ~zero
                    //load the next set of sound channel data.
def loadnextchannelindexdata:

    //Load current channel index to music data index.
    y = [sq1musicindexindex:x]
    //Increment current channel index to music data index.
    [sq1musicindexindex:x]++
    a = [[0xe6]:y]
    //Branch if music has reached the end.
    goto _0048 when zero
    //Transfer music data index to Y (base=$BE77) .
    y = a
    compare a to 0xff
    //At end of loop? If yes, branch.
    goto _004C when zero
    a = a & 0xc0
    //At beginnig of new loop? if yes, branch.
    compare a to 0xc0
    goto _004D when zero
    //($BB1C)Load music data into channel.
    goto loadmusicchannel

def repeatmusicloop:

def _004C:
    //If loop counter has reached zero, branch to exit.
    a = [sq1repeatcounter:x]
    goto _004E when zero
    //Decrement loop counter.
    [sq1repeatcounter:x]--
    //Load loop index for proper channel and store it in-->
    a = [sq1loopindex:x]
    //music index index address.
    [sq1musicindexindex:x] = a
    //Branch unless music has reached the end.
    goto _004E when ~zero

def startnewmusicloop:

def _004D:
    a = y
    //Remove last six bits of loop controller and save-->
    a = a & 0x3f
    //in repeat counter addresses.  # of times to loop.
    [sq1repeatcounter:x] = a
    //Decrement loop counter.
    [sq1repeatcounter:x]--
    //Store location of loop start in loop index address.
    a = [sq1musicindexindex:x]
    [sq1loopindex:x] = a
def _004E:
    //($BADC)Load next channel index data.
    goto loadnextchannelindexdata

def _004F:
    //($BBDE)Load data for noise channel music.
    goto loadnoisechannelmusic

def _0050:
    //($BBB7)Load Cntrl0 byte of triangle channel.
    goto loadtrianglecntrl0

def loadmusicchannel:

    a = y
    a = a & 0xb0
    //Is data byte music note length data?  If not, branch.
    compare a to 0xb0
    goto _0051 when ~zero
    a = y
    //Separate note length data.
    a = a & 0xf
    carry = 0
    //Find proper note lengths table for current music.
    a = a +# [notelengthtbloffset]
    y = a
    //(Base is $BEF7)Load note length and store in-->
    a = [notelengths0tbl:y]
    //frame count init address.
    [sq1framecountinit:x] = a
    //Y now contains note length.
    y = a
    a = x
    //If loading Triangle channel data, branch.
    compare a to 0x2
    goto _0050 when zero

def loadsounddataindexindex:

    //Load current index to sound data index.
    y = [sq1musicindexindex:x]
    //Increment music index index address.
    [sq1musicindexindex:x]++
    //Load index to sound channel music data.
    a = [[0xe6]:y]
    y = a
def _0051:
    a = x
    //If loading Noise channel data, branch.
    compare a to 0x3
    goto _004F when zero
    //Push music channel number on stack(0, 1 or 2).
    push a
    x = [thissoundchannel]
    //(Base=$BE78)Load A with music channel period low data.
    a = [musicnotestbl+1:y]
    //If data is #$00, skip period high and low loading.
    goto _0052 when zero
    //Store period low data in proper period low address.
    [musicsq1periodlow:x] = a
    //(Base=$BE77)Load A with music channel period high data.
    a = [musicnotestbl:y]
    //Ensure minimum index length of 1.
    a = a | 0x8
    //Store period high data in proper period high address.
    [musicsq1periodhigh:x] = a
def _0052:
    y = a
    //Pull stack and restore channel number to X.
    a = pop
    x = a
    a = y
    //If period information was present, branch.
    goto _0053 when ~zero
                
def noperiodinformation:

    //Turn off channel volume since no period data present.
    a = 0x0
    [cntrl0data] = a
    a = x
    //If loading triangle channel data, branch.
    compare a to 0x2
    goto _0054 when zero
    //Turn off volume and disable env. generator(SQ1,SQ2).
    a = 0x10
    [cntrl0data] = a
    //Branch always.
    goto _0054 when ~zero

def periodinformationfound:

def _0053:
    //Store channel duty cycle and volume info in $EA.
    a = [sq1dutyenvelope:x]
    [cntrl0data] = a
def _0054:
    a = x
    [sq1inuse:x]--
    //If SQ1 or SQ2 are being used by SFX routines, branch.
    compare a to [sq1inuse:x]
    goto _0057 when zero
    //Restore not in use status of SQ1 or SQ2.
    [sq1inuse:x]++
    y = [thissoundchannel]
    a = x
    //If loading triangle channel data, branch.
    compare a to 0x2
    goto _0055 when zero
    //If $062E or $062F has volume data, skip writing-->
    a = [sq1volumecntrl:x]
    //Cntrl0Data to SQ1 or SQ2.
    goto _0056 when ~zero
def _0055:
    a = [cntrl0data]
    //Write Cntrl0Data.
    [sq1cntrl0:y] = a
def _0056:
    a = [cntrl0data]
    //Store volume data index to volume data.
    [sq1volumedata:x] = a
    a = [musicsq1periodlow:y]
    [sq1cntrl2:y] = a
    //Write data to three sound channel addresses.
    a = [musicsq1periodhigh:y]
    [sq1cntrl3:y] = a
    a = [musicsq1sweep:x]
    [sq1cntrl1:y] = a

def loadnewmusicframecount:

    //Load new music frame count and store it in music-->
    a = [sq1framecountinit:x]
    //frame count address.
    [sq1musicframecount:x] = a
    //($BAB3)Move to next sound channel.
    goto incrementtonextchannel

def sq1sq2inuse:

def _0057:
    //Restore in use status of SQ1 or SQ1.
    [sq1inuse:x]++
    //($BBA8)Load new music frame count.
    goto loadnewmusicframecount

def loadtrianglecntrl0:

    a = [trianglecountercntrl]
    //If lower bits set, branch to play shorter note.
    a = a & 0xf
    goto _0059 when ~zero
    a = [trianglecountercntrl]
    //If upper bits are set, branch to play longer note.
    a = a & 0xf0
    goto _0058 when ~zero
    a = y
    //($BBCD)Calculate length to play note.
    goto addtrianglelength
def _0058:
    //Disable length cntr(play until triangle data changes).
    a = 0xff
    //Branch always.
    goto _0059 when ~zero

def addtrianglelength:

    carry = 0
    //Add #$FF(Effectively subtracts 1 from A).
    a = a +# 0xff
    //*2.
    a = a << 1
    //*2.
    a = a << 1
    compare a to 0x3c
    //If result is greater than #$3C, store #$3C(highest-->
    goto _0059 when ~carry
    //triangle linear count allowed).
    a = 0x3c
def _0059:
    [trilinearcount] = a
def _005A:
    //($BB37)Load index to sound data index.
    goto loadsounddataindexindex

def loadnoisechannelmusic:

    a = [noisecontsfx]
    //If playing any Noise SFX, branch to exit.
    a = a & 0xfc
    goto _005B when ~zero
    a = [tourian_page_B200:y]
    //Load noise channel with drum beat SFX starting-->
    [noisecntrl0] = a
    //at address B201.  The possible values of Y are-->
    a = [tourian_page_B201:y]
    //#$01, #$04, #$07 or #$0A.
    [noisecntrl2] = a
    a = [0xb202:y]
    [noisecntrl3] = a
def _005B:
    //($BBA8)Load new music frame count.
    goto loadnewmusicframecount

//The following table is used by the InitializeMusic routine to find the index for loading
//addresses $062B thru $0637.  Base is $BD31.

def initmusicindextbl:

    //Ridley area music.
    byte: 0x41
    //Tourian music.
    byte: 0x8f
    //Item room music.
    byte: 0x34
    //Kraid area music.
    byte: 0x27
    //Norfair music.
    byte: 0x1a
    //Escape music.
    byte: 0xd
    //Mother brain music.
    byte: 0x0
    //Brinstar music.
    byte: 0x82
    //Fade in music.
    byte: 0x68
    //Power up music.
    byte: 0x75
    //End music.
    byte: 0x4e
    //Intro music.
    byte: 0x5b

//The tables below contain addresses for SFX and music handling routines.
//Multi channel Init SFX and music handling routine addresses:

def tourian_page_BC06:
    //Fade in music.
    word: tourian_page_BC80
    //Power up music.
    word: tourian_page_BC7A
    //End game music.
    word: tourian_page_BC86
    //Intro music.
    word: tourian_page_BC7A
    //No sound.
    word: tourian_page_B4EE
    //Samus hit init SFX.
    word: tourian_page_B673
    //Boss hit init SFX.
    word: tourian_page_B5EC
    //Incorrect password init SFX.
    word: tourian_page_B695

//Multi channel continue SFX handling routine addresses:

def tourian_page_BC16:
    //No sound.
    word: tourian_page_B4EE
    //No sound.
    word: tourian_page_B4EE
    //No sound.
    word: tourian_page_B4EE
    //No sound.
    word: tourian_page_B4EE
    //No sound.
    word: tourian_page_B4EE
    //Samus hit continue SFX.
    word: tourian_page_B650
    //Boss hit continue SFX.
    word: tourian_page_B5F6
    //Incorrect password continue SFX.
    word: tourian_page_B6A1

//Music handling routine addresses:

def tourian_page_BC26:
    //Ridley area music.
    word: tourian_page_BC83
    //Tourian music.
    word: tourian_page_BC77
    //Item room music.
    word: tourian_page_BC77
    //Kraid area music.
    word: tourian_page_BC77
    //Norfair music.
    word: tourian_page_BC80
    //Escape music.
    word: tourian_page_BC7D
    //Mother brain music.
    word: tourian_page_BC77
    //Brinstar music.
    word: tourian_page_BC80

//-----------------------------------[ Entry point for music routines ]--------------------------------

def loadmusictempflags:

    //Load A with temp music flags, (9th SFX cycle).
    a = [currentmusicrepeat]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0xb6
    //Branch always.
    goto _005C when ~zero

def loadmusicinitflags:

    //Load A with Music flags, (10th SFX cycle).
    a = [musicinitflag]
    //Lower address byte in ChooseNextSFXRoutineTbl.
    x = 0xb1
def _005C:
    //($B4BD)Checks to see if SFX or music flags set.
    call checksfxflag
    //($BC53)Find bit containing music init flag.
    call findmusicinitindex
    //If no flag found, Jump to next SFX cycle,-->
    goto [0xe2]
                    //else jump to specific SFX handling subroutine.

def continuemusic:
                //11th and last SFX cycle.
    a = [currentmusic]
    //Branch to exit of no music playing.
    goto _005F when zero
    //($BAA5)Load info for current frame of music data.
    goto loadcurrentmusicframedata

//MusicInitIndex values correspond to the following music:
//#$00=Ridley area music, #$01=Tourian music, #$02=Item room music, #$03=Kraid area music,
//#$04=Norfair music, #$05=Escape music, #$06=Mother brain music, #$07=Brinstar music,
//#$08=Fade in music, #$09=Power up music, #$0A=End game music, #$0B=Intro music.

def findmusicinitindex:

    //Load MusicInitIndex with #$FF.
    a = 0xff
    [musicinitindex] = a
    a = [currentsfxflags]
    //Branch to exit if no SFX flags set for Multi SFX.
    goto _005E when zero
def _005D:
    [musicinitindex]++
    //Shift left until bit flag is in carry bit.
    a = a << 1
    //Loop until SFX flag found.  Store bit-->
    goto _005D when ~carry
def _005E:
    //number of music in MusicInitIndex.
    return

//The following routine is used to add eight to the music index when looking for music flags
//in the MultiSFX address.  
def add8:

    a = [musicinitindex]
    carry = 0
    //Add #$08 to MusicInitIndex.
    a = a +# 0x8
    [musicinitindex] = a
    return

    a = [currentmusic]
    //This code does not appear to be used in this page.
    a = a | 0xf0
    [currentmusic] = a
def _005F:
    return

def music00start:

def tourian_page_BC77:
    //($BCAA)Initialize music 00.
    goto music00init

def music01start:

def tourian_page_BC7A:
    //($BCA4)Initialize music 01.
    goto music01init

def music02start:

def tourian_page_BC7D:
    //($BC9A)Initialize music 02.
    goto music02init

def msic03start:

def tourian_page_BC80:
    //($BC96)Initialize music 03.
    goto music03init

def music04start:

def tourian_page_BC83:
    //($BC89)Initialize music 04.
    goto music04init

def music05start:

def tourian_page_BC86:
    //($BC9E)Initialize music 05.
    goto music05init

def music04init:

    //Duty cycle and volume data for SQ1 and SQ2.
    a = 0xb3

def xymusicinit:

def _0060:
    //Duty cycle and volume data for SQ1.
    x = a
    //Duty cycle and volume data for SQ2.
    y = a

def _0061:
    //($B9E4)Set duty cycle and volume data for SQ1 and SQ2.
    call setvolumeanddisablesweep
    //($BF19)Setup music registers.
    call initializemusic
    //($BAA5)Load info for current frame of music data.
    goto loadcurrentmusicframedata

def music03init:

    //Duty cycle and volume data for SQ1 and SQ2.
    a = 0x34
    //Branch always
    goto _0060 when ~zero

def music02init:

    //Duty cycle and volume data for SQ1 and SQ2.
    a = 0xf4
    //Branch always
    goto _0060 when ~zero

def music05init:

    //Duty cycle and volume data for SQ1.
    x = 0xf5
    //Duty cycle and volume data for SQ2.
    y = 0xf6
    //Branch always
    goto _0061 when ~zero

def music01init:

    //Duty cycle and volume data for SQ1.
    x = 0xb6
    //Duty cycle and volume data for SQ2.
    y = 0xf6
    //Branch always
    goto _0061 when ~zero

def music00init:

    //Duty cycle and volume data for SQ1.
    x = 0x92
    //Duty cycle and volume data for SQ2.
    y = 0x96
    //Branch always
    goto _0061 when ~zero

//The following address table provides starting addresses of the volume data tables below:
def volumecntrladdresstbl:

    word: tourian_page_BCBA, 0xbcc5, 0xbccf, 0xbcda, 0xbd03

def volumedatatbl1:

def tourian_page_BCBA:
    byte: 0x1, 0x2, 0x2, 0x3, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0xff

def volumedatatbl2:

    byte: 0x2, 0x4, 0x5, 0x6, 0x7, 0x8, 0x7, 0x6, 0x5, 0xff

def volumedatatbl3:

    byte: 0x0, 0xd, 0x9, 0x7, 0x6, 0x5, 0x5, 0x5, 0x4, 0x4, 0xff

def volumedatatbl4:

    byte: 0x2, 0x6, 0x7, 0x7, 0x7, 0x6, 0x6, 0x6, 0x6, 0x5, 0x5, 0x5, 0x4, 0x4, 0x4, 0x3
    byte: 0x3, 0x3, 0x3, 0x2, 0x3, 0x3, 0x3, 0x3, 0x3, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2
    byte: 0x2, 0x2, 0x2, 0x1, 0x1, 0x1, 0x1, 0x1, 0xf0

def volumedatatbl5:

    byte: 0xa, 0xa, 0x9, 0x8, 0x7, 0x6, 0x5, 0x4, 0x3, 0x2, 0x7, 0x7, 0x6, 0x5, 0x4, 0x4
    byte: 0x3, 0x2, 0x2, 0x2, 0x5, 0x5, 0x5, 0x4, 0x3, 0x2, 0x2, 0x2, 0x1, 0x1, 0x4, 0x4
    byte: 0x3, 0x2, 0x1, 0x2, 0x2, 0x1, 0x1, 0x1, 0x2, 0x2, 0x2, 0x1, 0x1, 0xf0

//The init music table loads addresses $062B thru $0637 with the initial data needed to play the
//selected music.  The data for each entry in the table have the following format:
//.byte $xx, $xx, $xx, $xx, $xx : .word $xxxx, $xxxx, $xxxx, $xxxx.
//The first five bytes have the following functions:
//Byte 0=index to proper note length table.  Will be either #$00, #$0B or #$17.
//Byte 1=Repeat music byte. #$00=no repeat, any other value and the music repeats.
//Byte 2=Controls length counter for triangle channel.
//Byte 3=Volume control byte for SQ1.
//Byte 4=Volume control byte for SQ2.
//Address 0=Base address of SQ1 music data.
//Address 1=Base address of SQ2 music data.
//Address 2=Base address of triangle music data.
//Address 3=Base address of noise music data.

def initmusictbl:


//Mother brain music.
    byte: 0xb, 0xff, 0xf5, 0x0, 0x0
    word: tourian_page_B18C, 0xb18e, 0xb161, 0x0

//Escape music.
    byte: 0xb, 0xff, 0x0, 0x2, 0x2
    word: tourian_page_B04D, 0xb000, 0xb0cf, 0xb15a

//Norfair music(not used this memory page).
    byte: 0xb, 0xff, 0xf0, 0x4, 0x4
    word: 0x100, 0x300, 0x500, 0x700

//Kraid area music(not used this memory page).
    byte: 0x0, 0xff, 0xf0, 0x0, 0x0
    word: 0x100, 0x300, 0x500, 0x0

//Item room music.
    byte: 0xb, 0xff, 0x3, 0x0, 0x0
    word: tourian_page_BDDA, 0xbddc, 0xbdcd, 0x0

//Ridley area music(not used this memory page).
    byte: 0xb, 0xff, 0xf0, 0x1, 0x1
    word: 0x100, 0x300, 0x500, 0x0

//End game music(not used this memory page).
    byte: 0x17, 0x0, 0x0, 0x2, 0x1
    word: 0x100, 0x300, 0x500, 0x700

//Intro music(not used this memory page).
    byte: 0x17, 0x0, 0xf0, 0x2, 0x5
    word: 0x100, 0x300, 0x500, 0x700

//Fade in music
    byte: 0xb, 0x0, 0xf0, 0x2, 0x0
    word: tourian_page_BE3E, 0xbe1d, 0xbe36, 0x0

//Power up music
    byte: 0x0, 0x0, 0xf0, 0x1, 0x0
    word: tourian_page_BDF7, 0xbe0d, 0xbe08, 0x0

//Brinstar music(not used this memory page).
    byte: 0xb, 0xff, 0x0, 0x2, 0x3
    word: 0x100, 0x300, 0x500, 0x700

//Tourian music
    byte: 0xb, 0xff, 0x3, 0x0, 0x0
    word: tourian_page_BE59, 0xbe47, 0xbe62, 0x0

def itemroomtriangleindexdata:

    byte: 0xc8
    //3/32 seconds    +
    byte: 0xb0
    //E3        |
    byte: 0x38
    //F3        |
    byte: 0x3a
    //F#3        |
    byte: 0x3c
    //G3        |
    byte: 0x3e
    //Ab3        | Repeat 8 times
    byte: 0x40
    //G3        |
    byte: 0x3e
    //F#3        |
    byte: 0x3c
    //F3        |
    byte: 0x3a
    //1 3/16 seconds    |
    byte: 0xb6
    //no sound    +
    byte: 0x2
    byte: 0xff

def itemroomsq1indexdata:

def tourian_page_BDDA:
    //1/4 seconds
    byte: 0xb8
    //No sound
    byte: 0x2

def itemroomsq2indexdata:

    //3/4 seconds
    byte: 0xb3
    //No sound
    byte: 0x2
    //3/8 seconds
    byte: 0xb2
    //A#6
    byte: 0x74
    //No sound
    byte: 0x2
    //F5
    byte: 0x6a
    //No sound
    byte: 0x2
    //A6
    byte: 0x72
    //No sound
    byte: 0x2
    //C#5
    byte: 0x62
    //1 1/2 seconds
    byte: 0xb4
    //No sound
    byte: 0x2
    //3/8 seconds
    byte: 0xb2
    //C5
    byte: 0x60
    //No sound
    byte: 0x2
    //F#5
    byte: 0x6c
    //No sound
    byte: 0x2
    //B6
    byte: 0x76
    //3/4 seconds
    byte: 0xb3
    //No sound
    byte: 0x2
    //3/8 seconds
    byte: 0xb2
    //F6
    byte: 0x7e
    //No sound
    byte: 0x2
    //D6
    byte: 0x7c
    //3/4 seconds
    byte: 0xb3
    //No sound
    byte: 0x2
    //End item room music.
    byte: 0x0

def powerupsq1indexdata:

def tourian_page_BDF7:
    //1/2 seconds
    byte: 0xb3
    //C4
    byte: 0x48
    //A4
    byte: 0x42
    //1/4 seconds
    byte: 0xb2
    //G3
    byte: 0x3e
    //E3
    byte: 0x38
    //C3
    byte: 0x30
    //E3
    byte: 0x38
    //D4
    byte: 0x4c
    //A#4
    byte: 0x44
    //G3
    byte: 0x3e
    //D#3
    byte: 0x36
    byte: 0xc8
    //1/16 seconds    +
    byte: 0xb0
    //E3        | Repeat 8 times
    byte: 0x38
    //F#3        +
    byte: 0x3c
    byte: 0xff

def poweruptriangleindexdata:

    //1 second
    byte: 0xb4
    //A#3
    byte: 0x2c
    //A3
    byte: 0x2a
    //D#2
    byte: 0x1e
    //D2
    byte: 0x1c

def powerupsq2indexdata:

    //1/4 seconds
    byte: 0xb2
    //F2
    byte: 0x22
    //A#3
    byte: 0x2c
    //C3
    byte: 0x30
    //D3
    byte: 0x34
    //E3
    byte: 0x38
    //C3
    byte: 0x30
    //G2
    byte: 0x26
    //C3
    byte: 0x30
    //F3
    byte: 0x3a
    //D3
    byte: 0x34
    //A#3
    byte: 0x2c
    //G2
    byte: 0x26
    //1 second
    byte: 0xb4
    //A3
    byte: 0x2a
    //End power up music.
    byte: 0x0

def fadeinsq2indexdata:

    byte: 0xc4
    //3/32 seconds    +
    byte: 0xb0
    //G3        | Repeat 4 times
    byte: 0x3e
    //C3        +
    byte: 0x30
    byte: 0xff
    byte: 0xc4
    //A4        + Repeat 4 times
    byte: 0x42
    //C3        +
    byte: 0x30
    byte: 0xff
    byte: 0xc4
    //F3        + Repeat 4 times
    byte: 0x3a
    //A#3        +
    byte: 0x2c
    byte: 0xff
    byte: 0xc4
    //E3        + Repeat 4 times
    byte: 0x38
    //G2        +
    byte: 0x26
    byte: 0xff
    byte: 0xc4
    //D3        + Repeat 4 times
    byte: 0x34
    //E2        +
    byte: 0x20
    byte: 0xff
    byte: 0xe0
    //D3        + Repeat 32 times
    byte: 0x34
    //F#2        +
    byte: 0x24
    byte: 0xff

def fadeintriangleindexdata:

    //3/4 seconds
    byte: 0xb3
    //D#3
    byte: 0x36
    //D3
    byte: 0x34
    //C3
    byte: 0x30
    //A3
    byte: 0x2a
    //1 1/2 seconds
    byte: 0xb4
    //D2
    byte: 0x1c
    //D2
    byte: 0x1c

def fadeinsq1indexdata:

def tourian_page_BE3E:
    //3/4 seconds
    byte: 0xb3
    //D3
    byte: 0x34
    //F3
    byte: 0x3a
    //D3
    byte: 0x34
    //C3
    byte: 0x30
    //1 1/2 seconds
    byte: 0xb4
    //A3
    byte: 0x2a
    //A3
    byte: 0x2a
    //End fade in music.
    byte: 0x0

def touriansq2indexdata:

    //1 1/2 seconds
    byte: 0xb4
    //A2
    byte: 0x12
    //3/4 seconds
    byte: 0xb3
    //Ab1
    byte: 0x10
    //C2
    byte: 0x18
    //B2
    byte: 0x16
    //F1
    byte: 0xa
    //1 1/2 seconds
    byte: 0xb4
    //A#2
    byte: 0x14
    //A2
    byte: 0x12
    //3/4 seconds
    byte: 0xb3
    //Ab1
    byte: 0x10
    //D1
    byte: 0x6
    //G1
    byte: 0xe
    //C#1
    byte: 0x4
    //1 1/2 seconds
    byte: 0xb4
    //F#1
    byte: 0xc
    //End Tourian music.
    byte: 0x0

def touriansq1indexdata:

def tourian_page_BE59:
    byte: 0xe0
    //3/32 seconds    +
    byte: 0xb0
    //F#4        |
    byte: 0x54
    //D#4        |
    byte: 0x4e
    //C4        | Repeat 32 times
    byte: 0x48
    //A4        |
    byte: 0x42
    //C4        |
    byte: 0x48
    //D#4        +
    byte: 0x4e
    byte: 0xff

def touriantriangleindexdata:

    byte: 0xe0
    //3/4 seconds    +
    byte: 0xb3
    //No sound    |
    byte: 0x2
    //3/32 seconds    |
    byte: 0xb0
    //F#3        |
    byte: 0x3c
    //Ab3        |
    byte: 0x40
    //A#4        |
    byte: 0x44
    //C#4        |
    byte: 0x4a
    //D#4        |
    byte: 0x4e
    //F#4        |
    byte: 0x54
    //Ab4        | Repeat 32 times
    byte: 0x58
    //A#5        |
    byte: 0x5c
    //C#5        |
    byte: 0x62
    //D#5        |
    byte: 0x66
    //F#5        |
    byte: 0x6c
    //Ab5        |
    byte: 0x70
    //A#6        |
    byte: 0x74
    //C#6        |
    byte: 0x7a
    //3/4 seconds    |
    byte: 0xb3
    //No sound    +
    byte: 0x2
    byte: 0xff

//The following table contains the musical notes used by the music player.  The first byte is
//the period high information(3 bits) and the second byte is the period low information(8 bits).
//The formula for figuring out the frequency is as follows: 1790000/16/(hhhllllllll + 1)

def musicnotestbl:

    //55.0Hz (A1)    Index #$00 (Not used)
    byte: 0x7
    byte: 0xf0

    //No sound    Index #$02
    byte: 0x0
    byte: 0x0

    //69.3Hz (C#2)    Index #$04
    byte: 0x6
    byte: 0x4e

    //73.4Hz (D2)    Index #$06
    byte: 0x5
    byte: 0xf3

    //82.4Hz (E2)    Index #$08
    byte: 0x5
    byte: 0x4d

    //87.3Hz (F2)    Index #$0A
    byte: 0x5
    byte: 0x1

    //92.5Hz (F#2)    Index #$0C
    byte: 0x4
    byte: 0xb9

    //98.0Hz (G2)    Index #$0E
    byte: 0x4
    byte: 0x75

    //103.8Hz (Ab2)    Index #$10
    byte: 0x4
    byte: 0x35

    //110.0Hz (A2)    Index #$12
    byte: 0x3
    byte: 0xf8

    //116.5Hz (A#2)    Index #$14
    byte: 0x3
    byte: 0xbf

    //123.5Hz (B2)    Index #$16
    byte: 0x3
    byte: 0x89

    //130.7Hz (C3)    Index #$18
    byte: 0x3
    byte: 0x57

    //138.5Hz (C#3)    Index #$1A
    byte: 0x3
    byte: 0x27

    //146.8Hz (D3)    Index #$1C
    byte: 0x2
    byte: 0xf9

    //155.4Hz (D#3)    Index #$1E
    byte: 0x2
    byte: 0xcf

    //164.8Hz (E3)    Index #$20
    byte: 0x2
    byte: 0xa6

    //174.5Hz (F3)    Index #$22
    byte: 0x2
    byte: 0x80

    //184.9Hz (F#3)    Index #$24
    byte: 0x2
    byte: 0x5c

    //196.0Hz (G3)    Index #$26
    byte: 0x2
    byte: 0x3a
    
    //207.6Hz (Ab3)    Index #$28
    byte: 0x2
    byte: 0x1a

    //219.8Hz (A3)    Index #$2A
    byte: 0x1
    byte: 0xfc

    //233.1Hz (A#3)    Index #$2C
    byte: 0x1
    byte: 0xdf

    //247.0Hz (B3)    Index #$2E
    byte: 0x1
    byte: 0xc4

    //261.4Hz (C4)    Index #$30
    byte: 0x1
    byte: 0xab

    //276.9Hz (C#4)    Index #$32
    byte: 0x1
    byte: 0x93

    //293.6Hz (D4)    Index #$34
    byte: 0x1
    byte: 0x7c

    //310.8Hz (D#4)    Index #$36
    byte: 0x1
    byte: 0x67

    //330.0Hz (E4)    Index #$38
    byte: 0x1
    byte: 0x52

    //349.6Hz (F4)    Index #$3A
    byte: 0x1
    byte: 0x3f

    //370.4Hz (F#4)    Index #$3C
    byte: 0x1
    byte: 0x2d

    //392.5Hz (G4)    Index #$3E
    byte: 0x1
    byte: 0x1c

    //415.9Hz (Ab4)    Index #$40
    byte: 0x1
    byte: 0xc

    //440.4Hz (A4)    Index #$42
    byte: 0x0
    byte: 0xfd

    //468.1Hz (A#4)    Index #$44
    byte: 0x0
    byte: 0xee

    //495.0Hz (B4)    Index #$46
    byte: 0x0
    byte: 0xe1

    //525.2Hz (C5)    Index #$48
    byte: 0x0
    byte: 0xd4

    //556.6Hz (C#5)    Index #$4A
    byte: 0x0
    byte: 0xc8

    //588.8Hz (D5)    Index #$4C
    byte: 0x0
    byte: 0xbd

    //625.0Hz (D#5)    Index #$4E
    byte: 0x0
    byte: 0xb2

    //662.0Hz (E5)    Index #$50
    byte: 0x0
    byte: 0xa8

    //699.2Hz (F5)    Index #$52
    byte: 0x0
    byte: 0x9f

    //740.9Hz (F#5)    Index #$54
    byte: 0x0
    byte: 0x96

    //787.9Hz (G5)    Index #$56
    byte: 0x0
    byte: 0x8d

    //834.9Hz (Ab5)    Index #$58
    byte: 0x0
    byte: 0x85

    //880.9HZ (A5)    Index #$5A
    byte: 0x0
    byte: 0x7e

    //940.1Hz (A#5)    Index #$5C
    byte: 0x0
    byte: 0x76

    //990.0Hz (B5)    Index #$5E
    byte: 0x0
    byte: 0x70

    //1055Hz (C6)    Index #$60
    byte: 0x0
    byte: 0x69

    //1118Hz (C#6)    Index #$62
    byte: 0x0
    byte: 0x63

    //1178Hz (D6)    Index #$64
    byte: 0x0
    byte: 0x5e

    //1257Hz (D#6)    Index #$66
    byte: 0x0
    byte: 0x58

    //1332Hz (E6)    Index #$68
    byte: 0x0
    byte: 0x53

    //1398Hz (F6)    Index #$6A
    byte: 0x0
    byte: 0x4f

    //1492Hz (F#6)    Index #$6C
    byte: 0x0
    byte: 0x4a

    //1576Hz (G6)    Index #$6E
    byte: 0x0
    byte: 0x46

    //1670Hz (Ab6)    Index #$70
    byte: 0x0
    byte: 0x42

    //1776Hz (A6)    Index #$72
    byte: 0x0
    byte: 0x3e

    //1896Hz (A#6)    Index #$74
    byte: 0x0
    byte: 0x3a

    //1998Hz (B6)    Index #$76
    byte: 0x0
    byte: 0x37

    //2111Hz (C7)    Index #$78
    byte: 0x0
    byte: 0x34

    //2238Hz (C#7)    Index #$7A
    byte: 0x0
    byte: 0x31

    //2380Hz (D7)    Index #$7C
    byte: 0x0
    byte: 0x2e

    //2796Hz (F7)    Index #$7E
    byte: 0x0
    byte: 0x27

//The following tables are used to load the music frame count addresses ($0640 thru $0643). The
//larger the number, the longer the music will play a solid note.  The number represents how
//many frames the note will play.  There is a small discrepancy in time length because the
//Nintendo runs at 60 frames pers second and I am using 64 frames per second to make the
//numbers below divide more evenly.

//Used by power up music and Kraid area music.

def notelengths0tbl:

    //About    1/16 seconds ($B0)
    byte: 0x4
    //About    1/8  seconds ($B1)
    byte: 0x8
    //About    1/4  seconds ($B2)
    byte: 0x10
    //About    1/2  seconds ($B3)
    byte: 0x20
    //About 1       seconds ($B4)
    byte: 0x40
    //About    3/8  seconds ($B5)
    byte: 0x18
    //About    3/4  seconds ($B6)
    byte: 0x30
    //About    3/16 seconds ($B7)
    byte: 0xc
    //About   11/64 seconds ($B8)
    byte: 0xb
    //About    5/64 seconds ($B9)
    byte: 0x5
    //About    1/32 seconds ($BA)
    byte: 0x2

//Used by item room, fade in, Brinstar music, Ridley area music, Mother brain music,
//escape music, Norfair music and Tourian music.

def notelengths1tbl:

    //About    3/32 seconds ($B0)
    byte: 0x6
    //About    3/16 seconds ($B1)
    byte: 0xc
    //About    3/8  seconds ($B2)
    byte: 0x18
    //About    3/4  seconds ($B3)
    byte: 0x30
    //About 1  1/2  seconds ($B4)
    byte: 0x60
    //About    9/16 seconds ($B5)
    byte: 0x24
    //About 1  3/16 seconds ($B6)
    byte: 0x48
    //About    9/32 seconds ($B7)
    byte: 0x12
    //About    1/4  seconds ($B8)
    byte: 0x10
    //About    1/8  seconds ($B9)
    byte: 0x8
    //About    3/64 seconds ($BA)
    byte: 0x3

//Used by intro and end game music.

def notelengths2tbl:

    //About    1/4  seconds ($B0)
    byte: 0x10
    //About    7/64 seconds ($B1)
    byte: 0x7
    //About    7/32 seconds ($B2)
    byte: 0xe
    //About    7/16 seconds ($B3)
    byte: 0x1c
    //About    7/8  seconds ($B4)
    byte: 0x38
    //About 1 13/16 seconds ($B5)
    byte: 0x70
    //About   21/32 seconds ($B6)
    byte: 0x2a
    //About 1  5/16 seconds ($B7)
    byte: 0x54
    //About   21/64 seconds ($B8)
    byte: 0x15
    //About    9/32 seconds ($B9)
    byte: 0x12
    //About    1/32 seconds ($BA)
    byte: 0x2
    //About    3/64 seconds ($BB)
    byte: 0x3

def initializemusic:
                    
    //($B3FC)Check to see if restarting current music.
    call checkmusicflags
    //Load current SFX flags and store CurrentMusic address.
    a = [currentsfxflags]
    [currentmusic] = a
    a = [musicinitindex]
    y = a
    //($BBFA)Find index for music in InitMusicInitIndexTbl.
    a = [initmusicindextbl:y]
    y = a
    x = 0x0

def _0062:
    //Base is $BD31.
    a = [initmusictbl:y]
    [notelengthtbloffset:x] = a
    //The following loop repeats 13 times to-->
    y++
    //load the initial music addresses -->
    x++
    //(registers $062B thru $0637).
    a = x
    compare a to 0xd
    goto _0062 when ~zero

    //Resets addresses $0640 thru $0643 to #$01.-->
    a = 0x1
    //These addresses are used for counting the-->
    [sq1musicframecount] = a
    //number of frames music channels have been playing.
    [sq2musicframecount] = a
    [trianglemusicframecount] = a
    [noisemusicframecount] = a
    a = 0x0
    [sq1musicindexindex] = a
    //Resets addresses $0638 thru $063B to #$00.-->
    [sq2musicindexindex] = a
    //These are the index to find sound channel data index.
    [trianglemusicindexindex] = a
    [noisemusicindexindex] = a
    return

//The following data is a repeat of the above routine and is not used.

    byte: 0x10, 0x7, 0xe, 0x1c, 0x38, 0x70, 0x2a, 0x54, 0x15, 0x12, 0x2, 0x3, 0x20, 0x2c, 0xb4, 0xad
    byte: 0x4d, 0x6, 0x8d, 0x8d, 0x6, 0xad, 0x5e, 0x6, 0xa8, 0xb9, 0x2a, 0xbc, 0xa8, 0xa2, 0x0, 0xb9
    byte: 0x61, 0xbd, 0x9d, 0x2b, 0x6, 0xc8, 0xe8, 0x8a, 0xc9, 0xd, 0xd0, 0xf3, 0xa9, 0x1, 0x8d, 0x40
    byte: 0x6, 0x8d, 0x41, 0x6, 0x8d, 0x42, 0x6, 0x8d, 0x43, 0x6, 0xa9, 0x0, 0x8d, 0x38, 0x6, 0x8d
    byte: 0x39, 0x6, 0x8d, 0x3a, 0x6, 0x8d, 0x3b, 0x6, 0x60, 0xff, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0

//----------------------------------------------[ RESET ]--------------------------------------------

def reset:

    //Disables interrupt.
    interrupt = 1
    //Sets processor to binary mode.
    decimal = 0
    x = 0x0
    //Clear PPU control registers.
    [ppucontrol0] = x
    [ppucontrol1] = x
def _0063:
    a = [ppustatus]
    //Wait for VBlank.
    goto _0063 when ~negative
def _0064:
    a = [ppustatus]
    goto _0064 when ~negative
    a = a | 0xff
    //Reset MMC1 chip.-->
    [mmc1reg0] = a
    //(MSB is set).
    [mmc1reg1] = a
    [mmc1reg2] = a
    [mmc1reg3] = a
    //($C01A)Does preliminry housekeeping.
    goto startup

//The following data is not used. 

    byte: 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0
    byte: 0x0, 0x0, 0x0, 0x0, 0x0

//----------------------------------------[ Interrupt vectors ]--------------------------------------

    //($C0D9)NMI vector.
    word: nmi
    //($FFB0)Reset vector.
    word: reset
    //($FFB0)IRQ vector.
    word: reset
end
